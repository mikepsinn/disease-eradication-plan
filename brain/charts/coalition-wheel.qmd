```{python}
#| label: coalition-wheel
#| fig-cap: "Everyone Profits from the 1% Treaty"

import sys
import os
from pathlib import Path

# Add project root to path (find it relative to current working directory)
project_root = Path.cwd()
if project_root.name != 'decentralized-institutes-of-health':
    while project_root.name != 'decentralized-institutes-of-health' and project_root.parent != project_root:
        project_root = project_root.parent
sys.path.insert(0, str(project_root))

import matplotlib.pyplot as plt
import numpy as np
from brain.charts._chart_style import (
    setup_chart_style, add_watermark,
    COLOR_BLACK, COLOR_BLUE, COLOR_WHITE
)

# Setup styling
setup_chart_style(style='light', dpi=150)

# Data
coalition = ['Defense\nContractors', 'Big Pharma', 'Insurance', 'Investors', 'Patients', 'Nonprofits']
benefits = [40, 35, 45, 40, 50, 35]  # Relative benefit scores
colors_coalition = [COLOR_BLUE] * len(coalition)  # All stakeholders benefit - use blue

# Create chart
fig, ax = plt.subplots(figsize=(10, 10), subplot_kw=dict(projection='polar'))
theta = np.linspace(0, 2 * np.pi, len(coalition), endpoint=False)
bars = ax.bar(theta, benefits, width=0.8, bottom=0, color=colors_coalition,
              edgecolor=COLOR_WHITE, linewidth=2, alpha=0.9)

ax.set_xticks(theta)
ax.set_xticklabels(coalition, fontsize=24, weight='bold', color=COLOR_BLACK)
ax.set_ylim(0, 60)
ax.set_yticks([])
ax.spines['polar'].set_visible(False)
ax.grid(False)  # Remove gridlines for cleaner look
# Remove title - let context provide it
# ax.set_title('Everyone Profits', fontsize=40, pad=30, weight='bold', color=COLOR_BLACK)

# Add branding
add_watermark(fig)

#plt.tight_layout()  # Disabled - using rcParams margins instead

# Save in brain/charts directory
output_dir = project_root / 'brain' / 'charts'
output_dir.mkdir(parents=True, exist_ok=True)
plt.savefig(output_dir / 'coalition-wheel.png', dpi=200, bbox_inches=None, facecolor=COLOR_WHITE)
plt.show()
```

