```{python}
#| label: war-true-total-cost
#| fig-cap: "The True Cost of War: $9.7 Trillion (Including Hidden Costs)"

import matplotlib.pyplot as plt
import sys
from pathlib import Path

# Ensure project root is in path
sys.path.insert(0, str(Path.cwd()))


import matplotlib.pyplot as plt
from brain.charts._chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_RED, COLOR_WHITE
)

# Setup neobrutalist styling
setup_chart_style(style='light', dpi=150)

# Create chart
fig, ax = plt.subplots(figsize=(14, 10))

# Data - showing both admitted and true cost for comparison
categories = ['Military\n(Admitted)', 'War\n(True Cost)']
values = [2.7, 9.7]  # In trillions
colors = ['#FFFF00', '#FFA500']  # Yellow to orange

# Bars
bars = ax.bar(categories, values, color=colors,
              edgecolor=COLOR_BLACK, linewidth=4, width=0.6)

# Add value labels
for i, (bar, value) in enumerate(zip(bars, values)):
    height = bar.get_height()
    ax.text(bar.get_x() + bar.get_width()/2., height/2,
            f'${value}T', ha='center', va='center',
            color=COLOR_BLACK if i == 0 else COLOR_WHITE,
            fontsize=42, fontweight='bold')

# Add multiplier
ax.annotate('3.6X\nBIGGER', xy=(0.5, 6),
           fontsize=36, color=COLOR_RED, fontweight='bold',
           ha='center', va='center')

# Arrow showing the hidden costs
ax.annotate('', xy=(1, 9.5), xytext=(0, 2.7),
           arrowprops=dict(arrowstyle='->', lw=4, color=COLOR_RED))

# Label the difference
ax.text(1.4, 6, '+$7T\nHIDDEN\nCOSTS', ha='center', va='center',
        fontsize=20, color=COLOR_RED, fontweight='bold',
        bbox=dict(boxstyle='round', facecolor='yellow', edgecolor=COLOR_BLACK, linewidth=3))

# Formatting
ax.set_ylim(0, 11)
ax.set_yticks([])  # Remove y-axis - values are on the bars
ax.tick_params(colors=COLOR_BLACK, labelsize=16)

# Brutal borders
for spine in ['top', 'right', 'left']:
    ax.spines[spine].set_visible(False)
ax.spines['bottom'].set_color(COLOR_BLACK)
ax.spines['bottom'].set_linewidth(4)

# Add watermark
add_watermark(fig)

# Save the figure
plt.savefig('brain/figures/war-true-total-cost-9.7-trillion.png',
            dpi=300, bbox_inches='tight', facecolor='white')
plt.tight_layout()
plt.show()

# Print details
print("\nðŸ’£ THE TRUE COST OF WAR:")
print(f"  Admitted: $2.7 trillion")
print(f"  + Infrastructure destroyed: $2.4T")
print(f"  + Veterans healthcare: $500B")
print(f"  + Refugee crisis: $800B")
print(f"  + Trade disruption: $1.5T")
print(f"  + Human capital loss: $2.0T")
print(f"  = TOTAL: $9.7 TRILLION per year")
print(f"\nThat's $307,500 per second wasted on death")
```