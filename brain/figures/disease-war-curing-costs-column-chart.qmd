```{python}
#| label: disease-war-curing-costs-column-chart
#| fig-cap: "Cost of Disease vs War Costs vs Curing Diseases"

import sys
import os
from pathlib import Path

# Add project root to path (find it relative to current working directory)
project_root = Path.cwd()
if project_root.name != 'decentralized-institutes-of-health':
    while project_root.name != 'decentralized-institutes-of-health' and project_root.parent != project_root:
        project_root = project_root.parent
sys.path.insert(0, str(project_root))

import matplotlib.pyplot as plt
import numpy as np
from brain.figures._chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_RED, COLOR_BLUE, COLOR_WHITE
)

# Setup styling
setup_chart_style(style='light', dpi=150)

# Disease burden (from cost-of-disease.qmd)
disease_medical = 9900  # Direct medical costs
disease_productivity = 5000  # Lost productivity
disease_lives = 94200  # Lost human life (DALYs)
disease_total = disease_medical + disease_productivity + disease_lives  # $109.1T

# War costs breakdown
war_direct = 2720  # Direct military spending
war_infrastructure = 1875  # Infrastructure destruction
war_lives_trade = 1616  # Human life losses + trade disruption
war_longterm = 3538  # Lost growth, veterans, refugees, environment
war_indirect_total = war_infrastructure + war_lives_trade + war_longterm

# Cure research spending
cure_total = 68  # Global government medical research spending

categories = [
    'Cost of\nDisease',
    'War\'s Hidden\nCosts',
    'War Direct\nSpending',
    'Curing\nDiseases'
]

# Create figure
fig, ax = plt.subplots(figsize=(28, 12))

# Column 1: Disease Burden (RED - problem) - WITH KEY COMPONENTS
ax.bar(0, disease_total, color=COLOR_RED, edgecolor=COLOR_WHITE, linewidth=3, width=0.8)
ax.text(0, disease_total * 0.75, '$109T', ha='center', va='center',
        fontsize=96, weight='bold', color=COLOR_WHITE)
ax.text(0, disease_total * 0.65, 'Disease Burden', ha='center', va='center',
        fontsize=40, weight='bold', color=COLOR_WHITE)
# Add breakdown - simple and clear
disease_breakdown = (
    'Medical: $10T\n'
    'Lost Work: $5T\n'
    'Lost Lives: $94T\n\n'
    '55M Deaths/Year'
)
ax.text(0, disease_total * 0.35, disease_breakdown, ha='center', va='center',
        fontsize=32, weight='bold', color=COLOR_WHITE, linespacing=1.4)

# Column 2: War Indirect Costs (RED - problem) - NO BREAKDOWN
ax.bar(1, war_indirect_total, color=COLOR_RED, edgecolor=COLOR_WHITE, linewidth=3, width=0.8)
ax.text(1, war_indirect_total + (disease_total * 0.005), '$7T\nWar\'s Hidden Costs',
        ha='center', va='bottom', fontsize=48, weight='bold', color=COLOR_BLACK, linespacing=1.2)

# Column 3: War Direct Spending (RED - problem)
ax.bar(2, war_direct, color=COLOR_RED, edgecolor=COLOR_WHITE, linewidth=3, width=0.8)
ax.text(2, war_direct + (disease_total * 0.005), '$2.7T\nDirect Military',
        ha='center', va='bottom', fontsize=48, weight='bold', color=COLOR_BLACK, linespacing=1.2)

# Column 4: Cure Research Spending (BLUE - solution)
ax.bar(3, cure_total, color=COLOR_BLUE, edgecolor=COLOR_WHITE, linewidth=3, width=0.8)
ax.text(3, cure_total + (disease_total * 0.005), f'${cure_total:.0f}B\nCuring Diseases',
        ha='center', va='bottom', fontsize=44, weight='bold', color=COLOR_BLACK, linespacing=1.2)

# Remove all axis labels and ticks (all columns are labeled with amounts)
ax.set_xticks([])
ax.set_xticklabels([])
ax.set_yticks([])
ax.set_yticklabels([])

# Remove all spines for ultra-clean look
clean_spines(ax, ['top', 'right', 'left', 'bottom'])

# Add branding
add_watermark(fig)

# Save in brain/charts directory
import os
output_dir = project_root / 'brain' / 'charts'
output_dir.mkdir(parents=True, exist_ok=True)
plt.savefig(output_dir / 'disease-war-curing-costs-column-chart.png', dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)
plt.show()
```
