---
title: Military vs. Disease Research Funding
description: Bar chart comparing military spending to disease-specific research funding
jupyter: dih-project-kernel
---

```{python}
#| echo: false
import sys
import os

# Import parameters
appendix_path = os.path.join(os.getcwd(), 'brain', 'book', 'appendix')
if appendix_path not in sys.path:
    sys.path.insert(0, appendix_path)

from economic_parameters import *

# Import plotting libraries
import pandas as pd
import matplotlib.pyplot as plt
import matplotlib.patches as patches

# Modern design system
colors = {
    'primary': '#0066CC',     # Professional blue
    'secondary': '#00B4D8',   # Vibrant cyan
    'success': '#06D6A0',     # Fresh green
    'danger': '#EF476F',      # Alert red
    'warning': '#FFD166',     # Warm yellow
    'dark': '#1B263B',        # Deep navy
    'text': '#415A77',        # Slate blue
    'light': '#E0E1DD',       # Soft gray
    'slate': '#778DA9',       # Medium slate
    'white': '#FFFFFF'
}

def apply_modern_style(ax):
    """Apply modern styling to matplotlib axes"""
    ax.spines['top'].set_visible(False)
    ax.spines['right'].set_visible(False)
    ax.spines['left'].set_color(colors['light'])
    ax.spines['bottom'].set_color(colors['light'])
    ax.tick_params(colors=colors['text'], which='both')
    ax.set_facecolor('white')
    ax.grid(axis='y', color=colors['light'], linestyle='-', linewidth=0.7, alpha=0.3)

def add_modern_watermark(fig):
    """Add subtle watermark to figure"""
    fig.text(0.99, 0.01, 'warondisease.org',
             ha='right', va='bottom', fontsize=9,
             color=colors['slate'], alpha=0.5, style='italic')
```

```{python}
#| echo: false
# Data for comparison
disease_funding_data = {
    'Category': ['Military\nSpending', 'Cancer\nResearch', 'Heart Disease\nResearch', 'Alzheimer\'s\nResearch'],
    'Amount ($B)': [
        GLOBAL_MILITARY_SPENDING_ANNUAL_2024,
        7.3,  # NCI
        4.1,  # NHLBI
        3.5,  # NIA
    ]
}
disease_funding_df = pd.DataFrame(disease_funding_data)

# Create modern figure
fig, ax = plt.subplots(figsize=(12, 8))
fig.patch.set_facecolor('white')

# Sophisticated color scheme - gradient from red to blues
bar_colors = [colors['danger'], colors['primary'], colors['secondary'], colors['slate']]

# Create bars
bars = ax.bar(disease_funding_df['Category'], disease_funding_df['Amount ($B)'],
              color=bar_colors, width=0.6, alpha=0.9)

# Apply modern styling
apply_modern_style(ax)

# Smart labeling
for i, bar in enumerate(bars):
    height = bar.get_height()
    if height < 1000:  # Only label the smaller bars
        ax.text(bar.get_x() + bar.get_width()/2, height * 1.2,
                f'${height:,.1f}B',
                ha='center', va='bottom', fontsize=14, fontweight='600', color=colors['text'])
    else:  # Special treatment for the huge military bar
        ax.text(bar.get_x() + bar.get_width()/2, height * 1.1,
                f'${height:,.0f}B',
                ha='center', va='bottom', fontsize=14, fontweight='600', color=colors['text'])

# Modern title and labels
ax.set_title('Military vs. Disease Research Funding', fontsize=22, fontweight='700',
             color=colors['dark'], pad=30)
ax.set_ylabel('Annual Funding (Billions USD)', fontsize=14, color=colors['text'], labelpad=15)
ax.set_xlabel('')

ax.set_ylim(1, GLOBAL_MILITARY_SPENDING_ANNUAL_2024 * 2)

# Rotate labels slightly for better fit
plt.setp(ax.get_xticklabels(), rotation=0, ha='center')

# Modern layout
plt.tight_layout()
plt.subplots_adjust(left=0.1, right=0.95, top=0.9, bottom=0.15)

# Add modern watermark
add_modern_watermark(fig)

plt.show()
```
