```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Treaty ROI - Lag Elimination (PRIMARY)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata
)

setup_chart_style()

# Monte Carlo samples
samples = [1264026.5901440405, 943606.4754911964, 1370237.678568419, 1415538.5950078976, 794278.35713, 881129.6358753134, 1221879.7953157646, 1116062.141684642, 1187414.0969608834, 988151.2368891402, 1400963.569316249, 1376752.5258934402, 1207151.5618887213, 1460020.5238829423, 1302817.3013870644, 986662.313981073, 1279284.765786434, 962931.6266349003, 1400737.7543378084, 1179521.0145280862, 1147367.8833714304, 1029163.2557398673, 1482728.973496656, 1154595.7087512724, 1089354.0800247649, 1107509.9183033565, 1318258.0353109566, 1278496.829014803, 1289764.909896731, 1294075.07524086, 1588556.71426, 1094575.5402369197, 1069358.5417053816, 997508.9159940233, 1338195.2728317452, 1460433.0130672918, 1164265.7358554238, 991222.1038188224, 994957.2600498651, 1346443.066897209, 1368522.746305047, 1320842.2396642792, 1032837.5486072006, 1246737.7499773682, 1219221.8395304047, 1243527.4214948956, 1399064.6411263475, 1244696.6672377007, 1353191.4405480057, 1207520.5133820032, 1260309.9199967682, 1341843.1081633645, 844201.336491787, 1115245.157129992, 1079335.4899678323, 1039183.4813821587, 1125855.6751105862, 1547637.3943029072, 985104.2608575409, 1422142.2979138382, 794278.35713, 1111619.9562616404, 1230198.9068458427, 1331104.6487744898, 1360891.0994985173, 1380459.0972774676, 1108322.1024523412, 1081246.7290068832, 1395859.0377216288, 1145832.8702313502, 887442.5245607836, 921373.8837464642, 972327.2203395653, 1309882.7413999655, 1225355.2395927478, 1355948.807490382, 1089610.276691512, 1229194.929305493, 1340485.4088020057, 1117705.3572891478, 1300259.5412744298, 1033691.5009913553, 1104907.7918551704, 1100455.6915052223, 906468.6709681848, 1307455.0462967677, 1079566.699812241, 1194394.6781240446, 1305971.5356244566, 1297818.5503663172, 1349967.8330591014, 1167950.069043811, 1090552.5293351004, 1172422.000817377, 794278.35713, 846594.5005414374, 876240.0331717973, 953790.0641308773, 1286677.1405024421, 975656.8107428962, 1101307.6360498527, 1501002.2110656968, 1106525.7072032162, 1367155.3319189504, 968951.8405752699, 1142465.1539082297, 965042.9485915072, 1110631.5453332912, 1391649.1057657893, 794278.35713, 1294933.5250632095, 1248066.008790538, 1049841.4004850865, 846845.7986254217, 1208604.8077612706, 1065248.155974747, 1246860.439364414, 1196624.5415688378, 1573095.027580167, 1134383.0373272717, 947534.9636050892, 1234135.9627369624, 1243839.1171107425, 1515289.5179830447, 1390410.7722227457, 1276454.0232655548, 1540098.4806214357, 908154.9059536814, 1038975.2967738393, 970629.770746271, 1098532.2886818803, 863375.9322256038, 1342763.5308645926, 1138465.5320644164, 840948.6535187898, 949421.7904478638, 1266122.714802074, 1391129.2737192465, 1588556.71426, 1588556.71426, 1290164.46884749, 955626.9220060746, 794278.35713, 1255208.7618435996, 997707.0804070355, 1092444.7510237384, 1045564.9637064732, 1157869.3895064953, 1445423.0436279206, 1228839.6191370324, 1153617.4703709977, 944638.3272899985, 794278.35713, 1075538.3815715727, 1178602.040863129, 1588556.71426, 1222459.8055624142, 1425588.15298564, 1072443.6293760247, 909064.9792706554, 961446.128791634, 1018608.125568806, 1588556.71426, 995694.6370521565, 1391215.6838594838, 976264.881009303, 1413396.0203587199, 1283145.0019752516, 1154093.3080901506, 1181704.4980076037, 1035392.4271966215, 1297709.1843013647, 1083002.4763090909, 899375.8959347673, 886906.0885814148, 1232542.3900196438, 1567688.9383650082, 1229540.8984901065, 1163147.9792684368, 1259525.1906714952, 1502616.2110385445, 1243692.767524906, 1093500.3539530197, 1455027.8894363507, 1293583.1235600603, 1557362.859577539, 1235079.2800248768, 899646.7604335437, 865407.7633742571, 1584806.4334207994, 1588556.71426, 1148641.067955188, 1100110.3169235187, 1539655.6071387457, 927626.8080145913, 978218.8436861832, 1344711.7005699968, 1097389.643085001, 1190197.079329843, 1152471.7886176156, 1271855.9831036755, 1526797.24984336, 1213002.4250054078, 1344857.5297398653, 794278.35713, 1179808.744020884, 990489.6695638478, 900994.48511044, 982168.3099008033, 1111801.430427461, 1409662.0056851176, 875360.027068387, 1198716.5151793, 1076047.9450707727, 1113338.4415753437, 1430358.1871196576, 1319641.5692699312, 1510097.4471775182, 1154601.3805704403, 1025585.8894186297, 1138075.6717047272, 1249200.5215890608, 1233492.0548146623, 933025.7427435342, 1212979.758221532, 1245800.5826289759, 1588556.71426, 1588556.71426, 988103.7176808132, 1122938.8204116672, 842703.44300276, 1050661.796716174, 1266621.002821123, 1478752.5655765105, 1017688.8818390914, 1035545.2277731538, 794278.35713, 1152656.9296555654, 938261.7036020854, 1065260.852124548, 982476.0742005943, 1168956.3236758206, 794278.35713, 841844.8494916399, 1588556.71426, 884645.9678590796, 930071.6214813517, 1588556.71426, 1588556.71426, 912252.5305314827, 1103669.88277127, 1272804.590255898, 1588556.71426, 956265.7700021723, 1132971.8703404148, 1376644.2595499218, 1295015.1207039617, 1101785.7478106646, 1159529.7303743798, 863802.5405258904, 1134664.6606722905, 1127941.790317711, 1246739.791247219, 1059092.2183850582, 1303777.388598198, 1432731.0125002495, 1228453.781004099, 1275235.2863469808, 1204083.5783390468, 1191437.6451768004, 1019482.1568580901, 1266832.8983558842, 1168235.7438274105, 1588556.71426, 1566322.05983114, 1283358.4054556554, 1009593.5876212313, 926348.2287691338, 1475247.2560609202, 1254026.342561115, 1305827.7897848086, 794278.35713, 1412410.829736352, 1299698.407600009, 926820.2177779581, 1079060.9508727845, 1254256.9960419638, 1203919.5084156806, 1121797.9608567685, 1166757.988232502, 1131375.4822961732, 1227770.6661367125, 1542049.8037466963, 794278.35713, 1134980.0240008328, 1233477.5345132235, 1261948.0216497073, 1102796.4249016303, 794278.35713, 1269573.4498801508, 1588556.71426, 825923.660666429, 1397253.5043639205, 1113135.3933456542, 1176804.9554978975, 940529.1859030331, 1111722.145961756, 1501196.7211569676, 1330254.6702087536, 1588556.71426, 1471975.3699477597, 1296044.6494883555, 1588556.71426, 1296022.3651691894, 1388713.4623318296, 1120749.5687711923, 1207274.3060833572, 1025232.9411167199, 1427219.0662386722, 910647.2159045994, 1377838.719097678, 1145988.5330729114, 1470506.400852753, 1370337.231731799, 1588556.71426, 1365549.0920279357, 816826.2702142557, 1175463.698842733, 912147.5514513738, 1067919.997176516, 1551518.3468643534, 1343331.3280753952, 1024873.941927092, 949865.406371871, 1199228.967756912, 901531.3166549192, 1031495.8766147014, 1265764.2468368164, 1466709.3394984028, 1336475.3543077405, 794278.35713, 1263943.107344756, 1208581.9481566125, 1290040.764464367, 1576533.6469108565, 794278.35713, 1050567.3384585876, 1332220.7666808108, 814549.6753217141, 1543111.8512236588, 1279190.8412471553, 1393144.5369294798, 1055371.0776488048, 1385324.0017225225, 1446016.6853343325, 1246908.527068871, 1247271.4024837578, 1255835.8708823677, 985696.5981410517, 1156263.8843637404, 1155073.93174453, 1282773.9703087248, 1429659.1637713944, 939185.8456480086, 1161629.9455264055, 1544423.959261708, 1014232.724666265, 995488.9178299591, 1239623.7646004723, 1392620.6002600745, 1194140.176286759, 1508086.926033842, 1395577.4107565433, 1392009.3736135517, 1323454.3589940972, 1588556.71426, 1142530.8889414386, 794278.35713, 1573684.8913003418, 1082355.310071083, 1217123.6663247717, 1503461.8656598458, 809625.5129045546, 893170.6478170302, 809859.4129340166, 1002187.955361388, 1296175.688043416, 1316322.853280054, 1257249.116077357, 854778.7261147978, 794278.35713, 1204369.0986473993, 1079001.0878155304, 1300881.5885093906, 1358681.507599943, 1224358.1889578605, 1372544.7131707473, 1246034.825795288, 1317723.212756319, 1023505.519231282, 1148619.0980850458, 1238306.0341275427, 1386935.9385248793, 1097595.508272308, 1315603.097196856, 1128072.5360238086, 1163409.175827334, 1389078.2422670794, 794278.35713, 882489.5624526817, 838237.2009621122, 794278.35713, 1029798.3061271542, 1369995.2736909837, 1123534.3612293405, 1238547.6500974149, 1450960.10084841, 1507783.24367156, 1174943.1061321083, 1513954.7286754593, 1213369.7989676762, 991879.350049423, 1049781.7351284286, 838630.1030336638, 979789.8862184697, 1106108.0636463354, 1382898.5923968945, 1588556.71426, 862066.4767082613, 1285021.8425325078, 943473.0765403125, 1304530.022762684, 1160181.7488300235, 794278.35713, 1412615.3985125213, 1047255.8440253407, 1064197.9144330013, 936513.1793624908, 1035512.6218634925, 1293376.7705750372, 1146323.7304304645, 1269732.2702621957, 1277657.5443594137, 1506109.4267182497, 1109737.2494683573, 839506.6755513521, 1445719.036013131, 1112429.3714725696, 1457006.5324195288, 1282769.9787809446, 1160169.6250806006, 1274525.0789338916, 1588556.71426, 1588556.71426, 1207949.9159037236, 1229588.31208127, 1447867.81493992, 989910.4589564076, 1270782.7122065716, 1185254.8455799525, 1266216.6852408368, 992839.4938731348, 812649.81855519, 794278.35713, 925163.3304304356, 1082122.7801616755, 1121554.816164685, 1588556.71426, 1454957.5147489922, 962167.0903058414, 1274270.7252068883, 1094417.5058574858, 1123658.3230632995, 1235577.5814005102, 1338955.8009670686, 1110577.834328457, 1444915.8099901434, 919312.4902336994, 1192928.029706654, 1588556.71426, 1244573.759139416, 1532928.9148116102, 1213225.2847240982, 1329807.1388361852, 1177887.036988554, 1150812.2196121195, 1005679.7364501536, 1293951.2526340834, 988510.2677965291, 1350015.520103704, 1450023.529366751, 1278755.92488808, 1123209.1835492528, 1299590.046053064, 1117865.8374600895, 1414342.9858446456, 794278.35713, 1111447.8349979997, 794278.35713, 835169.1976823165, 1516403.411069475, 1404725.352737376, 1019977.2623907143, 833395.7427011068, 794278.35713, 1061911.5199505195, 1588556.71426, 1295043.2850989467, 1058080.68887734, 1302238.479115674, 819466.904845567, 1120570.2820770466, 1215121.3768465156, 1170901.1704121265, 1379853.5918383033, 1273540.8089212407, 1350668.6032020163, 1027389.7740677771, 1405352.139974499, 1579566.3444831423, 960246.9057032452, 979894.3015792804, 1509712.9121347268, 1145823.419475343, 1525925.0203933725, 1085968.5742310763, 1538130.8986558726, 1222748.4372624392, 1252949.205360709, 1564264.0335821027, 1105213.5975502525, 967163.6620319947, 1084532.0830289759, 1299201.2558522865, 818322.9726411204, 1343316.3380777733, 1063037.216587144, 1464922.3620331408, 794278.35713, 1003991.8842076728, 794278.35713, 994540.680748213, 1250432.2352099798, 1148710.7868101445, 1131041.8399357132, 1153486.4062590885, 1239881.598980751, 951100.0305447106, 1359848.1471483684, 1349319.9071801216, 1283165.7258612635, 1324030.2762739128, 1262049.0565068184, 1588556.71426, 1170664.431165244, 1118244.6694467058, 1011864.3411214794, 945446.3662610428, 894880.4336098752, 979631.7947626165, 1174575.5664690216, 1271074.551332918, 1203603.844769117, 1009003.1049504207, 1405916.6706820684, 1367607.3804738896, 1153375.9770936766, 1035838.3868766178, 1322098.8640832745, 1236208.5413706885, 846352.693537994, 1175218.961882829, 1253856.3479920994, 977035.1066160244, 1236654.085147473, 844757.3316430979, 1509808.6457962827, 1488783.4348690242, 1131246.8196638983, 1278022.7100001771, 794278.35713, 915878.9597349996, 1121414.8642776425, 935945.9192298753, 1361646.4350639991, 1588556.71426, 911049.6537980156, 991863.8186690147, 1247520.9986460453, 1575319.9419677674, 900145.8974663677, 1250758.736322595, 1588556.71426, 797830.572917917, 886159.8721999981, 1090479.0678602613, 1067369.902903887, 1385047.020446606, 1249001.0612681373, 794278.35713, 1314231.3341141304, 1053799.5441067398, 1495097.2882112965, 1041873.7764760858, 1039722.613339112, 1320360.2737412802, 1373210.3335954656, 1298192.2236804739, 794278.35713, 1319622.2690026716, 944958.9856799182, 1247479.9527102783, 852165.101193548, 1297768.7423253716, 999218.3199221647, 885786.8528529182, 1361509.1012824657, 1248997.4398010622, 1045116.9901571153, 1537209.5213256765, 1086417.3312540685, 1199068.26485487, 1255495.1751246972, 1043761.3636562695, 1303681.5440268042, 1064304.6395210582, 1093330.912604508, 1516112.8028844853, 943463.0416224098, 794278.35713, 1575277.252646396, 1588556.71426, 1094848.5537880869, 794278.35713, 1117434.3249365687, 1123215.3273832954, 1146161.8167669068, 926115.528259238, 1329517.3973257807, 1316398.9925984403, 835325.3235162245, 1358024.5851033842, 1588556.71426, 1232392.846796891, 1111038.5130310848, 1157580.5117409646, 1338023.0759192712, 794278.35713, 1230589.1289414773, 1098376.4164056564, 1588556.71426, 1149915.0458359672, 1588556.71426, 928414.3312554562, 1331351.7095602963, 1267525.3507322958, 984337.9096042839, 1233688.1040435222, 1480340.7766073348, 1114263.3128150748, 794278.35713, 1187232.6038066805, 976384.9957446099, 1109843.336192913, 1171976.5157947806, 794278.35713, 806432.8002632963, 1306286.1119394219, 1066862.2915245632, 794278.35713, 1378432.9252951161, 1256318.756220337, 1021312.9389653502, 877638.6146974526, 1390576.77252325, 1274662.0272598923, 1588556.71426, 1291541.5486590003, 1283800.79992372, 1151641.3630692773, 1386041.7538781026, 1340365.0297090977, 1489682.9607095094, 1067194.8822901682, 1087667.1160073834, 1077255.1518486775, 1379852.5432690873, 1548455.4523363416, 1082083.4137699963, 1090200.9620959554, 1266256.9581111767, 1132856.6235521846, 1418276.21914967, 794278.35713, 994427.3577461309, 1004980.6275958277, 794278.35713, 961798.3875568312, 973350.9268315277, 1143497.6133142763, 1456618.951685892, 1133023.6242675122, 945791.6272217893, 1177846.2078671474, 1441418.3058097702, 958862.6461679142, 974442.5588415095, 1324510.5406197004, 1138629.1330807135, 1345702.4586160642, 1188165.730284821, 1358612.410593727, 944775.4925185743, 1188537.9627226219, 1141213.5801533808, 901690.7820009881, 818866.5269423624, 1354820.2208374324, 1107791.3712213135, 947825.0049050297, 1168499.6812920077, 1460205.825143119, 794278.35713, 834793.2197449172, 971508.9176291627, 1539592.3606145096, 1258753.3530568385, 1374256.5788403205, 919735.993182776, 924650.600967609, 1298124.1586606381, 1205303.347646477, 1322172.9459572565, 1146698.633788317, 1257694.5983233193, 1229094.7057917987, 1376746.6769044993, 1383714.2994069476, 805428.7557550826, 794278.35713, 1430116.9423077533, 1474432.83643445, 948219.903138566, 794278.35713, 1215015.900173479, 1413220.9328488505, 1588556.71426, 1314442.7319026846, 1102843.577570437, 978599.2388505238, 1194146.189635555, 1120107.692490307, 949543.595133698, 1588556.71426, 1588556.71426, 1462119.2002932315, 971994.0733546978, 1395154.5389601735, 1343829.9598088863, 1296868.8590993597, 1489192.1582759863, 1342815.9999508997, 1367750.7232543856, 1343181.798615796, 1272622.5075965798, 794278.35713, 1211343.0592911295, 1058886.1650979202, 886452.5437283997, 1588556.71426, 1588556.71426, 1515297.3873090153, 1252230.6837323452, 1513249.226345635, 1194289.6098409828, 1239740.7820724417, 930861.34258523, 1286014.0160346702, 1205806.5065018148, 881017.0207136415, 1179218.1083359537, 1172419.2955965367, 1588556.71426, 1404493.823743614, 1194144.7950624605, 1250699.448406079, 1201952.6162086239, 1143066.4797503673, 933492.9868786804, 1155424.36453889, 1013634.6264295455, 893487.9640500039, 1313233.26259135, 1284649.4510834392, 794278.35713, 1162183.8100005842, 1428676.7539903964, 1443813.0830440999, 1435857.536370094, 1200689.9111095052, 990057.1712550842, 933189.9784296997, 1273531.2009762162, 1281793.7124713317, 1498167.3078174025, 1453524.5445600427, 1159909.6276724744, 894943.7952770704, 1115379.6966080517, 1243180.1466544473, 1143264.4312495817, 1053714.900867292, 1251675.8163082246, 1071332.7176218305, 1041759.7465498612, 1265631.6093612055, 1095629.3338579575, 1249583.5856087843, 1256517.5484246872, 919910.3971790121, 1076745.7129208357, 1534016.067421874, 914513.1538262939, 794278.35713, 794278.35713, 1198353.9558579174, 1198784.613135823, 1163392.8085866843, 1480738.946464586, 794278.35713, 1285762.0478895092, 1563482.5066015692, 922685.9797526984, 1100915.9080314739, 1012015.8091611585, 978309.6232397488, 1113674.680891908, 1531563.735480654, 1588556.71426, 1111368.758966876, 1588556.71426, 1199894.8234025466, 1588556.71426, 1169186.0062442333, 1222646.4541232882, 1278504.0748061112, 1588556.71426, 1394264.848045856, 1022888.063023149, 1422313.746634553, 1105198.809761541, 1074718.144491333, 1407922.254321357, 1198824.7185705875, 1257797.5816093276, 1194749.9834091787, 1271619.7435463532, 1292679.9001505582, 794278.35713, 1350250.808934282, 957418.5042592299, 847741.4393303555, 1177499.0996520016, 1211428.8236978203, 1026166.4545782005, 1389438.7212843632, 871599.3298572695, 1094449.5520291827, 1052051.6755882758, 1180316.5575305095, 1257866.2954565524, 951253.2688380304, 1364002.1522392952, 1206429.9609798554, 794278.35713, 794278.35713, 1188482.051370331, 1138764.6682497698, 1166774.2283237225, 1184749.777814615, 1245164.7253231958, 1417226.808268558, 926659.5631050331, 912156.0342713182, 930896.492398853, 1260261.6124188707, 1488067.9632823798, 1088636.4615839233, 794278.35713, 794278.35713, 992918.6238115873, 1058519.9403499074, 1094105.2613170622, 1200610.780988254, 1117133.5266489123, 1441457.8582751553, 1030333.7612105862, 985941.3880422217, 1305525.678496733, 825499.3575628109, 1284274.641941628, 1215854.2679815653, 1156284.4220959926, 1569877.5368116044, 1043155.7634621772, 1588556.71426, 1137700.939353501, 887125.5785133163, 1208078.2186721363, 934966.0548215283, 1012286.5157657467, 1286024.022873662, 1323803.5842821626, 1043165.2340498093, 1426699.8966237493, 1467232.5438168768, 1533664.5555588072, 1317568.0190713243, 1516300.1109447903, 794278.35713, 1115665.648345355, 984824.4825103064, 1219827.0920261026, 1055250.6115929584, 1151824.8623765702, 1588556.71426, 1150976.107373035, 1290017.4202622578, 1136071.5851598277, 1209458.7634863795, 1192851.2114106417, 1298245.766469901, 1469091.1021606862, 1583964.3550836586, 1265194.8946929807, 1331896.8353224397, 917185.5042044593, 1170477.9573162552, 1415473.0071133152, 1397763.5799294238, 1241840.6449701514, 1402630.5970876764, 1308359.1483011122, 1477430.7205539215, 1260367.050437525, 1106660.493577299, 1271442.968238971, 794278.35713, 1282652.8917943283, 794278.35713, 794278.35713, 1299066.542342497, 1305204.9009406946, 914429.9291639478, 1021735.3637152434, 1517994.8491397274, 1076081.1383829112, 1588556.71426, 1190960.0663469483, 1288645.8269618577, 1576692.0379725092, 1222639.1364718773, 952575.4966163299, 1165271.2936758592, 1182932.0845838236, 866222.1084697377, 1130456.9724972737, 1014565.4005664525, 1411676.743928762, 1199664.9744645164, 1124031.9727841162, 1166116.1328714627, 1244583.8327607538, 1338394.1864502162, 953202.5997179139, 943224.3816013951, 1454644.3734046738, 1093164.459663331, 853807.432808857, 1297170.784599668, 1301830.9181787868, 826673.3357646954, 1246099.2436799423, 1366694.854750984, 1280627.6524328943, 1342008.3000925744, 856803.3700350159, 1270298.9448313315, 1119308.2380788215, 1076376.6034618972, 1398856.579467062, 1543904.2541197836, 1588556.71426, 1504714.5665313907, 1165269.6900431318, 1275464.933179557, 1374138.7789381496, 1220292.2424419879, 1222576.4849987463, 1387704.3209751917, 1177291.458887461, 1017640.4867852272, 1092655.439952978, 1342467.9237132042, 1192130.7876200138, 1272483.9621468657, 1351086.3675879813, 1102098.9972946444, 1371619.0003921387, 1281689.4799007357, 897181.9426845982, 1535094.9797022415, 1072098.3219711822, 797035.6126714076, 942400.8554612254, 948119.3138612657, 1203849.5770437978, 1126163.4768016546, 1111156.0331290695, 1339082.2934110966, 1272404.2287501318, 1266726.5307359337, 1289072.897832647, 1338232.2652564968, 794278.35713, 1104577.9108098166, 794278.35713, 1200010.0215195543, 1190313.5748249055, 1440550.6329589018, 1474411.223991485, 1239735.4853528542, 1072189.7433370182, 1307023.4271198574, 1065623.4695928278, 1191085.6898248566, 1426397.5558175482, 1058509.8231909997, 1383397.4674806804, 1352831.1095677605, 963906.3929214492, 1423480.4441487212, 1357874.3744393962, 1215704.7936064114, 1009768.4285418408, 986682.9122338764, 1063301.4112131556, 1320708.8473624117, 963707.819296301, 1295669.4887124128, 895527.6732646129, 1142791.35769802, 1217544.787204811, 1588556.71426, 863225.9308601561, 1542174.3291579639, 1227122.5116180633, 1289393.022356913, 1219617.891559724, 1297388.6016533284, 1154796.9100325953, 1537893.7124887826, 1082647.9905413808, 1461210.3604578965, 1037875.4784055834, 1177060.514422901, 935986.5392136129, 1299842.1836108428, 1535767.216969058, 1172984.8338684118, 1144502.92090232, 925822.6966185533, 1136780.8780453485, 811880.9333376872, 973893.7674296484, 1245456.9101320717, 1505716.626415447, 1588556.71426, 1051643.9843888772, 1533425.8908176315, 1249499.731598935, 1155377.715981753, 1294497.6588211805, 1206171.2125759753, 1217723.016367034, 1094118.477575501, 858271.0625932157, 823597.1087298893, 1347075.0175038576, 1125484.4678036992, 1049379.3821183012, 1193444.2862610084, 1380836.7808576422, 1234395.288600749, 1035090.4645163359, 1483622.921946882, 1567711.395768529, 1309262.2300042633, 1423425.4919513431, 1487356.1194621362, 1460701.564223254, 1337747.2413485697, 1333993.7685582675, 1315244.0796338683, 929940.0660881759, 1358388.3070450136, 868349.4276269099, 1002077.5907570635, 1502035.5918361994, 1391628.1428306748, 1545840.0166738979, 1126682.0107501657, 916855.6406987229, 1134125.3171304078, 1215729.9110394258, 1210239.2440489053, 1461554.8961481676, 1105332.7517995818, 1275301.544270026, 955843.9912748899, 1298720.716032568, 1192158.251935351, 1012749.3837489637, 1135223.2881896226, 1147531.4928854094, 1127044.0240049665, 1588556.71426, 1167959.4770012645, 1133301.115184384, 794278.35713, 978342.6717558518, 1128731.4774804735, 1027990.1546349607, 1520655.6668856489, 1152115.5841138843, 1498432.5501756296, 1206120.7323032503, 1200288.3151207303, 1170258.8067125806, 1192322.1198453435, 1588556.71426, 794278.35713, 794278.35713, 1061988.885095344, 1194879.2903543853, 1355858.038319911, 1304146.4124235495, 1099858.0719699913, 1434238.8408485265, 1436896.109396709, 1235275.481246787, 1420802.9582410809, 1256384.4052704442, 1057625.3908741537, 1357695.779432572, 1217774.8184786432, 1191736.799078688, 1542398.07872925, 794278.35713, 853606.779613935, 908558.231277527, 1104858.5145867208, 1130748.6080569085, 832246.6939430733, 956670.62466982, 986293.1614449801, 1588556.71426, 1588556.71426, 1093304.4403866609, 1104781.6341435588, 917581.1768268157, 794278.35713, 1163566.9149625169, 953645.865522007, 1171199.0534279675, 810114.873840579, 1009851.589418492, 1226832.921219641, 1278679.2430029192, 1290894.218156235, 876766.7894116457, 1395075.0489733587, 1000740.2861750617, 1342217.1391083028, 1188882.5145190991, 863447.0952324294, 1116072.8376980931, 1278477.6895353836, 1337477.076309279, 1157822.4450277903, 1556415.1819089055, 1431490.7356859953, 1130261.0927176056, 1370159.1918724533, 1588556.71426, 1588556.71426, 898805.4173263413, 970639.9764880651, 1545249.1920145308, 939246.6153626615, 876277.7961186711, 1075565.493081634, 1291550.6298220858, 1167018.0893242247, 1036398.9546077104, 1030763.8257584652, 1021679.36172164, 981844.8968156276, 1588556.71426, 1262309.5171497748, 1402717.5931658244, 1074878.4413289605, 1147107.1264791936, 1021389.3904810753, 794278.35713, 863060.6523376133, 794278.35713, 794278.35713, 906583.2070091703, 1507132.6217817916, 1180829.1298105896, 1498937.5951673922, 1289347.9054919644, 1377888.3972289858, 976748.6400828386, 1316266.4066288553, 1365058.1190923452, 1054011.9965193477, 1324746.777591276, 1326330.7405073806, 1060468.209774694, 923880.3359485104, 909259.2838676259, 1212030.3796110055, 1269338.5940991822, 1002571.7013152397, 1197752.3840646702, 1327367.1016187686, 1338722.1872662127, 1561204.9733770792, 1495701.0069404284, 952826.3014295365, 1588556.71426, 1064894.591981057, 1440393.4939608318, 1207617.6273890012, 1093209.1363311147, 794278.35713, 1150536.5425000638, 819842.229412619, 1421908.9900644906, 1552844.209640823, 1001526.7902877745, 1263372.18327586, 1018568.6997820425, 1041659.9900146979, 1375966.849992622, 1182234.5035039105, 1588556.71426, 1076509.489413335, 1429542.901808447, 1214629.54537696, 1381038.3107609493, 1084867.2408623612, 1179608.482073477, 1163896.0576650258, 992198.9142010323, 1349180.6457671113, 1346361.1492578597, 1332851.8300759175, 1557651.102062683, 1536772.4979872631, 1102074.4000146033, 1280309.7504778313, 1042823.7764042553, 1196982.7223291162, 1048507.1335542736, 1577453.5707677023, 1278080.8064986884, 1139464.79039182, 1475837.155183182, 794278.35713, 794278.35713, 1381052.7615775533, 1205826.169583659, 1251094.758471121, 875359.2203407529, 1185881.3255897216, 1588556.71426, 1387810.7116825888, 1231855.8064560723, 1086798.2301721042, 1097397.3327297235, 794278.35713, 1252808.9987728621, 1392882.2160108397, 815973.4365007944, 1033812.7989151536, 915612.8037370673, 961390.2673751438, 1204161.3253016216, 794278.35713, 1337788.0500785322, 1371048.765633314, 1131583.930365885, 794278.35713, 953987.410912527, 1485197.7325114468, 794278.35713, 1108608.438224616, 910242.8117750714, 1383133.3688965177, 1030549.0154597851, 1287673.116478782, 1326157.4275229007, 1588556.71426, 1143059.8176104275, 1281022.7069285503, 837553.3078325266, 1475073.4545024675, 1010200.8201663144, 1057799.0668333739, 1186116.253112221, 819007.9726347806, 1245929.6605164777, 1421948.7922462688, 1261218.8345175716, 812809.4516178791, 1161915.822825724, 1368230.785095458, 794278.35713, 935318.5205687121, 1400283.4198358038, 1255776.8230177604, 1289583.5691257655, 1588556.71426, 1303065.935037181, 1348181.398125717, 1588556.71426, 1140471.4357508938, 1001295.2324942272, 1293354.361810759, 1296021.8577803457, 1065909.9448379646, 945414.3531156202, 1588556.71426, 1269298.94410454, 1016926.0067878931, 1409668.6204170673, 1165410.0461937475, 1131160.0577760043, 1325397.8875839033, 883583.2980100666, 1275442.7825570032, 1588556.71426, 1302499.9839932353, 1101772.3961773347, 1070582.7109858524, 1093640.2877270035, 1130902.418087362, 1101392.4700493335, 1409759.439505839, 794278.35713, 1396817.930861198, 1100944.4988706103, 1281237.9760787736, 922874.9039490857, 1508008.4059977147, 1488231.8026197024, 1420072.1315880844, 830476.4552633659, 1388983.412351463, 1287887.825859904, 808907.8730188553, 1185627.869875788, 1278280.0922149692, 1323921.1021748602, 1233655.9958918267, 1260813.1790904535, 1542554.8264010523, 1483561.1956198574, 794278.35713, 1115777.1635471415, 1152183.9113977873, 794278.35713, 1213859.805123672, 1488975.9172720606, 932506.3353672378, 1271576.3311708744, 973191.9056045705, 1031311.9822037439, 1543456.0722698688, 1062134.9554930637, 1301555.1486198984, 794278.35713, 1588556.71426, 1335019.6741868104, 1147930.83313598, 1328560.7766193864, 855480.8177326135, 1473195.1081395063, 1114217.307130069, 1142791.135949104, 1074264.1114564424, 1053057.883023602, 1356946.0853402114, 1252395.9174387287, 1346718.3685998411, 1189321.9062401794, 1313704.586541543, 1091612.7880317771, 1588556.71426, 817805.5771180281, 1491878.103436052, 1517367.3204943617, 988362.1467701357, 1588556.71426, 1428626.451638006, 1422823.9441602484, 1198094.760697231, 1139656.1248723224, 1141518.865962138, 1284474.5358310998, 1525297.1154651083, 1234621.7234211836, 974235.5526143695, 1387864.9075003962, 1410912.5661496585, 1347412.1041155024, 1369057.6297100624, 1126859.830658386, 970054.738856987, 984541.3601668748, 801713.61705552, 1247878.4818658854, 1171533.0669612852, 1086575.722361623, 794278.35713, 894202.3545005303, 1458495.377055308, 1033048.1214641918, 1277340.585292208, 860040.1341133878, 1534237.3237716644, 1157098.119732148, 1260529.378581083, 1588556.71426, 1552760.2012296612, 1118368.0042864734, 1050062.9495384449, 1113845.5286185197, 1312917.8786260223, 1166344.3599500374, 1097237.3746474173, 1541022.629722535, 1164203.2021322115, 1588556.71426, 1213039.9920326523, 1588556.71426, 1276560.860907371, 1420875.1583254605, 1018754.673027678, 987980.7938846054, 1300957.8829086544, 1426973.4693032654, 1201009.9961768184, 884891.2202510218, 867290.4015604126, 851354.4686163281, 794278.35713, 1217506.091124426, 1459496.947045003, 1188220.774935527, 794278.35713, 1145962.4641830337, 1152625.219818672, 1588556.71426, 844205.6034193252, 1098325.5063870072, 1588556.71426, 1298639.9530076457, 1325645.750469743, 1218721.1172125977, 1270037.6392441052, 1376709.06175448, 998530.2966481928, 1400644.4133507323, 864253.5615190862, 1269662.2078934228, 1234008.5592962692, 1044565.0572150596, 1186012.008729991, 1043076.4847830033, 936048.7849248637, 1107156.9748872495, 928355.2518170419, 1268334.8475347145, 917371.130638685, 1361069.917735692, 909890.5597776038, 1056478.7971353738, 1042584.8450145146, 1507178.1457250703, 1270120.182309271, 1140964.8626448452, 1310254.1531914957, 794278.35713, 1181139.51267987, 1588556.71426, 1222953.525398223, 1207600.1238255934, 1322027.4883585598, 1404825.4940840197, 794278.35713, 794278.35713, 1241526.4820557956, 1021074.2413545909, 1504051.5166317276, 1116316.6767127542, 794278.35713, 889270.7324883522, 794278.35713, 1135629.281560425, 1146528.705161123, 1090275.0725584459, 1448496.6168937602, 1477005.0457158587, 1150816.7846018213, 794278.35713, 1338505.5555870002, 1323750.7186695398, 1265140.4441112387, 1425287.9725460445, 913858.211656218, 1588556.71426, 962801.725829865, 1369945.0024173672, 794278.35713, 969750.8034447272, 1552743.1749523324, 1129249.4108584132, 1391557.2397713684, 1247880.096754507, 1166407.7381804364, 1516400.574332626, 1135025.6409615516, 794278.35713, 1000018.6695100949, 1322757.433916048, 1285660.8326644702, 818013.3999377951, 1018818.6598005147, 1052802.9324294578, 1104332.1590567955, 863560.0202828151, 1041687.0642674709, 1017801.6739291111, 1375261.1867054552, 1384217.7993786607, 1156673.308364053, 1098000.9181968644, 1224759.1915016917, 996841.1552480799, 918146.3650566203, 967378.3285457097, 1040152.0286058763, 914180.9182161589, 1230033.6557939018, 1365296.7456584806, 813238.1864064473, 1197405.2931334395, 1139010.4630535324, 1272793.4230031392, 1188334.440653219, 845048.801298166, 890610.9861885713, 1198428.6884779567, 1436559.061329646, 794278.35713, 1273798.477641292, 1474884.8392846698, 1154953.9932295652, 1322521.716084812, 1023887.7693376784, 1162974.539097453, 805180.577783518, 794278.35713, 1416063.0772216679, 956709.4898026942, 1082872.7631881118, 861051.2131400807, 855445.0098844396, 1149994.8788434772, 1017571.323147727, 1281481.7906940049, 1299249.9772845951, 1267870.7146855353, 1248272.168963569, 1567373.6770185742, 937027.548207241, 1178327.463111957, 1461318.838629052, 1492736.5163809496, 852634.7070064318, 1116988.385583288, 1515035.393537713, 1312484.4067858784, 1237945.4956505932, 1139546.863492912, 1099964.1050741638, 1260095.3848724794, 1131280.944082561, 1181271.7525433872, 1210146.3110446788, 1029844.2737944667, 1318215.1891551493, 1588556.71426, 794278.35713, 1268624.3763159486, 1010276.77528658, 1329003.0468973853, 1202511.4137230932, 1372954.9631844284, 1471521.3654104713, 1237268.3144844088, 1461166.925243061, 794278.35713, 1570396.0871797116, 1280788.660643007, 1448249.8306484309, 900741.2649403624, 993458.7746806289, 1226192.2242496999, 1187357.6876694232, 1258868.111606905, 1449839.6117868095, 794278.35713, 1423462.5594226457, 1193390.9782455843, 1142859.6791349303, 840875.0382401564, 1311285.736657443, 794278.35713, 1345919.1347008846, 835873.3241959277, 1204155.6745978217, 1163021.5671948262, 1470099.187165035, 1148846.9554538594, 1026015.7649047916, 1070702.468572909, 1494724.5060106618, 1319208.2583794396, 1099528.2712397133, 1135076.253495395, 817985.0822424054, 1283984.5307069256, 794278.35713, 1370558.234228978, 1222065.939847622, 1588556.71426, 929273.3776252667, 1166954.8525916147, 1588556.71426, 1475306.03755271, 1025521.6863321032, 1244785.2800127277, 1191893.9493536078, 1258602.9686360986, 1024933.5110391291, 1170133.9568804014, 810628.0111222552, 1223615.2257028546, 1298650.0400430087, 1137227.2404587239, 806577.5452784915, 1426968.3748938956, 1278277.840187902, 1018420.1119789477, 1124555.0771176557, 833832.7673439549, 947079.2141922307, 1063265.9619058736, 1484129.9550876536, 1039034.4248870495, 1343969.8917581497, 1063145.6629273933, 1250499.3500813453, 1157725.3195504947, 1399452.5242959503, 1063980.8143665802, 816709.9892092643, 862121.8738143297, 1064679.9010700176, 893787.1452548971, 1289164.293461682, 1080432.6638589213, 1588556.71426, 794278.35713, 1239939.9636878343, 922644.9333660303, 1073848.133881532, 1225115.463780335, 794278.35713, 1247849.2933853616, 1588556.71426, 1083370.6676885914, 1253325.4629968838, 1435639.471275762, 1152350.1207008532, 1052984.3044635835, 794278.35713, 1344155.052355985, 1164451.370127455, 950111.675963199, 1221583.4438122287, 1052336.1332270803, 1065502.3039088994, 1335886.718719942, 872503.0808316027, 1440975.4951409402, 858371.9748674944, 1033506.7199261531, 1588556.71426, 1460047.5820890078, 1214674.9573375823, 967304.6973751707, 1065300.6742230009, 1208877.8346411933, 1200358.703096071, 1169764.4918867443, 1184070.656105108, 1140335.4827111575, 847817.7853468368, 1068341.544577949, 1409357.362992676, 865366.0403359397, 1146249.5836078937, 996083.6945565094, 1217950.5065334158, 1098812.6583198127, 1543456.079610105, 1312127.9463329904, 878836.476677563, 1351360.1003922494, 1006830.7745731391, 1053928.8167166845, 1266195.4324130493, 1074242.2358951496, 1404170.3509778886, 1006864.5619231455, 1043932.7804119363, 1035015.1771963973, 1056635.150963247, 1453336.754568506, 1341249.3218124674, 1588556.71426, 1588556.71426, 945814.6664582614, 1208197.2523242142, 911148.3991472006, 1006126.8680590672, 1041279.2653643342, 939514.964696244, 940770.1471938876, 1157036.9479558228, 901493.6037612698, 1392082.5009746165, 972732.0041099313, 1588556.71426, 1083860.065651192, 1208578.151986876, 882759.0953188468, 1588556.71426, 1458176.084161217, 1262167.690699231, 870496.700948061, 1241615.9781572456, 924199.0130354513, 1539872.676558609, 1384235.2943593767, 1214159.0845038318, 794278.35713, 957085.7273235943, 1355299.670206505, 1480427.7155104913, 1455714.4083900487, 812067.0941100174, 1263272.4769482345, 1433398.0630315733, 796263.5211147255, 1189534.0200496314, 1256669.662767294, 1119750.2955945148, 794278.35713, 1113809.0477580877, 1113426.0498681935, 1156134.3238288562, 1057151.588272103, 1085855.046115423, 1181956.1834819107, 1296847.1707169835, 1118877.6589745407, 1093804.9523477396, 1213423.9798287216, 794278.35713, 1305087.1388390195, 1191283.3589376814, 1200875.8484233823, 1420344.6759373676, 794278.35713, 794278.35713, 1256660.4762268325, 1189721.706495177, 1231967.894552968, 1081300.2754790215, 1349722.0591735714, 1413649.9900969833, 1306742.5340909483, 1129266.4158646972, 794278.35713, 1374713.8371643922, 1482535.3270535807, 1345005.1746584873, 981813.2530736075, 1351971.6269087496, 1396467.5725053526, 1562857.7382058224, 982654.9903106787, 1137457.1430821174, 1369480.1408284167, 1205097.4088623847, 925176.7960550132, 1290213.758208106, 1329303.0592472616, 1212377.6431308554, 1243741.002258299, 1129772.1861237667, 1543667.025027131, 976797.4433072589, 1051468.6845280943, 1194035.2023860617, 1400857.7840295185, 834618.2052290315, 879195.4307680584, 794278.35713, 1199208.268635049, 924943.7035170792, 1099785.5868092426, 1349013.0503276398, 1038548.4862073672, 1246528.227212491, 1120090.2492162692, 1351571.2918945057, 1304632.7179228584, 1026541.1478628628, 1151230.6044095985, 1440124.3730570157, 1285152.7559665097, 858544.5172339461, 1347640.5066545885, 932972.7127006795, 1527996.1038849843, 1435443.3989093006, 1260492.4635654944, 1228883.5290664134, 1141608.596623609, 1353098.602512411, 1103067.2131050015, 1247549.9506473546, 1399185.1145442773, 1057548.3021700832, 1044588.9685364272, 906819.9401422181, 937771.2364941733, 794278.35713, 1365323.6991526298, 1588556.71426, 1531049.91517183, 803948.4208407464, 1364138.4489994992, 1530282.024279427, 1082567.2513884923, 1215590.7852605341, 794278.35713, 1254976.3652812915, 937988.7933134896, 1238987.2679107129, 819408.6280401782, 1320771.697302772, 1435542.0091040318, 1004798.6915248729, 920507.6356509965, 794278.35713, 1127935.5844462714, 1052833.29330361, 821835.1904800348, 1299364.4337488122, 1084197.0149956164, 935087.3987134797, 1059272.0779164822, 1446691.7384450783, 1335087.4652366643, 1160434.4697416686, 1338940.0507821606, 914791.3632475701, 1199130.7968226795, 1226522.017283207, 1079463.2446679808, 1295180.0751998464, 1005453.1150337144, 1312899.4019559808, 1322916.3792208962, 794278.35713, 1475047.7532949457, 794278.35713, 1044623.2133159231, 1435741.0613360174, 1115813.3420332002, 842049.5976741171, 930798.0327412469, 1436112.2384294695, 794278.35713, 1460437.4947609506, 1178287.6142844828, 907289.3944610101, 1052470.8312011033, 949029.7521501424, 1397824.714527755, 1365943.0029314256, 794278.35713, 1095248.190240554, 985734.628759505, 1499639.627498756, 869711.1828425654, 1573678.8730138033, 1183483.9483936245, 914547.7302772808, 1030034.2678345649, 1000404.986927994, 887696.9925988374, 1214013.212402532, 898825.5118056311, 794278.35713, 1100946.894643139, 794278.35713, 1012190.0061191566, 974793.3110483966, 983821.1145768254, 1588556.71426, 1204859.4817633724, 1249885.400268643, 794278.35713, 1035588.9066723837, 1242720.6014537138, 947289.1931607816, 1407793.9347510785, 904834.775182401, 1123181.2085152026, 1051771.0955570613, 1230572.438707916, 1038799.315085579, 1126868.0521749328, 1135151.6292850878, 1016425.0452638557, 1307007.403972117, 1248221.5537124283, 1170302.294038652, 1088846.4143204757, 1381220.8408779395, 1135222.1249754827, 1118336.6303218163, 1216363.4431792293, 1588556.71426, 872032.7576321765, 1374861.736167364, 794278.35713, 1243190.1458448835, 1566733.7958920212, 1307859.18553351, 1232074.6778153293, 1057871.6706944136, 1198815.5715142605, 1131355.124021358, 1004132.2730279019, 1122344.9574055718, 1238688.4943993732, 1008602.3618686165, 999293.8757198353, 867293.9588227272, 1284520.8652384395, 1321359.075080991, 1246618.3988130563, 1421401.7456894633, 1212354.9444226124, 1284827.2766873594, 1263816.9830760036, 1169605.0588244572, 1064931.4488223323, 1588556.71426]
thresholds = [878401.6228051154, 1188293.2979335024, 1496645.414212591]
display_name = "Treaty ROI - Lag Elimination (PRIMARY)"
units = "ratio"

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)
    
    # Add label
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {thresh:,.2g}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG
project_root = Path.cwd()
while project_root.name != 'decentralized-institutes-of-health' and project_root.parent != project_root:
    project_root = project_root.parent

output_path = project_root / 'knowledge' / 'figures' / 'exceedance-treaty_complete_roi_all_benefits.png'
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Treaty ROI - Lag Elimination (PRIMARY) will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
