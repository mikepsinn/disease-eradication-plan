```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Expected Treaty ROI (Risk-Adjusted)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples
samples = [283994.7359054666, 298874.05960930674, 419506.3399317486, 334032.75393330056, 404894.8198226398, 477209.1097922148, 338413.22681957966, 190879.1905214223, 350076.15133808256, 506810.6536750946, 203426.98323043855, 364318.5003972627, 486706.3929767538, 253017.83058233012, 310403.677556007, 256629.05989192572, 199622.7429687794, 177362.31638253175, 355275.69391712, 346215.00955045014, 343878.6248713041, 199157.02078182893, 433356.9478995119, 155319.64874366208, 381772.1901398273, 318267.87424522196, 138874.81882165966, 416571.98882367957, 290832.55090909183, 634438.5019391928, 243490.0076206455, 568939.527221798, 201752.18069841675, 105455.20343163854, 543062.0934658312, 87397.8284995588, 160680.6023637959, 416521.57214073185, 269073.62162911275, 304456.742761577, 518948.91789299774, 448959.9375798013, 232992.62194638126, 89411.2858038016, 200999.84202256575, 215662.7953013111, 459980.7337154465, 588203.034721619, 131650.1388455277, 271657.16278598725, 529384.7882112126, 245038.65816898295, 385077.3112275748, 392109.12295995135, 380740.88216717035, 247267.31837685613, 166130.116583666, 288847.0711049306, 392563.5135845177, 94160.50544825623, 556193.5354293173, 62348.04282262379, 73161.67280342527, 158341.2076609023, 236081.54985018668, 298405.045356061, 289443.2144608751, 308977.483999321, 209090.71576829758, 604006.5773689966, 230218.44244703912, 274266.7018884289, 139002.48437263287, 277002.2489390181, 535066.0876953376, 528524.6892951436, 453543.25789388764, 315735.22184044425, 290119.9581175279, 461243.6574794912, 239878.66009862008, 391287.3612608466, 337571.1285963976, 325360.0294491038, 458676.9920896972, 133858.969110222, 350921.6260439127, 587051.7423466488, 271740.97603024286, 350109.9795837291, 310071.60716192157, 249211.16009741902, 105915.54451440624, 149585.11886791376, 361508.75597945007, 571463.4264389765, 152622.41656205372, 172727.64599857703, 368719.01650894026, 334808.234105752, 387951.8533938277, 358491.35277316463, 206715.88855770204, 298358.1661429184, 368417.6424490142, 568281.3514854291, 263469.5202643537, 277976.3322801683, 567022.0330804244, 152279.7129273283, 487590.0041995747, 222967.00908132616, 369683.15357941797, 320160.7354928516, 170363.25232043816, 228938.87863989244, 319557.6322401964, 157307.87459580702, 190834.78483529945, 368256.61837848, 284501.63444127905, 281896.647173815, 315301.02904942475, 250467.7407921454, 299874.39130736387, 281903.32009187696, 175976.626385126, 533126.7161051129, 614059.0867420067, 103726.30215733695, 347288.6146640629, 483376.3586819017, 367532.3081370704, 477118.3412785344, 253348.64778202432, 125409.92171459935, 91533.05814637344, 355517.9463045139, 255634.64429360707, 252428.01771170294, 350022.0125237599, 158999.58122673468, 266964.4044899202, 443637.7994972311, 509762.35533471266, 313582.5123650048, 502947.60224171146, 211464.8594337735, 140540.1439188949, 87388.6549648438, 342466.06950494344, 201092.9137975938, 241180.62442837332, 169137.5733964327, 141208.05550820782, 157172.9182331532, 461080.53061024647, 221710.22340285324, 394296.5096968161, 98207.10212729764, 251067.01185141216, 225140.01237504696, 60525.55892958231, 204863.34769169262, 134326.05264316392, 390253.8924071981, 470139.69727787416, 634219.7753122564, 184107.28290758288, 126215.35918332948, 468884.57193927135, 246566.64494077815, 283727.8286154911, 485878.5317132194, 420988.54440880445, 271122.16795264115, 383755.1401760408, 131492.9243042591, 122777.98578657334, 192672.108751481, 387468.7920981575, 412722.19531900727, 252138.62329038072, 77854.2349216522, 450731.5832972188, 314226.761796638, 278298.98743663373, 73567.1309761935, 148555.04509248232, 590764.6801871212, 382685.0202509078, 627077.0322472545, 286417.9718362386, 371179.18648837577, 404355.60023878893, 496698.58953301364, 400453.47898160794, 304977.89276096824, 553258.724309477, 399919.21345904056, 173417.63620145572, 68313.60482625249, 535323.838056068, 254680.75821239557, 282531.36091135326, 251189.86287928777, 230225.8719857763, 351662.40411568456, 262857.5712410837, 219095.5964403429, 468019.29406318493, 200351.81237910298, 388595.16903455043, 525423.0079421501, 623664.6366546453, 195370.71424546142, 311176.4796665225, 174407.32428676533, 303714.65497154556, 196737.8443159876, 612755.3724178968, 304391.5807804029, 436617.34495284705, 105290.04408014762, 213045.2735806409, 307546.18324375997, 281215.5968894174, 312515.1219091694, 250604.5024320188, 168200.20594836512, 289189.38674066105, 514309.15907642513, 328709.76336050266, 291495.2215393536, 214486.24128055203, 441456.7528875429, 389266.1351027916, 340203.3862780689, 295741.69174678857, 82659.26389221803, 224080.25000769304, 196940.45405785827, 152563.5573577811, 185596.4401931151, 222819.06430746903, 114501.65531063374, 102876.92277436433, 288706.31218819245, 107887.75769942749, 263901.66334557906, 227908.17639530252, 321580.65923167067, 236290.6141552657, 312795.54726063285, 166543.39649122648, 162969.56331974358, 230504.14222219802, 584952.6148818639, 62996.749893514156, 475717.3812611489, 171906.3198848597, 508017.865351975, 475561.69448630844, 289237.4966272371, 139520.6101930711, 124322.87618383172, 326789.5535062375, 283592.44406504306, 107629.28650142276, 286764.3271676596, 120390.86823809484, 205542.3958020031, 347600.04634229623, 96748.7214975335, 174046.43341949038, 254330.69774072, 403601.31332350516, 294790.75943661033, 153147.5458779466, 278454.2292084098, 340009.1169361245, 151912.97781779486, 286053.6645756833, 501151.2106125759, 171086.13993626783, 470445.9379108273, 550555.5647626463, 185871.41135140136, 184294.40106291798, 491297.83481915446, 214739.15500541625, 140909.6274684833, 153465.42995411143, 636853.0087585661, 114293.93628034221, 103928.4576702147, 291038.92611039104, 527817.4180203434, 321792.4269391684, 376351.3941508933, 619167.9764533726, 169045.14065324585, 340218.49859920214, 166448.95910740262, 282215.5286718046, 257760.2791095292, 368222.737835498, 362789.77069691336, 189565.1224582603, 149082.07824815207, 165179.51506200442, 634472.7222244251, 217029.8753631781, 154504.67833507023, 487792.78260298545, 213859.08602852406, 226215.73247362833, 237097.92438079533, 342394.21401758835, 437472.21919316764, 201221.50306416536, 482297.0536937314, 388909.30099943385, 239197.0077181514, 422531.82170372014, 488854.86005857954, 295981.6289706131, 629213.2026402258, 476997.0198774052, 368464.476971401, 519454.06225184596, 531061.9007562089, 81401.29614665783, 83034.9931538288, 148934.2634465605, 462486.6603034625, 232145.75080516702, 124647.49687861865, 207772.47623859154, 348958.69171889994, 402551.2565566014, 206961.4436911102, 386622.97070999024, 401964.18559632305, 592525.5313005871, 311320.4086489387, 615783.9254258298, 269200.1389546788, 188367.56959014043, 462434.2043362428, 586606.4617858824, 140471.78515776727, 186867.12657391367, 347944.69525482587, 491663.6935563766, 141715.46082257575, 318744.6348556255, 602423.1306480683, 348501.1231925543, 291754.07153951935, 624802.4613953547, 426265.42909764126, 477275.2404655067, 547364.174801321, 404558.5031806913, 273475.08758111106, 401916.36401387665, 345002.6945421169, 233953.992239237, 634362.3137071748, 407460.9936052772, 485430.2221290924, 422341.5133449669, 123846.43890744432, 392327.77609414415, 198286.43658148634, 179947.69137258403, 281177.9806364673, 279224.4208407517, 591506.8898815843, 236660.4401097907, 204648.0277357869, 206458.5914204324, 421902.62088432256, 101447.44588060971, 412051.7911733468, 331115.7298079269, 424236.6216825769, 295619.57758572587, 383312.3231757658, 419201.42082891305, 203536.7847989511, 115411.55862686918, 414336.01491197356, 415016.4679899538, 333853.2471314678, 80957.98308022277, 353199.09676273726, 178303.9274797877, 419602.56159623223, 617980.3929452319, 474653.6785523494, 264126.5730378448, 265095.0257481638, 120088.18176425471, 223523.3726057183, 325326.81057219143, 544202.7535912482, 206372.70607782286, 421475.7234489649, 371319.0386934188, 122142.35582985631, 303070.16657777946, 397400.7442095481, 290403.7673599468, 632799.0142723696, 448143.72362105595, 343982.2148521921, 333799.7029553075, 514693.3472137271, 139520.74995367328, 238037.3767534999, 312372.58333614015, 286627.10540720477, 194358.82471093323, 364160.00760767784, 63452.098575698714, 341412.20477719075, 57594.498741536634, 362220.27647131385, 197313.6730831809, 565412.2756399867, 222868.54310679555, 386825.9302659609, 449146.8472032839, 211090.1501623961, 169711.33473210936, 258587.76341503282, 245684.88369887805, 231164.2890184981, 372921.7531860643, 171131.75117492257, 225537.62198330287, 249558.74397289025, 505675.80854132306, 205765.2293794011, 401512.6364036516, 623567.4061933955, 445074.3901937813, 281213.5551882664, 309887.4537988624, 399386.8597390048, 77173.54519906735, 71964.36302154532, 182767.04907855642, 213741.98482951426, 333410.35655835253, 251452.36696860427, 349838.0078389447, 334197.7441093146, 444812.6939097004, 102350.45501542109, 329733.5442099888, 431684.1463267575, 567494.5365494217, 117465.45104836187, 266307.41271533817, 359857.97112683416, 266602.0679134655, 600338.9260999373, 494074.51625169674, 313577.7971334811, 446977.5350953118, 78791.36307107763, 472173.87287777674, 458663.89920851024, 145863.25682018715, 297002.88927985413, 63040.22306921228, 74396.28872525175, 594410.1366221939, 135469.6194287681, 172247.08515099788, 634821.2884669962, 186994.8627410284, 118691.57711416476, 100703.44274816732, 392989.60648338177, 231428.33910587916, 264574.60955754464, 233388.0584231084, 232866.6529092696, 162699.87135946107, 389683.95278982056, 415019.97396250296, 285249.22514517047, 265862.84983821126, 294653.6694504086, 332766.96607351664, 568026.0219953948, 251857.29887405268, 131804.46269639474, 535877.3896321006, 339917.77569353976, 536007.5641086911, 416545.6581483096, 54453.97249614695, 259396.35935756218, 312984.89358679997, 289390.6307992763, 235899.44983414846, 477136.87336942204, 67098.54654660319, 344812.51979422226, 332496.7546955073, 364089.43252037495, 389635.7931388284, 423942.2344956436, 309084.33427625697, 62633.798353749014, 108198.08421876555, 321073.1614462548, 313437.40561583947, 247386.4952184517, 397650.970577162, 176650.1408443936, 172191.8159707431, 384166.468230192, 290400.2704469243, 453553.2774990965, 167171.3737046284, 332100.99812794325, 301775.62238284, 308370.45016152016, 129758.2441807962, 268473.63084374566, 246580.18968158666, 175970.25598132584, 295154.65787774144, 154504.68214162483, 178075.32579265244, 246910.3858573147, 234988.50482084812, 314215.9301063167, 625463.5008806362, 99503.34227254851, 512698.0374613605, 152902.85480185444, 290052.633826162, 220680.82771546024, 502354.3077009119, 321071.86357568635, 580679.7188928294, 329149.4030953774, 302150.8873155187, 149984.32436945746, 539006.71318111, 175106.25995168873, 343038.13990649086, 603820.3937287824, 535518.082582316, 382839.8006945467, 309712.6269906832, 255001.5250584073, 63409.670130493854, 317170.9957391282, 76557.7417517301, 365402.50758038886, 166199.39716909383, 376818.0698672677, 277306.1783096089, 394346.42342585005, 368283.61043603864, 603316.6255724919, 516900.4081820896, 199163.19104966408, 405663.7768886946, 446297.16164613847, 144412.65542773696, 272405.49159548956, 116221.18626393907, 377646.91831677995, 373618.0762449095, 543479.0704140271, 634759.120943478, 403063.2182269093, 419942.49375690566, 383783.0782850726, 236205.2662258587, 556952.0493505371, 502505.85062300885, 255540.81291088896, 298194.13762789924, 321618.70392261783, 366334.99115734536, 564067.6016979808, 618131.2859919856, 138341.53968445925, 285374.99815938453, 196123.7514912963, 171221.68595865663, 68068.27105597424, 71462.45620789332, 163410.23228314752, 61417.29152165514, 186561.8543163339, 443436.17122497404, 181047.4264944759, 114053.14763659515, 397233.4094008536, 427097.41005897056, 462070.2551698712, 374800.0704667776, 634501.3890172443, 142789.49894342702, 214386.97613403774, 438885.999345614, 431689.75807830173, 61498.37814370061, 533382.268965154, 270726.53885138413, 472539.6048249305, 349154.6560449662, 454340.5859243532, 193385.82613633896, 331163.238354714, 423424.412665564, 204091.9796315679, 296205.77646992414, 403395.8300690724, 163853.39968371103, 182950.32054280658, 432231.2130873649, 316140.99422541575, 87086.43719125821, 290333.8981373382, 135567.62637097744, 354698.3813944973, 79369.70483408464, 300281.24556144385, 179519.87875403848, 156246.56338434908, 289280.23193338123, 293885.8906581013, 116971.27666637157, 402512.17867548275, 324606.71764660836, 208704.04763014795, 484055.36439980037, 257918.29843337252, 461148.660772265, 190908.80105797964, 104483.41842437064, 276880.3475209017, 300067.25030519674, 195897.4159537746, 181303.04546771647, 378921.12895904714, 219489.58063167825, 309956.5338884417, 324487.9412699575, 315592.3566045033, 603189.7484338422, 222481.65883678012, 153439.65174355244, 276332.3900538002, 297736.08469338017, 143390.06475400456, 328330.57720633125, 354356.69507523195, 323335.7035705434, 338033.0263868998, 112800.54916604033, 176459.65193952344, 398013.0900245988, 112660.89383563567, 517279.66934898077, 235392.6246472528, 151837.4837900955, 419719.4635257706, 467719.2656411571, 260099.92320037223, 212937.84562835126, 257406.19784399623, 181511.27616877278, 578177.5574072113, 516156.0680054432, 440907.49070759956, 418959.46448948886, 273513.0788093156, 82381.93573070204, 127199.37336093682, 358478.36572983797, 137702.71936133984, 300206.5086356838, 150984.68913250478, 311308.251230532, 231847.15910787816, 180992.7742358196, 309810.1908241199, 543406.9953871461, 508185.94165823545, 137328.98446344005, 261857.5601627082, 338297.36068782903, 417080.14427248325, 165030.9097410415, 552538.032876405, 174221.7279626289, 325224.40082937595, 387479.8041085404, 199573.26272426048, 301590.17533414596, 225204.03172768504, 392705.9520452458, 180278.59808965365, 81844.05219597211, 447508.1280808791, 181984.58022083258, 191147.59537193697, 328283.80354051985, 328860.8076107781, 219619.79800200282, 268483.88498031656, 239532.67683885002, 149296.46567955305, 302367.28495443956, 242402.17483440315, 59094.47336840509, 441173.91753866686, 388762.4668292329, 400518.441429486, 203339.1020136102, 626907.3330948476, 586548.8256934694, 511011.5345896823, 297712.72732899344, 398120.5512058591, 406126.329361183, 344595.35987461166, 128842.05653697198, 211384.21075722383, 459890.57407932694, 256927.0522233506, 232975.31545030937, 301037.9157610729, 87130.65410926494, 400619.86283419596, 325921.40219307446, 101286.41303744474, 209193.99066705588, 129689.14610238573, 362384.80387637776, 223857.71241992246, 161480.24106941413, 598669.0475173285, 407787.69718605146, 292742.4719480156, 310372.01226986235, 290764.21908797853, 319984.1817954156, 215318.04352094262, 609716.5145713107, 390473.1712854603, 255947.2538165205, 278654.31814358244, 266223.36756347894, 172674.5038191607, 457967.5683643844, 70514.70645159745, 180989.5545661475, 495699.0043970027, 507509.36581375665, 272149.0963763704, 178267.98447858152, 171402.94091402864, 275686.65154645644, 137314.3593077571, 344523.17168621556, 356174.76369658456, 281037.8004049842, 340079.216058555, 399393.1489190174, 298518.12482235546, 293514.40660519595, 633272.9201067169, 359579.99744299875, 413009.3153124081, 322899.8075116776, 314125.63067188923, 308646.00902712566, 372686.7947945934, 122566.13647260387, 482512.5318530469, 261925.0821285614, 99075.92158711625, 164335.809406228, 170260.71340282334, 110872.99885423965, 300655.6313553322, 351956.0056037569, 216256.5430275737, 228805.53438912256, 146422.60808736496, 380503.57580587, 500309.0945543634, 221172.5478442522, 202717.4482894569, 426626.87075004465, 315336.98834963975, 197337.59626198595, 299386.1659611712, 125574.77888642438, 222567.26127478294, 226394.52108913334, 341704.01362477685, 482028.8066872549, 363235.95217961725, 281226.12928824156, 284741.2617198045, 193990.59706754, 391340.4410032892, 526934.8885941128, 275485.3553836094, 354240.2767780302, 192210.43394835803, 389987.2664996596, 439110.3676282982, 377496.22470948816, 541962.9492118092, 440636.15031784336, 380675.6867406564, 306846.3005580971, 319822.9427907892, 219380.1879560058, 80583.1323727127, 426543.6284761809, 405569.2616033721, 418035.0991024552, 62345.33587802467, 161916.00614494254, 289819.57334798086, 272101.59665511816, 392481.89506193664, 252366.584454832, 163347.01887643675, 404176.7082188689, 445255.78207156755, 199217.3612526294, 473298.75224252546, 75552.13043612042, 312578.38173443545, 436109.9411678178, 532458.2630482817, 63351.91208400694, 152454.68486941725, 316925.45082061936, 247297.05271426152, 205406.29268774853, 360324.613990849, 217235.71017987188, 520006.15895571816, 498548.73681466724, 355781.16660218756, 423384.12877005653, 351569.01453543425, 401186.35891526623, 261649.69714777518, 615998.5220097094, 600380.9739544742, 63352.139549315594, 167608.33024543463, 360393.61715966056, 424029.5456250774, 161573.4972097216, 426779.90208971367, 222529.91257512092, 332127.2796532244, 330640.98473487224, 193492.0210767361, 360442.1316119004, 221533.00400099505, 150219.65705919577, 67697.3218013662, 413745.9335694956, 357714.5367379597, 334793.1273336065, 169189.52957302093, 257276.0002735974, 321719.0461356792, 220886.7759880872, 522370.3478338395, 421290.7818075749, 308269.760195627, 348385.5215284867, 79044.83930883267, 72878.62929535621, 166226.73475549964, 376051.5548611994, 400790.30943247984, 634244.6644047144, 303323.507992542, 427971.9268230276, 509355.3321861963, 219519.9094486134, 235469.2337262934, 219234.9799430059, 148166.21934447667, 631309.5256182298, 276366.00086244807, 382302.2206898801, 634282.1626028572, 611485.6891709915, 132046.91829450623, 285952.1311758461, 369695.7033474817, 569241.033850547, 329854.205065568, 157192.59774444834, 251392.2168473602, 62391.13667528641, 361382.45033143286, 420175.1506934718, 294103.04068482766, 497604.1308439532, 165150.36862015308, 380042.8134353207, 230900.3181176349, 224660.00570578984, 217045.1054214719, 384895.3667369539, 338359.71084223385, 321825.3192444972, 432697.34030985576, 280057.6973737846, 280201.9171098256, 533914.6644245007, 165197.32507177332, 195403.66361266823, 555115.8856183471, 456131.72638783394, 250848.62444807455, 219603.9976465807, 227314.36376466893, 476692.5993590752, 270883.7296542151, 184940.54778200685, 530745.2429221817, 159677.30143072584, 337485.09756824066, 88330.5042562863, 166756.00415360316, 183771.8194226184, 58967.40973944514, 369689.63989357895, 294941.4365459567, 190530.9219136976, 394748.5206989643, 200775.20900742072, 423731.6283049006, 187179.21135214297, 409986.63443307654, 111944.06658217488, 315244.9302961008, 368048.4567160964, 117371.04196677847, 171760.1279230922, 204803.4217131318, 331483.97650741803, 340135.1896645166, 156367.08490973478, 316751.62450005853, 388607.5389639358, 341321.4222104387, 290841.0913542183, 253833.5746893043, 291755.0442437523, 140961.7014277336, 237446.0542335136, 634491.582033794, 316455.59784145147, 341750.56547214766, 320073.327230581, 159828.9610715101, 316663.66842491296, 291911.65170045703, 494001.0281230676, 240328.8850372169, 486047.8245441991, 201681.40832181266, 368479.9012372336, 149212.36631463017, 380663.69637935277, 204673.94138145854, 103667.6088733624, 192199.10310923238, 376434.14252388984, 311213.84792470274, 111034.1297411309, 365571.00433225336, 301265.80840378517, 190323.0911951255, 233146.93935685398, 321665.36474657326, 294163.9004468462, 222280.28181794213, 241785.08859048676, 171687.07808867903, 223554.04959756814, 122791.8572460326, 104325.62923008006, 199821.61844250842, 370071.7685257943, 253219.672109493, 366844.60712686396, 292200.22702592873, 359562.94000668154, 198440.05893329732, 192856.79893542794, 280337.3494097264, 345384.307090944, 182130.32677367292, 238963.08231421493, 218199.32080784874, 592410.1933568998, 325309.3734848583, 297159.6592228248, 216373.56298485026, 63023.409979975695, 440546.63758310647, 140468.50736998787, 246856.48483409017, 134291.80430430203, 466395.56419293117, 402023.59404929774, 110802.30827704123, 176726.76467367835, 290352.0154749557, 63451.35888174327, 63515.598304815794, 211196.62059570124, 447466.2702822645, 207896.19532570036, 439485.21138511586, 307906.450984423, 221675.1178376019, 409817.5415211133, 174110.68361006578, 366115.2540934562, 519444.4648128834, 202398.2675913067, 94583.22382830414, 63181.94617780435, 177927.07244294422, 210817.86880390227, 273858.815399877, 327752.8214346858, 279192.7599937355, 184754.6291863288, 152774.93455896122, 122583.23946000106, 331065.4342616027, 397180.5229797987, 154164.6455448774, 373136.2121593949, 228426.2776743118, 308465.4276388348, 488080.8115242794, 281938.898502161, 139515.3559797221, 123936.20399242244, 275045.7673803184, 168231.28619808314, 401545.41543327895, 201460.9204780077, 303898.3573474417, 328570.8026507308, 466962.5219215583, 196799.40853418465, 305857.3117401784, 340614.5072018991, 248865.23856356615, 218631.27445917515, 159266.39794926843, 395590.8333587475, 411749.76490549796, 333367.9593558961, 460019.489046509, 333516.4345649413, 160194.08622960185, 256866.04621110638, 130696.95901662689, 216195.9621178284, 459613.58062953217, 362477.7174829584, 162949.50574425852, 588838.8131871439, 141094.07236802386, 307829.81498388416, 406206.7821546932, 425395.8754817313, 149747.498002929, 171469.2387868111, 212845.56371784295, 215594.8806538661, 434073.33818889124, 182475.77451488894, 254174.10845439098, 172272.310099629, 338452.63933420426, 251507.3152852886, 258429.33048641033, 482341.5067601716, 90585.01515924105, 160200.99730489368, 317899.31682393537, 198900.5853986347, 242835.60551000218, 342462.42548178637, 382508.96684175363, 239327.4186450271, 377783.2160769761, 197857.47442660198, 272075.15456210985, 285986.7432646605, 322233.0405255679, 256389.5034741728, 76444.66483957638, 377984.53868562414, 591519.0769044401, 381727.45453357766, 151283.93184124274, 428184.1423831461, 380048.9236041513, 416257.05927640724, 227266.29575292126, 491933.54128704977, 323994.73242812033, 370207.8246800117, 172119.48777794166, 242117.61530304866, 506585.84083985095, 477035.5717957292, 346700.30046224105, 302076.2969260555, 63479.73003094888, 187819.41592938866, 260499.67794155225, 209463.7156589558, 240109.62604910292, 224898.9737573827, 105412.42288179841, 553010.544566266, 275753.3756566407, 219663.72724712704, 263249.5455262098, 234632.8952397874, 141531.76437259928, 137948.61095293963, 129793.28814843306, 218420.9358291405, 287050.6608303934, 267089.79903245025, 196134.4087516343, 187663.89148334198, 207887.40845111466, 202521.35618084346, 197655.48812901668, 238561.23089896148, 387050.6644612124, 281662.2658181914, 323536.10922974127, 199351.15103221955, 334547.39402719785, 441009.9302726966, 530574.1986494304, 296659.5304265201, 203005.7130864087, 346324.02399544365, 313287.59732982755, 568285.9152011395, 365492.137046692, 163858.88798862335, 521242.06288110255, 394704.9517360065, 57633.52975387676, 355636.12966054596, 358133.42292130354, 634839.8563034872, 154619.77627563378, 266137.08047728625, 223445.5325659113, 126758.12613735964, 243913.46191980198, 390589.83219804283, 281395.40660875005, 538172.0698551142, 105863.03399304672, 493129.5802441827, 509524.06353556155, 203181.24632170182, 493531.86675313377, 258797.9209030248, 62858.17467536276, 140396.55061254202, 208145.5951430693, 322542.5205063737, 604245.9564289364, 273199.59711330675, 203809.5808595864, 426905.4247118832, 427805.3577133016, 166597.42621931864, 185383.850829237, 232957.5478048055, 412447.61697945074, 104184.79748247744, 486792.0488849626, 139634.31631581794, 395861.7121490938, 357883.05463741923, 480678.7684301346, 101673.04651199162, 229176.41951402836, 120709.2943659033, 425482.69058511866, 190190.06803048696, 335280.1183440058, 492837.1596714184, 157468.13842180767, 558779.8671694081, 167364.49859188386, 429564.62153765693, 177081.627659926, 633872.2650632539, 352912.1325667672, 463625.20348482864, 343269.53791798727, 266913.3524207588, 227019.90445158692, 364358.1633649201, 258413.35445442228, 493711.5292821419, 457802.79230642767, 452518.10827764776, 449304.1182965189, 385910.1669494798, 238050.9138492595, 209387.97578740504, 203042.6944586395, 406403.6427139671, 158716.301558825, 383127.5725468384, 134638.9742661493, 376584.6517463811, 316361.0427418116, 193285.56864462548, 134942.69692787586, 552210.5886594047, 325124.09661769524, 180648.1129596608, 569399.4439834217, 460096.7283799904, 412702.7949375901, 153443.4416874922, 199762.97159644877, 60619.09580958339, 169721.15106503892, 275609.70074611733, 325372.2505443572, 401244.3780961919, 187374.36536577888, 83141.1993825495, 141577.79040994568, 424257.2223537041, 522624.2109338413, 253425.18711376732, 265759.3236423664, 477480.3170075989, 284040.0627886939, 228925.50538738686, 420286.9455466641, 417245.2038395929, 271931.43901431584, 455737.63607065735, 195029.95036591552, 266738.9979008685, 342180.32352381834, 164771.27553858646, 201814.51931719584, 231790.02940649685, 369689.7550287629, 517505.58042018174, 495711.93719377386, 457354.5910591329, 218713.87202861853, 562002.1854813426, 61326.27553243704, 414378.92597700853, 379843.42220585485, 119493.07401002468, 244329.1909714105, 331316.08880158584, 142726.23866120525, 300690.1822785819, 167684.5153788637, 309589.37231131527, 348295.8992964144, 123017.02681036059, 287187.718991174, 385178.1658373827, 68915.2150611121, 365513.3103963418, 398170.0652007653, 618690.1671230202, 347218.3462820006, 162126.35294991665, 337516.84650887037, 316561.18814868026, 466313.0351507744, 506305.92313288094, 322515.94803003885, 271924.84331954113, 294279.4700854545, 260603.86341333442, 353257.6912662502, 159426.78728403733, 381758.68798931496, 384771.57546299096, 338268.77383674274, 152635.39223647604, 140963.42919007238, 503709.012003151, 603372.9679539008, 371240.7383782807, 602955.1726812572, 464305.7214310119, 182684.82982275327, 275734.78069734434, 257728.49865124223, 368512.3896259373, 315348.4041117615, 394564.5107793741, 413697.7585583654, 203157.36644392187, 264221.7200121966, 345083.5666000016, 401182.5994325427, 523848.1986877537, 166848.31038353298, 193561.02276055882, 189039.31638183858, 451034.2555810604, 387621.9313840448, 186248.8997763087, 313551.3763919291, 102834.95993490511, 123261.7469593879, 153858.78071084738, 457706.7414578467, 428413.5794026734, 205115.03151759514, 200650.45304718445, 157582.30198494167, 163770.12926571196, 211492.54173366018, 321744.5205056039, 306953.2954195328, 74047.63118999431, 172622.31206440952, 315630.23267817154, 340565.28404141514, 220127.54910750364, 336326.12957116624, 225607.49722058378, 419969.066633183, 367168.79803607793, 244173.36183481966, 633616.9906036005, 276246.42816754244, 470170.9582059005, 528506.3754971848, 154304.46123904065, 216478.963856152, 460032.96325266716, 237312.86236401397, 354501.0617928629, 189401.59290602044, 383931.98078905, 195882.0648976096, 421070.75463743985, 364336.4713269462, 380526.8704371895, 511906.4925262937, 318570.7277510276, 245357.45769511824, 143304.90958358906, 432393.4235519776, 506248.6214297401, 543293.0824834367, 421218.8649213151, 165852.50495254926, 569260.0598689542, 229390.36514097324, 236025.3197594559, 381672.55117886246, 225162.76735527837, 397886.8685317388, 251193.35636560374, 503127.413547065, 411194.72588904365, 145334.07263055653, 391257.59350293566, 279832.88452291593, 622232.9504583824, 252980.3107888333, 346101.9370991103, 306256.43043729465, 197271.49112980335, 292044.70867132314, 391938.8803276521, 268347.5467589824, 201488.68932854588, 400550.8689373813, 221791.76484839173, 381988.8981142265, 378861.7141433655, 325638.27241858124, 461624.25990906317, 589469.2970115762, 365592.5715584812, 222829.5762951372, 463874.8385059205, 376979.8425348933, 387953.0402647566, 116870.66201382288, 424441.9019592866, 348388.0104765563, 65065.79001245884, 63253.28210654464, 216266.81887351113, 73920.60025050174, 306566.2796353392, 113800.60835865361, 267427.833350623, 238111.56763882207, 169861.62681432825, 239258.79178535167, 235943.882113899, 464495.7924720882, 623718.6656051548, 517980.56911499053, 151385.1498297548, 438017.60087156686, 503356.1008652575, 91529.72307990027, 198515.7590722374, 427512.386914746, 199816.96423089644, 512646.70205285866, 384455.57231542695, 381678.02012583084, 495098.9150546069, 478059.8299210325, 148947.23249934858, 214357.31012243146, 314224.0479720696, 187948.65948828336, 348281.3627805277, 342273.51414409204, 151050.65383686576, 356712.2723681145, 190040.94946645398, 227821.68352050267, 344949.97442344396, 443840.0948706584, 150038.5676128801, 420811.88808934565, 370732.77780597575, 348333.3272565343, 260791.94344425076, 356217.90718757315, 177396.0120839263, 254766.27948822014, 476514.44735203014, 353251.1860375582, 384990.5007090096, 576562.5680791532, 243501.9300013102, 395722.4417485807, 154253.57442720074, 526319.1622617383, 287377.40939357586, 310892.84964397753, 95610.63991401526, 262313.918187055, 159620.35532204027, 590381.1056069665, 282661.8368614156, 179331.88368158095, 277569.4417686521, 205491.45814877772, 63043.05436826053, 556492.2833675114, 419545.0840128278, 313986.8176609414, 249040.31601763165, 178514.6857837141, 78050.19629000014, 138896.9706324789, 460037.36438806844, 399622.8242037178, 250593.8100546528, 225831.36659910722, 244950.7448482852, 108551.18457685737, 102387.21749514442, 350599.856743764, 282848.07417956693, 220976.2861171602, 222409.37828282962, 246966.18978488442, 204177.77676603087, 506463.19118492876, 125428.82582473759, 186207.02154720097, 631802.365814791, 451290.08091875253, 255423.9827798371, 358806.56000354444, 288085.8789986979, 475472.6033328581, 205053.35354242506, 173595.5831171067, 233335.9296823212, 470814.65419301525, 138342.76430734075, 406902.2662322471, 291203.0957949493, 219012.9848325561, 509016.6875982288, 182514.79597523517, 485222.709186222, 412967.3097896419, 298564.3505219213, 625843.8059137089, 136386.38308577758, 197826.23393698, 401340.7244586104, 523739.12141285295, 560416.3710405411, 61084.98386382329, 61610.65967216107, 213894.66754004383, 357955.7804214068, 404912.30988157686, 480120.8123477665, 499879.3674054643, 202481.51691189763, 507369.271104637, 366587.22150125727, 235259.10474266481, 489626.720727018, 283244.6940531045, 199095.69509348556, 287297.09222642845, 338254.10885647516, 512365.8563505345, 619017.2986778767, 521307.713106137, 420888.4516875788, 213162.30466009106, 244223.4675941503, 272182.568594621, 234828.07060836666, 355727.6340320901, 322471.9325190556, 326777.33281533624, 238233.6539861914, 355667.6272356719, 419444.5904092887, 106547.73169942819, 551754.1687364968, 605587.3065495752, 64597.08884175309, 328191.9382872444, 554846.3230887532, 272373.3436418035, 275313.80834745406, 211830.65017460304, 484078.8527826646, 86502.8283546575, 500220.1998536531, 471014.9672924929, 298315.57182464877, 215995.25832479075, 445180.10609260376, 430441.71209632803, 328160.89338373597, 101891.91662091702, 584488.3447837955, 267500.2770782694, 366464.84910285927, 77111.78132306004, 102096.46501823037, 127619.63670871497, 373890.8796045035, 500984.92113984015, 100174.42819032296, 309293.6712082819, 535996.8548804255, 72362.1856794203, 570633.3067390895, 63142.4626711197, 321355.93460512225, 192713.94185136282, 213907.97204778282, 318453.5786551975, 474485.6297232953, 559771.9441897795, 445933.32377753215, 284268.79748337617, 176111.55657135573, 254331.0554329012, 218905.03029251748, 384795.285749743, 97567.31434891303, 236791.39734640863, 210979.04879050673, 353530.2822919057, 522123.4115969786, 304419.93910319667, 268362.6969473524, 630039.856890482, 268509.07233525673, 188407.21372990962, 106486.87167269451, 276469.5022444558, 430828.82680499094, 321002.95394086244, 171684.92199486433, 179477.25901735085, 414509.1275659974, 438805.3480791742, 557608.6272551174, 318502.9546760264, 175736.59020143122, 236924.77365342228, 266738.01332584285, 488941.1447772044, 133668.76615274895, 200733.7423178074, 209941.30569007245, 326754.97866410756, 480312.7211291475, 258790.40872945954, 232068.77801499312, 116942.66543057794, 330410.00062509597, 235644.5284900424, 54827.99638149883, 498915.0845258375, 468358.27211655205, 560981.283588011, 420792.66201033065, 374247.98531801737, 335506.41920246324, 355509.66495352203, 263194.32537622674, 250760.948885056, 499724.76240069803, 349736.2106767576, 295289.46171603596, 63451.5579819058, 246179.74832438174, 333688.817960201, 599232.2315408322, 328441.57544440334, 135542.23657160747, 293003.8050483896, 331860.2958148771, 236239.94863391027, 307258.0587115394, 185865.7271496003, 181080.2737587623, 453292.8749388211, 190154.131685639, 63326.56552820301, 192021.77861340903, 309449.20848171454, 452220.8331453763, 224884.43848443724, 296135.10605642165, 164996.40121416803, 237416.9045425681, 480063.85593475436, 319029.7206483087, 400785.3607956207, 250677.44049391415, 404565.01863327326, 345137.15436912846, 187853.46584671145, 103543.6029223667, 168917.082721656, 154320.83214082924, 353929.0692267288, 329167.6076752272, 130313.11524608964, 235953.7795329665, 381425.91347720416, 334116.68923660467, 370704.11216452834, 328253.8274856983, 597930.8238595297, 83399.36730658638, 208127.6929232389, 317225.6541479487, 336777.6952344554, 437772.91499694344, 552489.6912182422, 507367.93999800726, 299521.7012516831, 89193.04217498875, 189822.71473873654, 303013.6709240738, 303257.86791894917, 455358.8215241056, 444507.1576163489, 333209.61990212015, 235104.38603049834, 124774.93769665205, 191235.2691878953, 207173.77500448746, 208166.86353261655, 251315.63824007646, 164884.19090182826, 301390.9130573194, 113326.85859978978, 167572.91060217976, 272063.9915008318, 165452.64766280766, 122350.73339757291, 587635.7329718607, 311690.5307187445, 215266.58923735798, 429328.33523331815, 440218.482581045, 295701.97580844216, 403804.94724288286, 183885.82154671662, 298663.20977213717, 427922.2998771362, 231755.27992091564, 563978.155108012, 225699.52962842968, 245260.38194925088, 212038.87845816594, 222237.78989114464, 144206.02440824072, 319296.2017513566, 352491.81164332025, 224711.72728163624, 583401.8106428633, 346074.81865337846, 72093.32019112507, 284528.5198705735, 541522.4439794498, 189603.65503911732, 94520.89107604489, 454324.8502822369, 313317.63616292964, 375404.41409243405, 100847.5637477562, 354462.1701090126, 234039.9153581967, 63365.96555443439, 394606.7073796517, 63700.20572652234, 251028.6954050631, 429652.5296004984, 216673.6505912936, 120470.51054957298, 493086.40923055005, 462183.47770841455, 461926.0361467241, 301667.3833952443, 422869.7869836572, 339693.702183482, 120753.61985730908, 306687.53350295516, 198488.2321120758, 353501.11570691253, 633481.4882093557, 288023.6671094944, 426802.0010208062, 336793.5245369225, 367917.2471654995, 393833.0676432757, 130263.32812345777, 280600.75611605356, 206086.62720852246, 327030.29271339165, 502531.81079536496, 277599.29109121306, 286607.66034855385, 416004.0529580923, 218536.565542077, 496789.13071026857, 352221.79843656474, 381221.06491409044, 369837.1655785271, 162241.3593085973, 134961.2022562063, 319271.24758304795, 264377.7942846666, 295493.96796427335, 524599.0800280838, 463755.7269139603, 335635.34918749996, 62529.11417230588, 379351.14605028706, 241346.44820452348, 311413.0600255444, 118741.28259556266, 205218.46863592937, 346599.46682258527, 354962.49958130496, 233462.05613151164, 488196.8527771235, 261563.27602629908, 422226.3510583818, 167206.2395669078, 334342.6350851894, 360300.85549959965, 317273.0838066352, 340948.5800198482, 514979.36760418606, 305372.01244504994, 352162.22743242467, 290899.39925905794, 169535.21238397312, 461526.07285492646, 606724.8989962486, 123198.72137461755, 455220.95359272277, 196427.438840068, 278196.57939066476, 173251.098884145, 426142.8130083939, 470092.3771289786, 302076.3993895046, 473392.1389660978, 349484.7333881872, 327247.02469993377, 250861.05075918796, 323079.7283271893, 253741.42093693904, 238133.89915794504, 204110.60650504858, 177467.73304851225, 206522.27161553613, 130339.61999555657, 170474.64683279078, 148153.59313295022, 471788.1468471412, 191384.36752256512, 417515.9221489248, 63481.137677422215, 503467.4201521415, 115404.9021784692, 478543.04368806345, 250617.69139672915, 387487.58845955, 281021.32631522365, 293753.78336916905, 210173.89009291911, 382955.82647502405, 567515.0736062888, 62919.81794556812, 306568.79472380213, 384306.8472345315, 199797.710606353, 170615.3223251644, 177333.50337246072, 245376.35827836156, 255762.0917194868, 265046.3237020106, 331090.4280396799, 367054.0289655092, 313931.69118121004, 471607.8600425606, 594222.4677495512, 445413.247359895, 340313.0210943131, 283922.15432653023, 537277.0963791689, 275927.9275228737, 380288.2020515504, 470249.14601374284, 225152.29014154966, 109799.82441518977, 323967.792473208, 380908.73098040675, 293998.00026382325, 634840.9350872935, 289535.59207017714, 467927.478924008, 347704.68395919824, 120811.24564130229, 120358.68996836022, 509329.6570703971, 329459.8479438084, 276523.8568038483, 365264.81117460603, 238966.5637593647, 573335.6943989997, 416896.2957462919, 236030.73374709339, 366166.85940305825, 457414.3599635655, 332787.45214048197, 142807.66076942603, 304130.5847051958, 227038.5308502979, 516861.37756350474, 489368.9667837697, 470138.2022823314, 297647.1506557921, 266920.54474662535, 584442.6716017064, 88275.33768636225, 219543.4428856814, 310937.30877934594, 405864.63366142404, 264653.37975741725, 332801.63148009893, 134798.6450593173, 268778.70162355347, 598829.9339456403, 523985.67510118836, 363913.10053721216, 166638.34500772264, 215817.68189038322, 194085.37084021978, 335850.73503652675, 202523.190216402, 138035.1681708811, 303622.27602420823, 513717.1816322878, 142624.7075612739, 428223.0909821181, 334147.57164897444, 510760.8938404003, 141306.46816605894, 289427.3818632087, 513027.4002690993, 386266.9020295627, 315434.7670208767, 232604.35206064678, 576279.2613946985, 385676.3413209184, 429178.45912456553, 502840.7498715634, 401925.8957809618, 509328.29565066984, 305944.41985329514, 544617.520367035, 103761.68272595791, 505337.9297483649, 151456.35660437366, 303347.8055332873, 624190.6871853685, 199257.74145932237, 550668.2836762483, 230632.99647889586, 198941.66774009142, 286138.9941653504, 354941.14972771914, 331757.554377811, 634645.3164861612, 107387.08177147413, 268914.2766264732, 160641.87943387896, 499124.3196187686, 179006.60568411197, 293280.39849082474, 418272.09462754976, 217573.2926095675, 489366.1357943896, 159079.36237038532, 122439.35838299962, 133690.14683186362, 182831.65248025514, 362200.66174703813, 470161.3126411544, 220665.66603321917, 503465.4344285608, 92239.01960850313, 402563.00716898026, 190882.01466727]
thresholds = [127632.85363131342, 291525.80060035695, 514335.6241037443]
display_name = "Expected Treaty ROI (Risk-Adjusted)"
units = ""

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-dfda_expected_roi.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Expected Treaty ROI (Risk-Adjusted) will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
