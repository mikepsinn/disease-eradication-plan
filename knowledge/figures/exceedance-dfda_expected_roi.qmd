```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Expected Treaty ROI (Risk-Adjusted)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples
samples = [15794.206206352097, 1192.7906200928035, 1269.3623399454077, 7739.184890367455, 3486.545134556746, 128906.71493235324, 2022.221819105057, 17110.454694378986, 2303.8697503803373, 1210.8791789230477, 25762.595617030798, 1269.210797311154, 13670.12307898147, 1264.95197323737, 4774.620407642472, 4842.314136719354, 1268.2614141696, 1200.99189106271, 4088.265349636552, 1259.0067203533804, 1253.9320696674547, 1928.7954743578553, 1263.1178785136976, 53632.829795719364, 22500.915241733837, 1246.0657775336385, 1269.503464936304, 16081.66842410482, 7053.221043977123, 1268.8770038783855, 1152.850760331743, 4774.447675490207, 92020.7013675159, 2315.256522960478, 2792.5606319809235, 26089.963361705126, 1256.73573090646, 63422.8864651581, 1213.3928378033409, 93331.97014814414, 76540.91580581998, 16375.801955035906, 1226.2207066909607, 1266.2514900343533, 1263.8106148151155, 1266.0026034613418, 18745.53131179048, 1266.0943315624634, 1269.6218941234326, 1262.5562578183255, 1267.201871160706, 1269.6815262794094, 1141.5049610396238, 7705.775197824829, 88524.2409560023, 1228.1816659022884, 1249.910059963449, 7732.9389519111, 21879.49230777773, 9122.249434503661, 23103.711043307136, 1246.9608564524758, 1264.8686520490471, 5772.5811584037165, 3573.354065321099, 1269.1119604852167, 1704.7768578230725, 1239.8731125245165, 51968.61943767715, 8520.926086487852, 5472.33539490206, 8343.439720688293, 1826.061712917731, 1269.3386534547137, 61180.81118134316, 3597.795249448375, 4368.946174932616, 1264.7765859315064, 1269.6824525723212, 1248.2500840349387, 23924.953260608374, 5443.6678741221895, 2121.738058090915, 3067.9092829189017, 1175.453450352578, 14906.097590743417, 20208.767772645682, 1260.9900925842537, 1269.242931719705, 19001.873575433274, 11995.29078013764, 5896.734690814949, 1242.1620344946953, 1858.31704276071, 1113.1482789265349, 7569.676688343761, 1159.7558810898813, 1197.1809633612309, 1268.5916766174773, 1206.0945513274858, 49938.3512319041, 1261.4575770307874, 40682.49098231259, 1269.4240699833026, 1203.4350661719295, 14330.535945169586, 147652.64012267662, 3936.7801885988697, 5810.105930487068, 1119.9676025699114, 1268.9072209203864, 1538.2767222898171, 1952.687177621842, 1143.0756064057607, 11709.58367985197, 24640.184963231306, 1266.2608181422966, 59396.0905208247, 1253.489744921201, 1251.5661260990948, 1194.5024966156236, 26331.653396087484, 1266.0271778454894, 16437.167923362485, 1268.8021081979268, 4190.643134275448, 20876.326951417792, 1176.2866093304694, 1228.1181734840134, 1204.1066737904714, 3962.052029490183, 7828.967567215681, 1269.680136822235, 26758.360316853315, 3237.115034887488, 1195.316545457996, 6522.1406359081675, 1268.777259061748, 1181.8600967155473, 5899.839308442049, 14491.658596057621, 1197.9565499545067, 11090.818678550335, 16025.472276776625, 1214.3900780154709, 1916.8270834923132, 1230.1005389186435, 1255.7105610174128, 15451.168198150646, 7293.706289817164, 1255.0048461775552, 17840.001547254404, 5504.182673245363, 1238.416714787986, 22890.983872209865, 6446.839580722004, 1264.1345374398284, 1267.2092443082386, 1392.9159565745663, 1176.734428429554, 83228.98802901861, 11592.361458652464, 1155.449436052796, 16576.021769542425, 25671.178414772745, 5051.522379394828, 2706.1888082286737, 1268.4395506245128, 1573.388672990292, 1259.311997581178, 1227.0165508946318, 1269.000838302202, 4348.208672323741, 17968.38416641815, 1165.460805879741, 1265.079897126097, 1254.1581459413098, 1264.808416453051, 1256.5597246494467, 1267.151356891588, 18113.185089973493, 1389.6273791880205, 20033.66795478181, 1265.3194868923083, 1268.859416369939, 9893.439373899593, 41564.4483919924, 2926.630945257478, 1153.7738116295975, 8507.23182386677, 1239.131641096771, 42658.855911280516, 1244.4043177439935, 17850.62548923048, 1185.5887133034612, 1207.0937428035631, 1269.675177445108, 40176.09707080468, 14483.536211456276, 14028.024030929468, 1267.8833052113478, 1258.853410160608, 13110.179687168626, 7828.366329396265, 53900.564929577165, 1259.047227212519, 1211.750146359108, 30244.612551564973, 3399.879828255055, 2442.1753767413666, 1268.0239707422318, 28157.070309901144, 1261.5245999590775, 31825.974711874613, 1247.3292733092906, 20620.87239637819, 12488.790835774465, 1260.5731024955273, 26676.613634106467, 1223.9147933364268, 1252.2579520070462, 1266.436124926229, 3525.4958549841017, 1529.8614703689893, 2363.1432382595617, 1266.1797978136326, 42045.92074108688, 1206.5818891411807, 33277.060568673834, 65393.995093731224, 18610.020769065006, 1231.5952476590305, 1267.5886112121075, 1263.4578167206903, 69446.28054523948, 8344.954970497516, 1191.5582454290077, 1254.8427200615643, 60734.019861378605, 4570.743598391847, 1566.065710326819, 1593.9280347980048, 7536.788654588481, 1140.0954958870573, 1155.2959189359285, 41628.23700410542, 84074.26106621468, 1214.9625870954967, 976.8059390009612, 1448.6603940008715, 9296.02695800641, 54803.73323339599, 10702.437137670307, 1198.225129001435, 4250.279805896284, 32908.67762440503, 21416.870617154385, 1244.7861652632482, 1255.9808671407682, 1152.8710632518425, 1445.247646565658, 6520.395363306092, 1856.6531866135454, 1233.994471102862, 1269.1839460893461, 2677.7330146442187, 1264.708018500792, 1268.0610980047725, 1262.1625866497936, 1260.6136168001415, 1221.9195756110978, 2179.5594993967457, 1257.3501872540721, 1162.4494715258725, 1265.1947696866173, 1268.4490340871096, 1218.5805570691248, 16553.439828340714, 1263.75097582876, 1984.8728640687862, 1269.2391852976593, 3810.3281721270346, 1267.8941815942721, 34421.508427559886, 1185.2149492765525, 13065.507633701633, 1485.6477919092217, 1262.1435044323664, 1249.0931182887896, 84446.67344236253, 23398.911544603754, 1317.4636686971112, 27951.650064196736, 2923.2243306772393, 5000.480792240546, 1265.162769531074, 1267.3055823234397, 90494.36637709802, 4196.93075117426, 1267.7577044005125, 1238.3359529067452, 4418.8646623267805, 55663.04540267886, 73404.32536265677, 1258.6201281729748, 1191.4335774848353, 19510.00857302874, 5375.010446023869, 2418.972663116347, 37323.22160177674, 1264.019049360674, 9278.823006697821, 1234.762270807496, 1268.9446862896245, 2526.4542331131197, 1248.8789902626625, 3616.072085172852, 1223.8007766954397, 20567.184112404982, 38840.754517313, 1269.1827772857125, 1253.6895615554517, 1264.1376415369386, 1269.360237965489, 54889.52955579395, 1269.453675445701, 1124.5529897503345, 10628.707407320795, 67217.15272654613, 3051.065982344282, 2612.014483112325, 1334.3063276172688, 1315.324870617696, 1195.5071695350919, 4542.631649762019, 1172.9883631995842, 4283.590365379611, 1267.5381378355064, 99805.59378432843, 1679.7746255751988, 3022.667840723248, 8507.541828007728, 1262.6755030153315, 2942.3445396541724, 2238.6562015915715, 1177.2275775240917, 2480.9109583104455, 26765.316385059887, 7118.76425115831, 11082.89044059392, 1477.9178778277665, 3063.1980865105206, 1232.9466407086315, 1268.9685267918542, 1265.9489827403547, 20186.89925913551, 2357.075288868842, 1266.9066185549138, 3067.6740006798955, 2104.979855015629, 1255.2487750291311, 15816.536117442813, 2657.8415756154445, 12549.108217605732, 35247.687458131564, 2151.076102595957, 2537.435721815412, 31818.335146214617, 24922.110313152934, 1268.7246274143497, 4254.61132869372, 1260.771847888969, 1268.6160941299886, 1268.7463706399606, 1269.5785671734743, 1468.9024949938812, 1253.072495307267, 3743.943498604131, 1843.5674444852793, 1240.1513132864704, 7771.665401617555, 1261.2221070741334, 2109.6297557880957, 1168.7266573987738, 1120.0346087927296, 44307.78730069385, 1268.9498847022412, 18599.574584066242, 27428.465396771673, 1147.7174341789014, 27501.30970477399, 50367.401250402516, 13752.559403465291, 2393.9886868489107, 15419.766643414358, 14811.404087040128, 101775.680630469, 1266.1977912203083, 1269.494561879782, 27081.09319254752, 1254.1502486514917, 9892.699262950691, 10165.866746312873, 1243.8249112515043, 109933.2672348532, 20277.185173794835, 27350.376365976903, 97446.01686505464, 3855.3879296500213, 1163.1207230974321, 6066.252806688392, 51225.50155223855, 1225.2627644675833, 1269.3674256187755, 18476.880995749507, 3935.262605703785, 2646.2076054879562, 1260.8017099873089, 12430.26867392387, 1260.186735563359, 1263.1997945941296, 8773.028869953801, 12872.381847153905, 2147.2921616698236, 1821.0351766590995, 1826.8864218665199, 3505.8542614003677, 1239.757469510251, 2031.1900891051675, 1268.521672106812, 2261.4565504838365, 5759.105554657169, 8021.050229352862, 13821.853435773553, 1267.8843406608942, 5706.9632047846735, 1235.4036332033045, 1945.765309988104, 25984.076286128882, 4564.203760598966, 1253.7486845629683, 1815.7058255902436, 1268.1825821305094, 1260.9655507759287, 1246.5532904417926, 1222.934135903919, 44741.74617428737, 3616.506464701491, 17468.136886776094, 1268.4227895419076, 1256.0842542710432, 2149.2124825875626, 17525.311185952738, 6304.2460604678445, 2169.1126332211866, 54153.295960861484, 60005.55079524519, 142065.14796669464, 1267.8248017263863, 1463.2657444308823, 1267.5648730605933, 3460.865719562908, 1121.8543825241652, 93745.10725451956, 1184.4440468684077, 77723.96097511303, 1249.0435679567959, 1194.0472817890682, 1265.3245737473521, 1840.2017457065617, 42167.80358374073, 1243.0819289253543, 3402.8697393045254, 1317.944945724023, 1269.681884874398, 1246.7357711412167, 3961.4421662427453, 17168.521001307432, 22042.705002691226, 1050.2647076752294, 1266.0847466737328, 36807.660850535816, 2288.3697711021473, 1269.6425769339924, 131863.63219419782, 3339.934995617252, 4033.4126763125787, 1268.8725946941552, 1211.0134027777904, 1269.6478527033091, 27608.374103091755, 1268.2360364807892, 1249.379367291763, 79783.188696265, 1248.2835037488524, 66968.9952750853, 1137.7271413231676, 1461.7762015381738, 1164.9064165108996, 3126.2227355230084, 16871.4445226288, 14840.401990331704, 1222.0832817806415, 12228.771410246734, 1531.8051394801698, 1640.8837723950876, 33290.02722732771, 1393.8474750854575, 1233.7113756214894, 1269.1402935399333, 23210.6841009511, 24099.41264479604, 1263.3860648108976, 6680.817364672469, 1269.1287273637417, 40864.07080179436, 14986.844388286887, 30656.583659363067, 1268.218195260995, 1252.6759670749802, 38922.37305973173, 1207.7421076379767, 1260.6112545215788, 1253.6603919209385, 1258.9462099185387, 1241.0476721671782, 1257.618663604471, 1264.162928034168, 45078.64819077148, 9162.207030617907, 4719.41590501946, 12883.763545159543, 20398.284317686343, 3026.8391430383763, 1666.6575262066942, 1269.6790080106682, 1235.0861707496022, 6148.270560073502, 1278.252196455101, 1799.2027774590624, 2490.751777466319, 1213.2408421971008, 1266.526427402167, 1254.1661706213345, 1250.9270017612723, 4377.914856743695, 1334.1152302975104, 4327.620289582951, 11292.989558166137, 36665.45676544351, 1268.4404738860567, 1269.5856240977225, 2197.399363441131, 1174.0920720593235, 1674.0782862935732, 1274.7769265404736, 1219.359047621943, 1193.5952312867264, 8737.508806573029, 6753.511811010247, 4004.8173426658777, 68478.93008786025, 1262.1067143708353, 126162.47426454395, 1268.193402609877, 68937.23800370866, 1254.9641813567746, 11323.44609013824, 14996.46613152148, 85526.90424813016, 14083.923429756132, 5329.0373728400855, 4684.300993124159, 17096.847787421742, 1265.4382376986855, 7393.685306316847, 6874.729845050914, 35220.85966374723, 1250.9665731125058, 56018.50967755524, 1284.654660677996, 5915.935787542046, 52252.900892125464, 1189.386102180954, 9254.6220293711, 1181.745015219126, 8889.687127525192, 1212.258380909508, 1266.3108014075265, 4790.106347754212, 1172.289788252743, 6232.703339008777, 91490.31009278684, 1112.035399138109, 1165.0676167488043, 1242.1443759762024, 9304.768003588464, 1268.9771074486355, 5298.176585841639, 6576.713839421479, 10356.969089514125, 35715.58561347466, 28648.821248970988, 1228.9970817586461, 1228.3458304331027, 35127.61555320448, 1269.296721755132, 1269.0164945044025, 1112.852101702728, 10040.889406378856, 2828.2275880490065, 1266.307707065735, 24443.628353639986, 1269.0027780344888, 2785.9817051953855, 1164.870737465858, 1269.5203247084764, 32500.73393483681, 24525.362871827805, 2004.3918872750585, 90602.41022247687, 1261.5672843880131, 1266.8834106895076, 1229.5635722809768, 2789.2804948020503, 3412.8196470038138, 1242.8251217053844, 4260.530302008684, 9363.177911296174, 1285.8264055837415, 1253.2169763616398, 26243.267555810275, 17081.830025908333, 1155.7104422578238, 1248.1935723741965, 1249.3806108308406, 4168.004972707661, 1639.9592125770769, 1269.6403174061472, 1269.4715718876826, 1727.0276370750146, 20189.083414298766, 1170.546417235046, 17262.12006846404, 17146.29482251046, 4310.255043982729, 1269.680701541743, 17672.886223250905, 18473.46985173994, 1244.005633968813, 1212.6652000671713, 1254.3744289262213, 4136.309371118905, 1185.9526924007446, 5973.638123785046, 9098.838920084127, 1209.44236007572, 1265.1813192746995, 1522.329930649155, 1247.526134828595, 2216.645456731731, 1260.0630800349268, 10775.330474688926, 1246.5763657339892, 1933.4699807588431, 1116.2718594721916, 1117.7815048071031, 18743.29275000265, 13836.688466204858, 1349.5897519464643, 1545.3601762779676, 6927.307971963076, 1222.523273895225, 1160.5143651543046, 4089.389808681426, 1268.0316207246767, 7157.5530909940635, 1268.7843319792457, 52174.949371664625, 7730.96784629035, 5671.727221603234, 10623.456070073207, 36579.21063622156, 1236.2155079754757, 6817.360137288202, 10463.686375807858, 57594.024783256325, 1256.4483528087371, 1240.0832198294, 1242.0774666555874, 33083.142860597334, 61656.78392928508, 1267.6020295531503, 6941.159716347738, 1213.199455609806, 6809.318812779534, 26347.781943035105, 32242.520061339146, 7823.067250704037, 5678.855026448888, 20923.312533392465, 2697.6890891299795, 1193.7456560241164, 13278.84393535628, 16582.462842720648, 15460.645060036497, 1205.6177142277586, 5024.188183688343, 32031.880664507455, 1269.6716043601034, 12519.2202676745, 9127.076618842008, 2329.6765927964634, 5396.504784051984, 1252.833939287363, 2515.0163048704962, 1125.8604006249168, 43238.66400279511, 1246.1277010162464, 73750.04617036477, 74322.4907185413, 1264.9380792933212, 15268.389931528525, 1623.1023434868914, 66648.55334758153, 1257.4555974801394, 1267.10114541915, 10895.429035948831, 1181.8894673681018, 9389.34499484635, 1269.0143011024672, 1262.30362464038, 1269.5619600385808, 12242.880523215754, 1267.0314170080676, 17674.002378683494, 35678.376270738, 32023.71912286284, 1117.117460171587, 1219.6092471402765, 1266.950319179278, 1263.8182062480369, 144391.4231934505, 31254.655076032195, 91790.11895876641, 1267.8550598877578, 1223.2866888392705, 4221.660286316818, 4268.30541994787, 19001.996811645622, 62025.57549648721, 1248.7472675473282, 19814.099130641087, 1171.3362658271856, 1225.932241744134, 1264.793562352989, 1718.5994046486646, 1268.6319572614182, 1269.6777621351962, 72149.7502860601, 1262.5488549733218, 1269.6800397072964, 1269.4126487721876, 1269.6793041537069, 1267.9244849739016, 94807.18068321072, 9783.40262862754, 1233.9369062035685, 6563.343066859745, 1248.2135031178475, 158581.25498210156, 1260.0506996951146, 1266.6558467584825, 1260.2578963764438, 5887.928140540131, 1265.6970230002673, 1823.624297983332, 23380.521781269483, 1262.361378672252, 1162.3335466796348, 36454.66472985555, 45145.93140483944, 7913.496582388266, 1636.3937261997485, 1260.958617605956, 2805.3837020741344, 1261.9126810153953, 1253.1689390602742, 1437.38950652607, 3004.9511800622026, 1567.631841680026, 47154.61343276737, 3832.075421480199, 1268.5056104105327, 11641.667764182024, 1256.4068360590416, 39502.17662751816, 3363.574183337538, 2925.2580951484583, 6201.922544082384, 32589.44404387811, 1188.1397157237955, 70644.97676665851, 1268.3786100808957, 1261.7255001343638, 1265.427552373076, 11105.94496662309, 10621.455793171146, 67173.20748436672, 1939.9856760966493, 22391.933942582255, 1232.4746101382977, 5425.14108279322, 22867.294380703035, 2375.197915239217, 13020.044436746888, 1243.3666636457297, 30491.195888901315, 13020.770184670351, 1241.1491089856981, 7724.425009644075, 7435.343845901842, 68178.13294315846, 2689.3624601696283, 1142.9207359947873, 1261.4804737739614, 1261.5328730319816, 24611.501430514614, 1263.2889765080572, 1396.7394451771802, 25290.976788159045, 3055.936986288351, 59654.37318003035, 2500.5513554392537, 2319.490785773618, 1207.1289759858696, 1247.4009567026774, 1258.3406221434086, 17019.735796310553, 2312.0458986668946, 1200.7042629607893, 41407.3260869373, 1232.6658473689233, 1257.4947982715792, 1264.152905343061, 43463.520342641816, 888.3511823844524, 1268.6649583160595, 4233.654887190109, 1267.3890261790962, 1721.702040973893, 1238.204145808548, 1268.1037404801023, 17119.85201756306, 41243.7867439156, 1261.0347370435934, 1564.2758735436812, 44915.78334046731, 1267.8897819823328, 6649.1372951729745, 1198.7082399736673, 5042.453427458544, 1258.7196550301203, 1262.9899247010621, 1310.7493514734765, 3647.1870173333964, 1157.2164311284316, 1243.0894808465825, 14492.479660303605, 12847.894946430333, 24761.939074137015, 3325.0720245983143, 29817.90188733525, 17607.560066462396, 3774.1353700205286, 1159.4178972669633, 1260.2285269666106, 1252.3853572431808, 2396.3656401197536, 1259.7296025698845, 1266.1307022776095, 2917.7994897725257, 65399.83489800637, 14575.016008991197, 20900.826885111226, 69194.76698242633, 1262.6492807267696, 1241.6993276241355, 8017.353152207884, 1115.9888750683383, 1212.6467110508306, 56807.949245960015, 4217.51332421723, 1321.3933621709443, 19232.195579065537, 15218.92986864145, 59398.923351514, 1210.0490319420276, 17859.035796200016, 8271.576602639807, 13681.448356917484, 1263.4631270427594, 1255.4497677348086, 1253.888820435351, 1229.3823270437856, 1169.018057068204, 1252.188435715846, 1388.9759373416855, 1884.2918435818633, 28242.30459150732, 8718.33434191015, 7040.814698478583, 1269.5828749766672, 4001.534485643602, 28558.53999215848, 2391.264525218738, 1258.1116007859098, 1936.6320459648944, 44693.002132990856, 24828.23178171097, 5319.049019890483, 1209.6268397729893, 1263.871922867186, 6402.7660130482745, 1254.7014717038485, 121292.69556334407, 5493.64043700065, 1268.7260581320268, 1251.8843647067197, 1262.7731821497516, 1260.7946806199548, 1269.0182173630878, 10415.715222063884, 1252.1145858913446, 2066.247115100417, 1269.657015920074, 2275.5516480219662, 1257.6898889109882, 1267.7442273599306, 6362.539065113588, 1265.8680941712316, 16037.220178708376, 38090.13522000507, 8710.850811366285, 1267.2055279254478, 1245.8783246770201, 24806.08787426945, 72977.36079711183, 1268.4175336523647, 15466.882349562065, 28962.11252520232, 26709.31578516885, 14426.002109657864, 1179.348194788903, 1222.6619283976547, 5961.148418575467, 1238.5569156818144, 60652.56749312644, 1260.5519894024485, 1268.6719880086132, 7751.079612487114, 7408.29279850322, 1196.665404580153, 2805.2825806606634, 2726.317570033195, 37507.3365907409, 20052.980951836285, 1220.2759261999038, 50393.56198684451, 3298.3250420852605, 31834.676347460663, 3655.9384433068526, 1266.0855332138146, 1473.2668424582557, 2269.091527038338, 1192.6228902328487, 1265.347171128513, 1242.7856580454975, 2231.025045990779, 1268.9831640675882, 221807.91626039954, 1130.7972622520133, 1266.202729289836, 11784.8513829708, 3333.1995539355157, 1269.6813222694125, 6301.615504752273, 1267.7981109294228, 1248.5825501839022, 1238.6330852348297, 11200.29937977671, 1256.9694775579767, 1223.9724994096784, 1261.1011147251481, 1256.8926920203153, 28880.11505816246, 19610.11232572602, 1263.9187989214108, 1264.1460260506576, 1268.8927312609633, 94915.34685591415, 9640.77570018328, 23502.29527842865, 1269.6806514240566, 1260.702651285162, 6518.19618651519, 34215.691644132865, 1244.8571914311356, 1691.3523836634715, 1532.7522261656086, 1170.7851157137295, 69090.72475464482, 1237.5196287751521, 43605.63273348102, 12842.793034222042, 1194.7551732104057, 22080.666459807737, 1249.9712661455223, 1246.8608108859448, 1269.6819974404334, 13753.786332660186, 3955.0104123569386, 50305.153683247954, 1947.4012727351299, 9693.884663044715, 6813.393948736521, 1197.6440989803255, 1261.680962099384, 1260.4681995995138, 1960.1968663405207, 1263.8199857758218, 10859.562090121402, 13261.38976596027, 1269.2698607264535, 1235.791218545346, 1260.5682227667776, 17577.472806379606, 3514.335295903945, 1269.0271776348652, 1269.6251988624938, 64606.63611050514, 4082.910509211851, 1269.5706494053525, 41803.7433237852, 2405.1873003135574, 121389.6590318707, 1235.1585773816973, 26989.062083336936, 1201.3098437495787, 1268.9326485992058, 1169.9392886821647, 1253.1194358834825, 10723.754307902025, 1083.5858676692371, 3111.055181402787, 1257.1654042570053, 2652.4549327506033, 2612.6409475393552, 1263.850771607883, 1268.990341649985, 1255.2025573941496, 1257.645045344546, 1240.2245118123092, 5397.957032315991, 5796.530170649754, 3594.6265940226604, 22052.788710279496, 1269.068561970313, 17507.590896773003, 1258.063454350065, 16327.409217611003, 1184.7513328037849, 4005.7541950248433, 1121.354292760516, 2303.82082684467, 27635.527192200447, 2934.414399059447, 1004.8645206998998, 1231.8794434934237, 1258.137710606486, 9711.926483411915, 1255.2993664157757, 9191.846528605338, 1262.4030854900764, 1263.6572978569013, 1243.011396170214, 1149.7278623354425, 1128.8643451883852, 1269.6654896347995, 1249.83610478824, 1231.2223126419128, 28459.161747732975, 1333.7392720102412, 6087.682105121955, 1778.9314635240949, 20048.725637037205, 1254.1553912086513, 1269.3242680033222, 15952.763551616536, 37811.318646287444, 1264.9008214469538, 3266.150818902576, 1269.6682443061673, 1269.4504165842195, 34651.89207038548, 5993.754731696234, 4770.222338656856, 1215.953488386411, 1431.053487131438, 1268.7598112467733, 1256.7488286399866, 1250.0741311843663, 1180.5153470266166, 1251.5172708914452, 2794.3006704399345, 66527.75382486018, 3018.1978337117303, 12166.347692020103, 1268.064485528015, 5364.0576821137465, 3984.061909076849, 17509.64233723596, 1219.6605679688826, 1251.7248849027287, 1253.9606962712855, 16017.59448678917, 6192.157577045743, 75241.54929344762, 3242.168724797509, 1183.0381538088802, 1207.14179769162, 59575.50808119749, 15839.204438033155, 1259.4999364241148, 1254.7509081008493, 1261.7005913684502, 30266.56549877954, 1261.7143865729672, 1257.6569186610825, 23899.242522837558, 1240.1844723363472, 1248.1462619519214, 4696.624087350207, 1234.7979807767795, 1261.0509541286503, 21383.535333933796, 1522.0809959542796, 1244.3465402620775, 2734.6938571812548, 12770.136443808693, 1265.319828467834, 1267.4698561222413, 1266.943765615115, 40709.05184542985, 2927.708304291125, 7761.279188567067, 1260.6521017145574, 1257.1401305884237, 24211.56138215257, 13745.178520921645, 1176.4852340412324, 1245.477862404863, 1250.8703112074697, 7010.181314072951, 35557.23882938252, 1210.1816388011448, 1080.8631117805337, 1222.4052788910553, 1242.818847867153, 1245.4606931099338, 7343.4099219803575, 1150.8158099525976, 9140.973520577298, 4570.66279030146, 1257.798017606852, 2367.0491175458114, 4958.77754352657, 1264.556273817336, 2847.17945813414, 1268.7598118810417, 1160.0419262610349, 19515.804695981307, 1215.4779172469136, 1269.681035312149, 1260.2812209957979, 1152.6705950775352, 1247.9084277309182, 1268.2225925917091, 1269.6797126069744, 15212.591501499492, 1255.5175341419636, 1462.319722503742, 13690.901014929546, 4456.817016036205, 27507.25978283946, 8971.903250758149, 1171.6109998457491, 7367.945536753305, 65356.0734074086, 3075.9090614262436, 3961.1302920073804, 1238.4237256995577, 1268.7846724297938, 1257.1634935072552, 3774.0686512741886, 46574.815945847826, 1222.6435593735105, 1208.4919128578729, 6124.969410899292, 2011.9700506860754, 1268.3312967798668, 1238.2457506433677, 1253.8863831516237, 5854.63554427945, 13060.5670466107, 103281.08316476928, 1134.180027823496, 1220.5910277921655, 1175.5101838748903, 67668.01399917647, 1259.1901990628005, 5729.314295250328, 1748.144993060375, 1269.181476509877, 1206.5215091486807, 1269.4691953687889, 1269.4623736014203, 9772.325782278684, 23336.724643861857, 21894.829579524918, 1304.3861298350112, 41353.48411818457, 38022.39935072375, 25469.640977190753, 6496.565388689043, 144886.699214542, 1261.4069709626694, 1269.621583387453, 33687.02135946469, 1254.9457631635553, 14210.968149493816, 1196.7720436070304, 1247.8278268543543, 1235.5933680811443, 1266.3193081914112, 1262.567213710383, 1735.8545860776821, 1133.6814469135277, 12700.417587873299, 1126.4831104535235, 1267.410813718114, 55250.22155753094, 64275.49460604173, 1267.3938480862703, 1221.6166807896625, 1257.1800874643156, 1269.2305786469929, 8112.118917126904, 32812.64203542047, 1238.6673075606705, 1266.983792527951, 1576.4056385786969, 1269.0956971753278, 1240.7761447679507, 1259.0190421607545, 1256.677668928138, 20700.780762029182, 2722.2124878842774, 1269.6688399764007, 1269.6625332264289, 18703.345410274123, 1875.223085158585, 1244.8516189830832, 1268.3099287406374, 13908.521053401435, 1261.3124069800172, 6094.843753385451, 3440.1040341777666, 1268.2032997457175, 3445.7384398206455, 71386.18718278981, 1195.8716572716305, 1168.8712824498366, 1269.0952877982, 10766.76220358519, 1266.5744388018431, 1159.276572623983, 5718.845049109906, 1180.4819238135417, 2951.3393268006294, 1265.01853695931, 1241.2512486370645, 42251.098892744914, 22802.76547118842, 7005.8767997119585, 118542.57165790342, 1124.0043709626852, 8011.181297333083, 7670.791529644783, 1200.3578957200991, 10790.030558344559, 1180.8228198037468, 1269.6803022396732, 23416.758617084306, 1251.0315461246757, 7904.410621203586, 1276.3837674083268, 6263.065347766223, 5572.980861484245, 40053.65492105556, 1177.3120893410912, 1269.0350308095167, 1225.5005169819467, 1868.7761454321108, 1269.6095174473587, 1215.107562592848, 1784.2805233778952, 1268.3431555976344, 1137.5047128087524, 5983.654619562826, 32212.25185376037, 1233.6323289965512, 1259.913912683315, 3844.9150391447833, 1266.1897174603544, 6270.59859168738, 2973.239335459876, 28412.879725237068, 1259.2971681233894, 17034.067201874972, 2560.585296152278, 50850.94662107496, 1268.4319704083496, 1888.377612339078, 6520.15480733573, 1210.214227250538, 1269.1639997174443, 40803.47951166467, 1026.2105910361583, 37668.20493825079, 76093.2581980115, 1268.8511721207897, 37296.60320477662, 77640.06293178769, 1193.5812726746112, 2708.418404008541, 42599.53268677632, 1990.3914748031548, 15783.500190555736, 3383.5447900536633, 3743.510241737691, 47702.8807864686, 18440.04566998148, 17549.934954710865, 49371.51288109019, 6162.7644361411885, 17370.453547626013, 12379.735940795048, 1242.8983864103593, 21249.52603699669, 1244.696831727368, 17844.093182338653, 9100.290105379358, 2899.7207915681215, 1244.5948522777853, 34980.40571863511, 1183.372415671582, 3272.6791607394694, 1262.6346829488248, 1267.5084735043306, 1133.1646569194156, 1268.8504897586965, 1268.6414437028882, 1119.4109787574473, 1259.8482597600826, 1268.2130034094987, 31715.13817440238, 1265.1784920546545, 30551.857052925876, 1257.122412431076, 1263.0457468282625, 28183.1878726679, 1247.8462199332653, 1254.7625149032294, 1124.1946613620091, 1263.2522013764788, 1457.699025952719, 6171.494974109138, 1267.8681543752184, 7145.390575482514, 1225.7413891445701, 1257.0203516655483, 1234.838220364398, 1269.1203061710257, 22778.098521579064, 1209.622314238281, 8901.560910090522, 1254.0304436876866, 1269.6324100164584, 10753.204656996126, 1263.919744562372, 21518.742853140786, 2215.237653544915, 19500.982450029802, 5899.087642269584, 19792.50066254196, 43530.78291983664, 24320.146182329234, 1260.3388506091997, 1269.4206102979558, 1455.7219568003761, 1132.36203143244, 2303.729837434958, 1262.3064572860903, 4646.487718765381, 1210.9580503729912, 1132.467968504521, 1267.036842684679, 5056.031385553931, 1261.448849312026, 16649.0343376734, 1252.8893942137295, 1268.4980248248485, 1259.0128161165783, 36203.47945593791, 1205.536211083507, 1268.8874861739278, 17423.944794953273, 1269.6637820325195, 1269.3867327930475, 1250.1093363094371, 7652.524031100651, 1209.5195355962708, 1516.9157419677013, 7924.649172819328, 1257.8479194008867, 13890.09853698749, 1527.5044162493555, 49800.65012821007, 5220.628563759859, 1776.2524901854486, 1702.8585043508294, 1150.738591025095, 3287.127647590989, 14255.085730236993, 6914.259404681089, 2367.31937374673, 1255.9479850323821, 2511.0937373908973, 8209.581727057845, 1247.4373312103096, 4964.828135046129, 1520.112572791003, 2105.5181282705944, 2279.941770268951, 29889.208880738617, 1116.3200811792665, 8871.620906749513, 1225.90026461597, 7583.378980441755, 1458.8891903452227, 6630.576348388801, 36955.984400093876, 2599.51196095251, 1267.131301046727, 1261.8007074887828, 15904.906921407734, 25217.085340043148, 1145.7266041282219, 36777.12130720182, 13452.061736570511, 3357.3087486974223, 1260.1940593663028, 15364.151876578835, 1253.6849588663806, 1254.8373507476415, 1161.8861391849694, 1141.5075042684305, 2203.127165053725, 1242.987373749581, 35162.87892788559, 10921.732595870373, 12370.178967436192, 1891.799040382001, 2248.945864153145, 1214.6865808597377, 1268.41727418218, 1153.1251361583063, 1588.8693147571198, 37443.91814856977, 1229.8033702787695, 1259.899921499325, 1229.3585670005853, 1189.4324012149025, 16369.327295685789, 1185.9254168966595, 78368.15655485804, 1180.7622112139331, 3963.5433756555444, 1177.139556004905, 1233.260403821224, 54494.16205532627, 1260.8610873652106, 45549.798764095, 1252.7886814366839, 19134.045993794476, 1184.6912710168342, 11335.724038230403, 14795.251578242709, 43935.29265371541, 26460.704037460113, 4976.190356425857, 1268.2411462551754, 42532.08282801688, 1112.2944423737351, 1265.8427541189135, 2416.518669072536, 42020.71200961988, 92265.96603757919, 15797.440627964108, 1166.700888551624, 1431.1938059270105, 1251.8013125699724, 1253.7847779583078, 1242.0953057762902, 1265.7801343434119, 37156.125559301225, 1254.5293394154296, 42931.88721173057, 1269.6813928755562, 38662.22787915635, 1267.5009867601607, 7165.011021767, 11768.746303606404, 1250.4192949103015, 160719.5680468432, 2483.154586979789, 29554.26464657851, 1214.8571315200027, 1255.9499780136248, 1250.5789633311247, 30074.69162617332, 13092.38292341037, 1257.069325819383, 22502.522372482523, 1251.6876118274179, 9230.966516010498, 5089.506135239584, 11653.010192017797, 28837.168209952997, 1125.3145801428518, 1221.6996772764658, 3539.5560509041343, 107121.64657525922, 54647.42642346635, 8367.169888939625, 23885.5433533552, 1608.54053771371, 48874.329664891375, 54994.45340768917, 1243.9188244631002, 2103.2056320338997, 21291.788020995067, 1181.1326877102938, 5326.193930819552, 2905.912645175497, 1179.2278670696094, 5585.968226362433, 35179.42537620093, 1122.2363715813867, 1261.3643993138637, 5879.80079506304, 4833.48527257624, 1260.2090623015015, 1142.0095742432832, 1167.3997978367513, 1261.4895797366853, 1266.5617360360138, 6265.406431133253, 1267.986688902028, 1263.7809331487742, 13484.847833717375, 1269.5666014288647, 16448.863070523075, 1256.5322959465275, 4522.3400447669155, 1258.0460691595981, 1267.7146852671628, 73315.46786920802, 1240.2806577041458, 1151.3139356396348, 132631.0678242242, 1254.3881810416729, 21618.200524958964, 8374.026325248527, 1269.0501236964599, 56412.56381455712, 1266.367166992101, 1254.196799097982, 12644.996865401225, 1258.837771065374, 1264.8542473393309, 3933.232815098984, 9370.83208860738, 2067.8936826786594, 1260.077308196235, 1269.395683196708, 77381.86488367333, 4930.5932982394515, 1244.3708374162184, 43587.72979770566, 1250.9731560068724, 1704.0752660795263, 18570.09920142178, 13961.196072621597, 1269.5027598267404, 1292.0008804448225, 1128.4411300482125, 1267.7041662610732, 8814.394930477967, 1269.6361507576073, 4302.883372730706, 16311.408323635604, 4859.348596476117, 14358.600163926496, 1264.8657271950863, 4939.4031113133615, 2725.4596011787316, 13624.736500379904, 23029.495687971623, 1172.5903604482262, 1212.8449673230878, 2184.752822936251, 1627.0804741217032, 48937.864618535314, 1815.2203604538604, 2509.8367423481363, 128154.44869837255, 3514.204343054845, 3508.544836516241, 1139.5127320890151, 5588.128578193516, 70441.0783613681, 1269.6707284650865, 1136.4820764538745, 1262.170963190476, 1256.5397358001144, 1264.1703250888067, 1254.1897977461604, 66691.12843706412, 1237.1514360695273, 2643.9927865166665, 112466.6343591716, 1244.2708835650294, 1251.6971623981083, 4897.957671062581, 1268.47664518871, 1125.5113197563144, 1269.355548517095, 4907.928682392288, 5721.914762988948, 49234.011336244206, 8640.515720597376, 25534.333677596685, 1691.6830601649665, 10126.849431367396, 17751.60288385486, 1260.6722839493043, 1267.0912991441423, 21483.84041002464, 10016.612849355004, 1120.5371922874988, 24199.469914256675, 1269.031159638116, 4471.813386832464, 1117.8770935251885, 1267.1315896135702, 1268.2128947501985, 1221.5673025569151, 1249.6502513135179, 83472.88180341074, 15055.97563450272, 1235.1488675892879, 25531.283147578873, 1228.1362098784377, 1269.6773897393139, 1235.115901739596, 1266.5313105640603, 1255.68696780062, 19114.24260263407, 29944.508884190687, 34637.58597908682, 1151.9213586597652, 5386.989977819523, 1169.0446808414374, 1268.6926087190225, 1239.6678595327107, 9677.139062250386, 39026.945140787226, 12301.968995780016, 1183.264282559223, 46337.95209923604, 1264.3927934862356, 1250.4455221516084, 1266.3354984400728, 8037.971750210663, 2123.0283388565667, 1266.7332154861842, 8055.3809209388955, 110413.94335125115, 1232.2652696527648, 1230.7648640375292, 1469.3650513772457, 8773.49208246088, 2403.5037799991023, 1264.0478510589985, 1232.0789740363816, 1235.75837311148, 2370.1553157619974, 1157.7137146189925, 50626.16097191831, 1149.785657341913, 1226.4299844245122, 5094.900474037656, 1341.7707930419808, 62191.56541970478, 4422.511206624651, 1235.7036790557813, 31620.446762689324, 3530.7837422448188, 121229.54109590607, 22032.199816604658, 6657.646965731087, 1524.0562634557393, 1236.5231602538754, 7759.740851103135, 1153.7504030011573, 1253.7356162321291, 11213.387899480967, 9531.777424485424, 1244.106277477864, 115349.60342498493, 1269.3881814296944, 1161.1614873321791, 1269.6377333132193, 1217.6238765755622, 1232.5357759424062, 1466.8058697680929, 4878.85980319483, 1268.2694595999635, 32010.729985251874, 3000.209958946557, 4739.592703599131, 5430.777874836914, 1265.4409649783918, 24187.412242864437, 1242.1004896402007, 1123.629192643792, 1365.903488949411, 1262.632412422532, 2880.698211655036, 83965.85192581889, 4670.107461307849, 1190.9832163571984, 1191.5403497453738, 1255.5739255126464, 73138.36097588812, 1268.7437814869738, 48047.78874786974, 1004.758072867557, 42855.05160760409, 1262.675078521849, 1163.2644298993882, 44652.03847333822, 1265.0892821683447, 3479.039157891704, 1156.6079204962446, 10253.5507352975, 1183.9934505333758, 1257.4242228159192, 1659.4885963275492, 1263.2840947451448, 33270.655722466494, 2327.1992599758228, 1269.6007280430167, 10816.044853580373, 1265.2697355763328, 1121.4754644391899, 21233.24391801266, 113777.80115220262, 1110.9747390543828, 1260.3665997699911, 4968.876498301021, 141977.58580632845, 20026.58783523369, 1247.4295664036083, 1247.3479642744185, 33301.63111629428, 3713.2602167871173, 4336.623180712889, 8848.64080140313, 1268.9724294751484, 29459.589769503094, 1242.937332255326, 1263.2055993382435, 1152.9959789343523, 1269.2196152176518, 1502.1454798736236, 38241.83504876035, 9721.679381171329, 1158.4336444209493, 41448.514435235236, 4500.707911859155, 1260.391117369503, 1265.0285818277396, 1239.8865849315953, 1269.6498892390493, 13704.109145924323, 1269.2627552453828, 39515.731073533076, 2379.9882224536104, 14883.858616561813, 1263.134611221387, 2165.8757393602655, 1208.4797907799145, 5855.573721565436, 1268.582335698202, 2186.480564985075, 1208.8017231636616, 1252.1431273425903, 8848.912200974917, 18687.418309273093, 1184.4503300531765, 1268.7336695618887, 14807.648850340649, 2954.401553100732, 1266.0194527701794, 1250.6808459209303, 1256.9964164764892, 1206.5405549117108, 1231.8288104005248, 91525.79785099778, 1268.4085470809434, 8807.138600670898, 1161.3549528434587, 1172.8907535760434, 8593.79267928908, 1184.3415485590187, 1244.32992336367, 26447.059476271916, 1227.9878242476343, 1335.4520064618205, 1248.7436827373654, 10322.955415903398, 1269.2073945903173, 1224.222546061775, 1254.6001342683896, 1266.3365911754302, 72496.33250221376, 1149.8844347762958, 1269.6625785827316, 1188.0409682730058, 29334.23475869847, 1266.6307190858877, 1267.213544223313, 88899.19385543176, 60631.0394795551, 1269.6227535484443, 37489.018896448164, 27543.979570103635, 2073.474346151048, 39834.56587670414, 4708.239456198278, 98779.88306858002, 1190.2053072607396, 1137.2133994546396, 56548.48352879979, 1220.8828417028908, 5584.989938702394, 1116.1352197555098, 1269.4782210313563, 43824.212053447125, 4139.802298785776, 62983.78699568509, 6464.732433111544, 7252.377103884074, 69013.00303464304, 1265.6346561063692, 1126.206580290963, 1269.5423690575722, 1266.6246512056994, 2723.031801521435, 1182.2554256742328, 3026.0730861865195, 1250.321554607998, 1232.2219131601166, 5584.060043099108, 11387.626901214893, 1240.6101790218727, 3637.625238830763, 1234.0446698701505, 1604.1971312160235, 22496.711526401305, 1256.1269174198956, 1269.681870174587, 4915.6009943684385, 1261.5748595639845, 55419.44622409045, 1239.4223828553052, 3293.6629821149904, 8556.011923479322, 1269.4042894299503, 51442.05487029562, 1509.0701867151383, 1263.7674746744049, 1839.4280315378253, 54713.068894833894, 1266.6123826099745, 8599.924036964601, 1140.2183296321768, 1187.048640742765, 20360.711423908433, 51032.76053306939, 1264.9206838431414, 4815.2307899924635, 5117.553841503927, 78405.31471874965, 1195.1478396560115, 1268.5299028406132, 12227.239347294359, 11630.009443756433, 22979.614969776758, 47796.98202074531, 1743.8355225421642, 1156.1732089466784, 47771.972893147424, 1259.5571697011621, 1179.4050856280917, 13003.755426390166, 11260.165031795157, 1165.8765715481893, 1263.2685597081304, 18303.106937514523, 45792.67321580804, 1244.5953996308742, 1132.855435622305, 1219.470122223301, 9626.06370162229, 1209.2460582801193, 1180.9993818076348, 1262.2524709926065, 13402.519135583858, 6192.822286292885, 53788.39573117563, 3775.095819427078, 43134.5977505039, 2240.998693898966, 1174.6419170671147, 1658.3535821329485, 13878.75801739763, 4076.357818491386, 1228.0644563339606, 1470.601090045396, 2058.7276028860056, 5491.72353205195, 4432.432187450589, 71236.65712876827, 29629.411790881917, 1241.750244304106, 1269.090525382041, 6421.073450851027, 26511.97455941554, 1263.5163635274298, 18041.202025057748, 62615.41695078766, 1269.2577071556193, 1880.9233463306425, 1265.975915929501, 85769.4586325243, 53582.96445321086, 8783.81883452503, 4450.827233866681, 1261.536630585067, 1250.9874603479213, 18247.088863572782, 18016.253828751418, 1265.6097804511587, 1218.238525517175, 1214.9607629009802, 4166.2194636987315, 1268.5000385040573, 1288.1807792940365, 7649.882961170792, 123988.44645848591, 21814.47244067261, 1268.5132950788318, 1267.4210535372495, 1257.5582690412807, 3370.9972940227303, 8058.758949989261]
thresholds = [1212.258380909508, 1992.240835342113, 37811.318646287444]
display_name = "Expected Treaty ROI (Risk-Adjusted)"
units = ""

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-dfda_expected_roi.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Expected Treaty ROI (Risk-Adjusted) will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
