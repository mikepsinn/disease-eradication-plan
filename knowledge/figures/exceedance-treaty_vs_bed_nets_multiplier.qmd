```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Cost-Effectiveness vs Bed Nets Multiplier"

import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples

samples = [722.4331724377437, 834.9837631231396, 685.85598920699, 670.6486046133645, 903.9242737603101, 855.9826482630293, 737.2162258885979, 774.6546059048642, 749.3777170835149, 819.6467597844025, 675.5116396001597, 683.6525613531402, 742.4067281235604, 655.9953882296229, 708.9453016499504, 820.1633015320432, 717.1125555766125, 828.361314935824, 675.5872119940651, 752.1694079917839, 763.5573266578007, 805.3338571888506, 648.6310053611566, 760.9957956141204, 784.1142201172244, 777.6851721189399, 703.6144821738424, 717.386852310682, 713.469214401773, 711.9736082786116, 576.4253801658714, 782.2660975897627, 791.1832208657615, 816.394978300139, 696.7673210244908, 655.8608949588631, 757.5699420889971, 818.5806496083749, 817.2825784902058, 693.9473506942136, 686.436880453556, 702.724621873577, 804.0445915865838, 728.4831456887663, 738.1521279234006, 729.6088380638687, 676.1473607070935, 729.1987674397278, 691.6457855156098, 742.2765747633786, 723.7319414533911, 695.5191650072853, 868.0296200621495, 774.9441558835214, 787.6579220576365, 801.8156139727712, 771.18319684066, 628.0511307789902, 820.7035648448308, 668.454974080339, 884.9631240094568, 776.228866529398, 734.2894533763632, 699.1976501214572, 689.0262657044055, 682.4013165702157, 777.3974123495814, 786.982157014014, 677.2216257409497, 764.1014039260807, 853.8935666645139, 842.5340148808173, 825.1236234961973, 706.5031014479794, 735.9930494684282, 690.7068914780631, 784.0235573550929, 734.6424575538583, 695.9835478328658, 774.0722112351718, 709.8305754776609, 803.7448087026513, 778.607034287865, 780.1839918239269, 847.5500022105406, 707.3417021632132, 787.5761803727405, 746.9105284589608, 707.8544334921061, 710.6760029570428, 692.7445586802281, 756.2651380732046, 783.6901001257713, 754.6818162158698, 885.2897864462872, 867.2584583207273, 857.5950760970205, 831.5004439871137, 714.541669081353, 823.9736392189134, 779.8822596106913, 642.7652550947937, 778.0338654506614, 686.9003190080886, 826.2880450658549, 765.2951413342108, 827.6347356192862, 776.5791129397758, 678.634539085399, 888.1998803404833, 711.6759302081, 728.0175961658244, 798.0661020632353, 867.1774006277245, 741.8941087843452, 792.6343638050326, 728.4401391418145, 746.1227958636545, 620.1809638898519, 768.1602168872148, 833.6417746362044, 732.9057309726629, 729.4995136880739, 638.2176587176659, 679.050585870861, 718.098236372019, 630.4041299092523, 846.9845118611776, 801.8887823967875, 825.7093769259856, 780.8651405733024, 861.8127341144237, 695.2044637548208, 766.7129591036303, 869.0754935469116, 832.9964340280175, 721.7011545888681, 678.8091639447382, 590.9300483577737, 487.13733423326937, 713.3304991524999, 830.8705911436236, 927.346749044699, 725.5161703245849, 816.3260195713069, 783.0203755987667, 799.5714284593118, 759.8358358146925, 660.771712087364, 734.7674009047122, 761.3424440000991, 834.6314951899641, 884.3632319904899, 789.000081160488, 752.4945627664687, 608.1798183893334, 737.01204633667, 667.312783515044, 790.0935572306809, 846.6790985226382, 828.8721789431145, 809.0317731430825, 577.724718026398, 817.0261479258849, 678.7801334039303, 823.7634766902077, 671.361646235914, 715.769478860816, 761.1738256078611, 751.3969400586765, 803.1475396028187, 710.713895079404, 786.3612526826329, 849.9228889969312, 854.0713988256161, 733.4656990803464, 621.8423856230323, 734.5208053441487, 757.9658511270179, 724.0062924307991, 642.2498065735834, 729.5508443685867, 782.6467187990743, 657.6253273766001, 712.1442279433021, 625.030670301184, 732.574330309839, 849.8324450379469, 861.1489895523756, 616.6002710137216, 611.3481110693411, 763.1060686175276, 780.3063078458767, 630.5426706132193, 840.418451559616, 823.0878538264981, 694.5386816923832, 781.2697534628242, 748.3939017194691, 761.7484444821467, 719.7006976585549, 634.5800452599232, 740.3434937649181, 694.4888630004164, 916.505206614177, 752.0676065826107, 818.8350198245918, 849.3822164805147, 821.7208878113958, 776.164560144229, 672.6058411718074, 857.88473830165, 745.3839547450258, 788.8199984648124, 775.6198847136897, 665.7344847329942, 703.1379823751508, 639.866292359303, 760.9937850346261, 806.5881435092641, 766.8511643472525, 727.6200486527971, 733.1319768230638, 838.5867156150297, 740.3514833151071, 728.8116908163281, 533.8289867913517, 600.4754556773955, 819.6632494351926, 772.2171783495355, 868.5115782756295, 797.7771957224969, 721.5271883881347, 649.9146438222899, 809.3533984497986, 803.0938758437453, 929.4154314346258, 761.6828334286477, 836.8058958330394, 792.6298828968445, 821.6142912121351, 755.9088242004418, 890.3937825548849, 868.7875887808299, 577.6479594679643, 854.8200117125281, 839.5895583904245, 603.2848648774955, 488.40296950048054, 845.6082147932175, 779.0455476819751, 719.3699585195383, 610.9868727433907, 830.6514221342121, 768.6604853561073, 683.6891358125472, 711.6476382550411, 779.712920009811, 759.247594098226, 861.6734494109999, 768.0603793403651, 770.4436772906149, 728.4824307310413, 794.8061725179795, 708.6131624805319, 664.9505968224586, 734.9030872798677, 718.5228113084729, 743.4892448212803, 747.9554353161192, 808.725901680928, 721.4532163222864, 756.1639790849667, 581.2247357629362, 622.2633085565117, 715.6952661745156, 812.1826468173623, 840.8515587174969, 651.0483082950735, 725.9300126073642, 707.9041269266028, 889.4476339398799, 671.6897291540535, 710.0248718960861, 840.6917095687772, 787.7549823222032, 725.8492772090419, 743.547147550139, 772.6215811479134, 756.6872806124983, 769.2264168094508, 735.1433377995013, 629.7941287220557, 1053.3209941639766, 767.9485809255713, 733.137078915121, 723.1593878442682, 779.3549406099274, 890.3214280662709, 720.4968109225147, 611.0835771253064, 873.8720158282119, 676.7541420064717, 775.6918407723099, 753.130484070979, 836.0333911377688, 776.1926561955544, 642.7031124179676, 699.4893473576627, 610.7275969247994, 652.1082464593333, 711.2907332455403, 609.8946954898865, 711.2984567390088, 679.6211619546993, 772.9931990093401, 742.3634268155946, 806.7118392966667, 666.7727809354552, 846.147760245014, 683.285710982023, 764.0462288965759, 652.5846747699508, 685.8222785784651, 604.4344492175647, 687.4449892402582, 876.7474666273132, 753.6051632271714, 845.6435121839396, 791.6911759850672, 626.843778333027, 695.0103766649355, 806.8376472344797, 832.8446311958822, 745.2029932642562, 849.2027845626924, 804.5154824981695, 721.826315816312, 653.8177486189666, 697.3563226868584, 964.7821329955958, 722.4623326176666, 741.9021715322483, 713.3734452357268, 619.1269920075741, 918.2375104687915, 797.8104618381184, 698.814736415213, 877.4635232371605, 629.462405395389, 717.1452491603205, 678.1323823538045, 796.1180444073153, 680.7617042045157, 660.5768402643497, 728.4232831867398, 728.296088434544, 725.2967260835868, 820.4982010429499, 760.4046929183378, 760.8263372972846, 715.8985146035226, 665.9655704245364, 836.4911448890643, 758.5035757222522, 629.0528539584288, 810.5619997532647, 817.0976943213885, 730.9785511714367, 678.3082829704748, 747.0004472987561, 640.5059167011269, 677.3160708346563, 678.5135359058326, 701.825846933456, 554.9679721072414, 765.2718413843572, 910.3149378627361, 620.0000105822971, 786.5901295632257, 738.8911856612972, 641.9799107046609, 879.0073967446297, 851.9910685367166, 878.9342180061, 814.765676658917, 711.2453121699599, 704.2812973891787, 724.8022898561745, 864.6108233492291, 970.6010388990048, 743.3884829404772, 787.776144318167, 709.6152199440817, 689.777278393415, 736.3438908754473, 685.0751075517458, 728.7295660120901, 703.7987308312795, 807.3171018766487, 763.1138552358094, 731.4411350335009, 680.2191074498011, 781.1968585856681, 704.5294054023002, 770.397326124918, 757.8733336326637, 679.4985042247323, 908.9256285009606, 855.5333056992081, 869.9453354251604, 977.9197031643625, 805.1110973860291, 685.9380748795501, 772.0060706632421, 731.3563088063792, 658.9561581827069, 640.6025893085954, 753.7894163343274, 638.6410555132853, 740.2139996498639, 818.3523444266738, 798.0871127256005, 869.8194067012407, 822.5443093387036, 778.1818259034359, 681.5787578737009, 611.5561294587329, 862.2400029627624, 715.1169346941541, 835.0292935725491, 708.3528521781246, 759.0166017615219, 895.6028956846137, 671.62159404063, 798.9763638236617, 793.0050204900707, 837.401062010608, 803.1053268001998, 712.2158032968395, 763.9274182835998, 720.4414031626633, 717.6790828950653, 641.1357004059831, 776.8959966330174, 869.5383130121008, 660.6745413378873, 775.9420394887394, 656.9789034688674, 715.8999034546522, 759.0208974863486, 718.7702840424421, 595.3046137020611, 582.8391162029964, 742.1251042530452, 734.5041342975554, 659.9695217769109, 819.036136208025, 720.0749870785195, 750.1412203053061, 721.6683457925932, 818.0187397632546, 878.0599893915199, 919.5290325269946, 841.2526930137728, 786.6723628547701, 772.7077671805172, 596.2607384590344, 657.648330489937, 828.6242750079867, 718.858922266123, 782.3220450962915, 771.9621291875584, 732.3992908687723, 696.5069735093496, 776.5981459838205, 660.9382601717567, 843.2300196428286, 747.4287465776096, 525.1323538376147, 729.2418682730635, 632.6511663748643, 740.2649378725226, 699.642963200916, 752.7475646136514, 762.3365825201212, 813.5484082910413, 712.0165500678368, 819.5221681212028, 692.7282960140146, 659.2629255407418, 717.2966496933819, 772.1213393840799, 710.0623974381989, 774.0153316765156, 671.0464209320811, 895.6381532431536, 776.2898604792399, 908.6270048785017, 870.9273325229424, 637.8645624354763, 674.2537115344957, 808.5526100232304, 871.4938861699598, 1194.8080087945325, 793.8117592765559, 544.5397249614693, 711.6378740655385, 795.1628543419599, 709.1455851343213, 875.9151315471846, 773.0567488315708, 739.5966784471843, 755.220223433308, 682.605601263095, 719.1133215668644, 692.5055968163675, 805.9557919474739, 674.0443037725565, 618.1992530388687, 829.2843822947908, 822.5081744466793, 639.9885746206319, 764.1047529847502, 634.8549589233091, 785.3120852286393, 631.0198965702675, 736.9104463351472, 726.3070927211186, 622.8977103969194, 778.4987013659351, 826.9043479549847, 785.8202375632471, 710.1970397821287, 876.2759361213349, 695.0154997439108, 793.4145966388813, 654.3988424318026, 997.0367132349787, 814.1369550862466, 885.226431296224, 817.4274219513608, 727.1885406419885, 763.0813590009357, 769.3446959750872, 761.3888882594088, 730.8880515101564, 832.4220082512202, 689.3806792326596, 692.9655495485677, 715.7622721671754, 701.6277804316792, 723.1240814298799, 587.0460360296619, 755.3040406670851, 773.8810595103962, 811.3896146480372, 834.3555286698396, 851.4219455689874, 822.5990187440408, 753.9195043726435, 719.9732021232253, 743.6585519316087, 812.3887882681233, 673.8557408067201, 686.7470865569239, 761.4280227322045, 802.9909104476883, 702.2921549696965, 732.1776748510205, 867.3364421078236, 753.6917816209299, 725.9895180321773, 823.4972096164113, 732.0211978011974, 867.8505832175777, 639.9581291768585, 646.6814515456074, 769.2720297179982, 717.5519290385599, 1002.0306353288371, 844.3877075348141, 772.7573751873861, 837.5940473207324, 688.7696698448337, 590.872507609563, 846.0125433601033, 818.3577400164513, 728.2086057222929, 619.4987556997446, 849.6657397215639, 727.0741740010511, 604.388268079259, 882.6774101679281, 854.3186801060167, 783.7160985690904, 791.8853922591742, 680.8549729789711, 727.6899366500193, 891.6296512814059, 705.0024075859114, 796.6718575260061, 644.654746362957, 800.8698357235021, 801.6261192151809, 702.8905329562456, 684.8499327499629, 710.5465470278544, 885.1627292397249, 703.1446279171022, 834.5219931015303, 728.2229919771393, 865.4580700328418, 710.6932597013948, 815.7999930623898, 854.4422507736788, 688.8163194831284, 727.6912045414015, 799.7290533425871, 631.3084807559482, 785.1533266099158, 745.2597409904814, 725.4159415504022, 800.2059678687662, 708.64631473552, 792.9673573673028, 782.7066977112434, 637.9566629420149, 835.0327187871881, 1002.9445963553184, 619.5118369709871, 530.3582559639146, 782.1694441798664, 902.9564597646865, 774.1682721723635, 772.1191629522169, 763.9848088416126, 840.930355804087, 699.7424286787283, 704.2550555931674, 870.8774178338238, 690.000670851424, 585.273208617523, 733.5182544579461, 776.4349055030647, 759.9381866254581, 696.8262763240883, 888.4424859269238, 734.1522646769719, 780.9203358261606, 602.5154119362181, 762.6545462827862, 615.3706165911748, 840.1515557634258, 699.1128771115034, 721.2115082117332, 820.9692024466026, 733.0630901441692, 649.4016427159651, 775.2921220215235, 885.6280533694018, 749.4418877830686, 823.7219585182912, 776.8584065546235, 754.8395213583631, 886.626407590304, 880.0047623324774, 707.7456916855713, 792.0645973215237, 1052.680006518242, 683.0850854786223, 725.127767564211, 808.0850072500965, 857.1343811659383, 678.9948017038604, 718.7225608205314, 548.7679104115468, 712.8525285331469, 715.5414350756363, 762.0427352456227, 680.520059098229, 696.0247311560432, 646.3923109491732, 791.9471826825679, 784.7111495354937, 788.3933243617125, 682.6059555181963, 627.7964111553781, 786.6862845124582, 783.8145204659272, 721.6542841348139, 768.7013415006321, 669.7384681586309, 952.6683613843896, 817.4668229623875, 813.7922175357065, 973.7859369318371, 828.7510626650368, 824.770195149653, 764.9291627165776, 657.1054793870466, 768.6421386520033, 834.237582837925, 752.762012271452, 662.0877032762933, 829.7599481206911, 824.393176755631, 701.4626371510966, 766.6549642791452, 694.2002564517248, 749.1119800244627, 689.8007735049214, 834.584657855484, 748.9803854276489, 765.7388016536776, 849.149473738173, 876.104540365103, 691.0910722233672, 777.5854534091012, 833.5426063636264, 756.070517902336, 655.9349670696232, 961.5330417285007, 871.0475112801512, 825.4060461106352, 630.5624578547238, 724.2761802197149, 684.496105811342, 843.08708725332, 841.4262021808863, 710.5701274689266, 743.0588074419094, 702.2666662056768, 763.7945356117144, 724.6464645646741, 734.6776995220043, 683.6545372543651, 681.3038836078832, 880.3178142136592, 951.2952127694156, 665.8142282854842, 651.3119825037204, 833.4075675409974, 897.6337053656966, 739.6338484387179, 671.4199429946526, 606.0684641953814, 704.9295036492564, 779.3382389672562, 822.9562736497624, 746.9983226678293, 773.2207158826795, 832.9547558929562, 585.6681329135927, 606.9517111258178, 655.3113852542978, 825.2386147482019, 677.4579029440509, 694.8399616776838, 711.0050745826456, 646.5500566649999, 695.186527258017, 686.6985036690379, 695.0614862823892, 719.4334376345635, 892.2478139139165, 740.9284840111219, 794.8788331295344, 854.2217084848953, 614.3629893817593, 610.9655095422875, 638.2151632776265, 726.5586762889968, 638.8649641754517, 746.9476488879063, 730.937477722542, 839.321606561141, 714.7720947995662, 742.8812699878422, 856.0198411360882, 752.2765806251306, 754.6827742750684, 606.0708320072463, 674.3310787222221, 746.9988151011348, 727.0949419757679, 744.2413829087672, 765.0819873445796, 838.4279721758312, 760.7021634165488, 810.7710465394017, 851.885489166071, 705.3466758165217, 715.2463844122685, 892.4687749269426, 758.3073783782635, 666.2904581444063, 661.3004703222605, 663.9189724023255, 744.6871538146793, 818.9851970536987, 838.5309211304437, 719.1166700441032, 716.2394846150457, 643.6716617583523, 658.1168725179192, 759.1130056866531, 851.4008435654284, 774.8964734721237, 729.7306504647971, 765.0118189641942, 796.7016817666394, 726.7529817692057, 790.4859810813814, 800.9099317456458, 721.872629892914, 781.8930212584378, 727.4858380435015, 725.0582174198248, 843.028216863801, 788.5733866705383, 632.3098578573299, 844.8476505379583, 925.3111874222401, 897.7741705385503, 745.5119901058162, 745.3599067726211, 757.8791303943842, 649.2730941190183, 1089.4567672382004, 714.859660550673, 623.1388241104896, 842.090626635157, 780.020998690506, 811.3367003219342, 823.0564547374104, 775.5007264860708, 633.0800526617131, 603.2514719588205, 776.3178811596919, 598.5010325340468, 744.9678785598851, 609.1966729719499, 755.8274974446036, 736.9463442542892, 717.3843300785321, 444.17559119222614, 677.7563825359754, 807.5333934437183, 668.3981049699412, 778.5039395916317, 789.2899352369607, 673.1861941644484, 745.3457429831642, 724.6104434940135, 746.7849979522862, 719.7830750114954, 712.4575448337604, 902.9652641726743, 692.6480577450014, 830.2558172090662, 866.8883837460454, 752.8848418817046, 740.8982456083261, 806.3846533224719, 679.3773095315405, 859.1207431256184, 782.3107000390474, 797.2876498669729, 751.8879461104575, 724.5864099617218, 832.3695382773496, 687.969847680668, 742.6613011958812, 899.8682004308909, 904.4376139567188, 749.000151119332, 766.606916714201, 756.6815299308205, 750.3198327575466, 729.0346370816086, 670.0872259614596, 840.7461229103745, 845.640660025646, 839.3096775764686, 723.7488286140357, 646.9115243107267, 784.3681579918992, 1031.7714918962383, 886.5055689304163, 817.9912419317175, 795.0079727623859, 782.4325822151197, 744.7150919549027, 774.2748850264, 662.0746935854563, 804.9232498994224, 820.4133189834765, 708.008572137523, 874.0066180945821, 715.3766869167347, 739.3384250354458, 760.3974145183838, 621.169130673748, 800.4189829008982, 584.5090285341018, 766.9840058291456, 853.9986428363131, 742.0798483459257, 837.9272855509555, 811.2421257534064, 714.7686180726213, 701.7057382863989, 800.4156527070143, 666.9446382280398, 653.6477064206736, 632.4201910400838, 703.8522007383059, 637.897299291878, 899.0948312619748, 774.7951300533236, 820.8005521565876, 737.9389785991121, 796.1605020508939, 761.9777051977269, 600.1017810715055, 762.2785009460773, 713.381549432631, 767.5616153377421, 741.5929302108416, 747.4558922523457, 710.5279980001098, 653.0440202549424, 616.8568813389131, 722.0251296262546, 698.925855056035, 843.9474157474939, 755.3700608530776, 670.6704224897834, 676.5832086603948, 730.20057350715, 674.9539547893762, 707.0293300864879, 650.3419151447074, 723.7119698667924, 777.9861118070079, 719.8447207414805, 1182.0789610477366, 715.9406267545025, 1284.219384162646, 887.9204081516897, 710.243696411356, 708.1194804158107, 844.875666963443, 807.9370916843654, 637.3604548412392, 788.8082674921476, 564.658485199052, 748.1242244317232, 713.8578014122536, 619.078496250587, 736.9489207016339, 831.9166622347302, 757.2137963026269, 750.9627110534009, 860.8827085403906, 769.5520358500953, 810.44570787688, 671.9342785103732, 745.0490366134414, 771.8296767974203, 756.9145888822574, 729.2383359204968, 696.6992215444312, 831.7017882866766, 835.1141664738104, 657.7506923507776, 782.7656197779871, 864.9258687055639, 710.9004467354486, 709.2866289188084, 873.6340749774109, 728.7069811029469, 687.0564327700674, 716.6451867257292, 695.4626774073348, 863.9534018658206, 720.2437252769771, 773.504084521559, 788.7038434253739, 676.2170448413407, 629.2150342325905, 606.297495927475, 641.5803234975716, 757.2143651628573, 718.4427991225035, 684.5359383311976, 737.7751794419923, 736.9709752565989, 679.9605789651142, 752.9583195188939, 809.3703284903036, 782.9457992303663, 695.3055250761232, 747.7104743846542, 719.4817400440692, 692.3631674238426, 779.6019710973346, 685.3883623550347, 716.2757452181552, 850.6549667960521, 631.9713413006756, 790.2155418588663, 882.9233056409614, 835.395153869767, 833.4419679110988, 743.5718268660318, 771.0740836599831, 776.3932611305859, 696.4636789318631, 719.5095392160375, 721.4903498375797, 713.7094931176947, 696.7546560868864, 924.1599016367636, 778.723893377068, 934.1623972046538, 744.9272026656992, 748.3527252004108, 662.3731424990737, 651.3189811047395, 730.9393374482845, 790.18324533453, 707.4908572668169, 792.5018952089684, 748.0798252220924, 667.0447380747822, 795.0115401213013, 681.4106384101233, 691.7685455401848, 828.0259340314835, 668.0112199688814, 690.0517582564356, 739.3910937511707, 812.1216026617512, 820.1561557289932, 793.3213743856612, 702.7705379536023, 828.0942653361896, 711.4207778052577, 851.2063567242253, 765.1795103527207, 738.7428330663552, 541.7929338346185, 861.8616980898311, 629.7552234173489, 735.371316824944, 713.5983352338659, 738.0126496517584, 710.8249709512529, 760.9245006096749, 631.0941709665124, 786.4866220310826, 655.6075113089208, 802.2752714111128, 753.0400459723044, 837.5802302821971, 709.9750867975548, 631.7605254507286, 754.4825744228016, 764.5728139949374, 841.0295007353176, 767.3101696775474, 878.3010971301948, 824.582731265572, 728.9321866193609, 641.2608756619325, 502.4322603499498, 797.4312598542734, 632.4951159498167, 727.5152163839091, 760.7186942053748, 711.8270628490147, 742.7525919172559, 738.6800489448534, 782.4279031829598, 863.4762342069315, 874.6094914415394, 693.7315993976088, 771.3147876055672, 798.228787485632, 747.2463261779682, 682.2739189480372, 732.8146198349061, 803.2535881003008, 648.3427774709173, 621.8354728462264, 706.717389650292, 668.0294387370769, 647.1405142352847, 655.7733484119681, 696.9207212273744, 698.2067373592542, 704.6531813320363, 839.6341873960475, 689.8769785775614, 860.186402709723, 814.8041303402025, 642.4351826757961, 678.6415798839869, 628.6112009231596, 770.890265417306, 844.0586038187839, 768.2515790966216, 739.3822433014124, 741.317694784317, 655.4952362147893, 778.4564899973816, 718.4997248893952, 830.7961261720109, 710.3634776980651, 747.7007695522478, 811.0803998066548, 767.862341566105, 763.4993373806383, 770.7619329416248, 607.9365306486621, 756.2618056766432, 768.5437655004957, 922.7697599709265, 823.0450221512075, 770.1637311321316, 805.7452757921168, 636.5185773980969, 761.8746765678803, 643.5867992226647, 742.7704023368623, 744.8289431940054, 755.4476515240095, 747.6428603969355, 611.6980381820957, 973.5540843224986, 910.0524866598724, 793.7844639628997, 746.7393151143245, 690.7377851323438, 708.4855236894496, 780.3956401173716, 664.452896770036, 663.5766034942045, 732.5054073603745, 668.8993801327673, 725.1047999105542, 795.3233841536232, 690.1125034353829, 738.6618009583703, 747.8497097768809, 629.6853252800752, 1015.1995856304796, 864.9909261826214, 846.8491785897502, 778.6244901395828, 769.4486479797367, 871.8605327526548, 830.5125016919849, 820.2913303772873, 540.4315558902667, 605.7740418345329, 782.7160686468485, 778.6517255691441, 843.8140216824479, 900.9864120981117, 757.817461254488, 831.5498697836224, 755.1147623533237, 878.8542736754442, 812.0925671651761, 735.4731833516386, 717.3233459426416, 713.0771887745574, 857.4216115823905, 677.4845656304441, 815.270003483477, 695.3912686080781, 748.8585810954314, 861.7895016715069, 774.6508155122438, 717.3935164597742, 697.0132343290512, 759.8524680166337, 625.3242447778724, 665.3602325081735, 769.6214767851853, 685.8825658146737, 596.4995718730622, 594.6325384585078, 850.113335126968, 825.7058576599226, 628.7954296440669, 836.470444364746, 857.5826416986997, 788.9904994463213, 712.8493765062711, 756.595170716396, 802.7940091829712, 804.7723583970069, 807.9567014301026, 821.8328944435085, 560.2115020887766, 723.03306400641, 674.9248613972189, 789.2332904142879, 763.6497480795173, 808.0582382353688, 1082.1752728432261, 861.9156443248589, 894.1689850016003, 952.0610016778892, 847.511609151784, 640.8097572716471, 751.7066087476715, 643.4252446253289, 713.6140005170588, 683.2689359830777, 823.5962486876737, 704.3007541828192, 687.6115393537027, 796.5969980741994, 701.3814138457476, 700.8369652415632, 794.3208883397509, 841.6867777646706, 846.6138715984717, 740.6861614106434, 720.5787497377925, 814.6319545140577, 745.7244434460112, 700.4808830734695, 696.586938227546, 623.8421138179305, 644.4612998522283, 831.8307306691602, 614.2351251258706, 792.7591525514525, 662.4248491666548, 742.2423173597172, 782.7498050327771, 893.9618127159091, 762.4342826070525, 875.7966733001242, 668.5323704993635, 626.431926132612, 814.9960319731347, 722.661774914585, 809.0455703444172, 800.9450090522712, 683.9180088995337, 751.209458158941, 610.2016963713236, 788.6568774234086, 666.0040107090302, 739.770002461145, 682.2059466202832, 785.7016837568524, 752.1384603040648, 757.7008806526949, 818.2413218224988, 693.0130546342654, 693.9753220548495, 698.5982919151412, 624.941410421977, 631.4454133288801, 779.6106835474654, 716.7558140601024, 800.5357480146364, 745.9962821727333, 798.5358901515425, 618.845395660537, 717.5316992458729, 766.3587280699926, 650.8573889406644, 932.7798926718718, 911.7196003108725, 682.2010724438253, 742.8743322340995, 726.9564810037008, 857.885004603409, 749.9196839188047, 590.2409619067707, 679.924789820915, 733.7070059748767, 785.0185687671076, 781.2670306400086, 926.9701471328635, 726.3561820239871, 678.220446813855, 877.0158754000502, 803.7022223598301, 844.4773607927272, 828.8913837700165, 743.4618067446684, 921.0417994469227, 696.9067482600509, 685.5813782438086, 769.1525201917727, 1024.8968610029012, 831.4327967749225, 647.8353386867194, 1126.3909670190758, 777.2959605941968, 846.2836066941106, 681.4996355420122, 804.8477271900196, 714.1956518203798, 700.8965238533129, 603.3334034898578, 765.0843478730765, 716.5077247699334, 870.1644413149124, 651.1045687071952, 811.9706238464315, 795.2621504022075, 749.8366107876845, 876.0599240854494, 728.7664352018656, 668.5191653957755, 723.414230500062, 878.0099113073006, 758.402308031642, 686.5358114556628, 898.899515011804, 837.807433518295, 675.7392832867315, 725.3173863027295, 713.5321749118876, 601.6939479339552, 708.859279263126, 693.3539847839992, 513.1052955180792, 766.0018802416065, 815.076699692631, 712.2235756197658, 711.2986326164454, 792.4007769521785, 834.3664625169974, 556.991569299222, 720.5925825071424, 809.6202597622387, 672.6036354627872, 757.1646549034674, 769.3027868453479, 701.1575784975662, 855.1716389934602, 718.4505155665988, 597.9501959888775, 709.0550964132966, 779.7176505621758, 790.7508890179816, 782.5971839976796, 769.3941225579146, 779.8522126083136, 672.5733503605718, 888.6260492487008, 676.9001373983934, 780.0108732318373, 716.4328255363658, 842.0267609993567, 640.5309115933861, 646.8588316271652, 669.1419824179111, 872.4247297298147, 679.5303896864299, 714.1210699575154, 879.2318308092598, 750.0093101184181, 717.4623120894082, 701.6653251605076, 733.074371169781, 723.5560188085603, 629.6363630694061, 648.3626742303595, 1158.585524452632, 774.7556066125181, 761.8504630227849, 889.9888686222074, 740.0412878896497, 646.6195695579577, 838.763140790241, 719.7982127429511, 824.8251050808071, 804.5800155672232, 629.3549330812727, 793.732932145084, 709.3820718941633, 898.4281846123462, 601.4954748948915, 697.8550889056264, 763.3577962607982, 700.0708901555176, 864.3829536216086, 651.7129094326965, 775.3084255575164, 765.1795900655463, 789.4503687224206, 796.9331729730188, 690.3675351057196, 726.5008172761782, 693.8533563116271, 748.7032556015824, 705.1840878281524, 783.3148504476663, 566.18101571622, 876.4390102318467, 645.6872654924588, 637.5591810539956, 819.5735715783006, 566.2339842522604, 666.3070972625835, 668.2288957217368, 745.6035272986353, 766.2909009572122, 765.6305823566136, 715.3071912164689, 635.0529471495452, 732.7350699056476, 824.4646814308742, 679.9065583130559, 672.1889321458349, 693.6165351617549, 686.2556630416481, 770.8272287084045, 825.9077285594806, 820.8986868591724, 881.4736396339285, 728.0833165289006, 754.9965121315657, 785.0972898028804, 1191.4534446744974, 851.6477212545287, 656.4928942501675, 803.9706740182435, 717.7894596788682, 862.9004288139096, 632.24042002271, 760.1091047979595, 723.6552230246493, 555.1805090725272, 626.4580119329838, 773.8373446743045, 797.9880876972239, 775.4401809220459, 705.4554832897941, 756.8337645682382, 781.3236703196478, 630.1151486527951, 757.5920924537035, 558.1600405896332, 740.330251574174, 606.9410392105923, 718.0610231788174, 668.8754170185186, 808.9804940299847, 819.7059012084119, 709.5888085030958, 666.8540745678373, 744.5741483786094, 854.7388291231756, 860.5331644860263, 865.7205244468726, 891.1039589331322, 738.7564637587207, 656.1661390897966, 749.0925190804741, 955.304153014783, 764.0554693952644, 761.694070668738, 580.9430695924846, 868.028245992982, 780.9383643819903, 612.6290924852253, 710.3914521732237, 701.0723812409196, 738.3284820728959, 720.3348762022539, 683.6672448192799, 816.039506449587, 675.61845259156, 861.5261501575492, 720.4658468985398, 732.9504935109488, 799.9232403965186, 749.8734735807011, 800.4468680451639, 837.5590551853871, 777.8102171955906, 840.171579598029, 720.9289896682404, 843.8848395524079, 688.9655135673137, 846.4019118931673, 795.7276009004815, 800.6197789725818, 640.7952593856226, 720.306081843155, 765.8269672462034, 706.3748553023064, 924.0591913931305, 751.5968049632141, 590.8503689024215, 736.8382579969599, 742.2484917008388, 702.3167144530375, 674.2202512784605, 909.5108155543629, 884.9233478172287, 730.3108037406283, 808.1685837064517, 641.7917913773368, 774.5643943620055, 902.7987647574001, 853.2870643232294, 1116.3311686230682, 767.7184148252139, 763.854765543986, 783.7882928014546, 659.7633410927266, 650.479568994231, 762.3349640192632, 927.6967302836014, 696.6610953514695, 701.7239199068641, 722.0441442538121, 667.4122153863581, 845.0680907546108, 589.7083890293923, 828.4059997284509, 685.9551002971067, 885.290755378339, 826.0125495691995, 626.4632989546259, 769.9801212932889, 678.6653960950914, 728.0827509813602, 756.8113188327688, 637.8654609195988, 767.9324088344622, 892.0426309426264, 815.5213170129222, 702.0655753278128, 714.8948371981459, 876.373516415446, 808.9581026132852, 797.0229956478032, 778.8109479854365, 861.7526341611999, 800.9354899039714, 809.3139383718166, 684.1564901196543, 681.134260104024, 760.2596239230348, 781.0533031124507, 736.2027799230129, 816.6273256237266, 843.62342893528, 826.8303825177533, 801.4751740257595, 844.9594851546458, 734.3475514156379, 687.5305881488897, 877.8753756241587, 745.8470307011899, 766.5197832207512, 719.3738522052786, 749.0523348196425, 867.7566967758461, 852.8420187797403, 745.4855982131993, 663.6876943696967, 941.2771552330047, 719.0235103094707, 651.1656295843349, 760.8688377349174, 702.1466675850069, 807.1831877165951, 758.0272861864379, 880.3951513958256, 981.2759339444865, 670.4741566516873, 830.499163931444, 786.4071295578788, 862.5710130275121, 864.3945782334796, 762.6262536937932, 809.3945255401651, 716.3479992266417, 710.1801662392476, 721.0909683386651, 727.9453494221586, 621.939438783573, 837.2260295304347, 752.5917181805461, 655.5721596120729, 645.4117728177928, 865.3059583312518, 774.3263256010306, 638.2982444337416, 705.6050462996664, 731.5677193437684, 766.3296323536786, 780.3580892523424, 723.8069405867692, 769.2599323035095, 751.5500234973352, 741.3504661147833, 805.0949719855871, 703.6292418105006, 487.08241998542616, 891.7744785746509, 720.8279547369591, 811.9441003957461, 699.9190217898547, 744.0441308208252, 684.9363172612013, 652.2554562721782, 731.8054978403409, 655.6216670207307, 981.2617023662428, 621.00974310891, 716.5891609551244, 659.8442546855082, 849.4668329841584, 817.8035184494025, 735.6985724558144, 749.397662132446, 724.2360489148724, 659.3231826996966, 890.9317229248246, 668.0171487923897, 747.2651617316615, 765.1552921066283, 869.0991352133311, 706.018725903248, 1003.3693381285974, 694.1262583928718, 870.7021704796485, 743.4638011803629, 758.0106277452093, 652.7168075658161, 763.0330971897893, 806.4374733533813, 790.7085913169196, 644.7742251436347, 703.2871970367872, 780.5124359621249, 767.9144673938016, 876.3824393170645, 715.4775517790885, 890.5437608246585, 685.7474476361181, 737.1506959273792, 548.2799638149883, 839.860303980998, 756.617564215528, 606.0192429416134, 651.029281362996, 806.6106463870499, 729.167691963441, 747.7941727259342, 724.3287688109783, 806.8167723890675, 755.4918564646093, 878.693633431146, 736.6053620148313, 710.3879572154046, 767.1519328440912, 879.9596107577933, 666.8557608786573, 717.4630966385095, 809.0975618298733, 771.6442447621853, 871.3543479366284, 833.797574731067, 793.3338833723443, 648.1793555996853, 801.8680000398316, 694.7921429829195, 793.3763306030822, 727.1650321358331, 759.8868809596473, 676.0174657984235, 793.081632465335, 876.7840766990247, 862.2219359536658, 792.8349211320565, 851.7859260008333, 713.6777574308624, 787.270004419625, 549.6659837970586, 888.9516962531943, 730.8675672910233, 842.1045022225715, 789.5973483430768, 736.0774159017199, 975.3475072782547, 728.0935465849777, 598.6513597577125, 786.2310339373082, 726.1753644290751, 663.9908782659248, 761.7915621282663, 796.9590971888604, 959.9965939492726, 694.7288712475726, 757.5041944508315, 832.7603495482915, 737.3205572926929, 797.187445429266, 792.5446612307551, 697.5579817526732, 858.8239917016441, 662.2333612030433, 863.4434095473976, 803.8096813981126, 597.2540633950448, 655.9865649521197, 739.753998716957, 826.8557537991255, 792.6158286366988, 741.7978120965204, 744.8040918022216, 755.6226707940293, 750.5600109229986, 766.0500752005016, 866.8637374274246, 791.5423354890862, 672.707434026323, 861.1626303226733, 763.953699085176, 816.890825971982, 738.5999139105589, 780.7658555287394, 629.3549314661961, 705.7280514254812, 856.739478693396, 692.2698530747671, 813.1468931365239, 796.6263064107707, 721.6757654890337, 789.4580976871528, 674.4391819318042, 813.1351070170897, 800.1456692204873, 803.2800262835389, 795.6724829118341, 658.1782973567962, 695.7222362966312, 612.3345761753299, 561.8145963218961, 834.2297107695094, 742.0378608698489, 845.9793610174765, 813.3924516301211, 801.0788779811977, 836.3790217914456, 835.9512532378558, 760.1307776959974, 849.2153908547565, 678.488976603358, 824.9838903755705, 502.37903643377854, 786.0579363329398, 741.9035104895904, 855.44420208817, 612.6118772241332, 656.5970929785965, 723.0826233185142, 859.4825588218308, 730.2794017990439, 841.5789827890733, 630.474762366773, 681.1283662942549, 739.9358064615275, 1010.5192331247885, 830.3700405891711, 690.9278447762985, 649.3735722405781, 657.4009727915417, 878.2427338303964, 722.6966083542782, 664.7303775001453, 883.1619484785432, 748.6282747449704, 725.0049988302592, 773.3473964453949, 897.0966517464553, 775.4531087511491, 775.5888383858984, 760.4506004376265, 795.4904237513215, 785.3522471992198, 751.3079074944076, 711.0125901812485, 773.6567011653365, 782.538892856538, 740.1949012302161, 901.8659532785679, 708.1601997159728, 748.0099630613992, 744.6215094180415, 669.0515005404703, 904.0453347340743, 906.3715351018394, 725.0082132691252, 748.5619313063897, 733.6676081720717, 786.9632225420551, 692.8283803618516, 671.2770926553584, 707.5879348608981, 769.9740937060172, 924.1249709493866, 684.3415097182019, 648.6934569333356, 694.4384254014276, 821.8438517587554, 692.061419938508, 677.0175882386876, 623.3316555824985, 821.5523189367866, 767.0704322761579, 686.1125419503655, 743.131474555587, 841.2481364807866, 713.3133882877289, 699.8160136364191, 740.5637385371231, 729.5339264036442, 769.794795725192, 629.289080540015, 823.5793773528823, 797.4930056717217, 747.0375358754472, 675.5470407341519, 871.1034405343453, 856.6210812335233, 914.8547877893136, 745.2103024896331, 841.3270214535722, 780.421310404786, 693.0702278151072, 802.0387780088004, 728.5565931538828, 773.2268995772573, 692.1978661915491, 708.3173380820392, 806.2533100887446, 762.1883067086948, 662.5134110863675, 715.0714297046665, 863.3872773903178, 693.5385774144606, 838.604729408656, 634.2023996931479, 664.0555376002796, 723.6681283579594, 734.7519601962468, 765.5987731453978, 691.6774123340089, 779.2590254204472, 728.1984579121784, 676.1070145946712, 795.350563009554, 799.9148282452707, 847.4322454155027, 836.9728897850455, 895.4258840636878, 687.5214447575784, 605.2653135166962, 633.2415602545899, 880.7788426819458, 687.9235920959658, 633.4830133642822, 786.5151765743625, 739.4312672843575, 910.8952550156348, 725.5975011097482, 836.8988212455657, 731.2019775889318, 875.9335211828904, 702.7489041608344, 664.0230181458498, 813.8556586706757, 842.8265805080653, 930.675718608414, 770.4458755859398, 797.0122991071536, 875.1670302077137, 710.1405273024249, 785.9387556395358, 837.8860258481424, 794.7427439708122, 660.3553095521751, 697.8318561420166, 758.927072849329, 696.5123645241483, 844.7539870581601, 745.2376594422676, 735.5825529965813, 787.6127561280032, 711.5904476456457, 813.6274452689062, 705.461856683836, 702.0108961205045, 1177.074745637808, 651.1128884986722, 1214.9692315068548, 799.9027794678227, 663.9573777260953, 774.7427856486876, 868.7217857985808, 839.343091489029, 663.8349941363696, 901.9063623468246, 655.859434369546, 752.6058195120719, 847.2748305633228, 797.139993973154, 833.1305624496277, 676.5627228189106, 687.3113863846081, 887.6083607990392, 782.0279610641195, 820.485012434271, 643.2007480895539, 859.7401571702086, 620.0018559364194, 750.7675183092555, 844.8360108913349, 805.0283202384238, 815.386783880348, 853.8091875308552, 739.9872183627353, 850.1066280067322, 934.1848887416469, 780.0100255516026, 893.6182261766533, 811.2758434956081, 824.2720060786728, 821.1483011044493, 590.4996909038174, 743.2154332559621, 727.3801020414857, 891.7323998380692, 803.0785339292024, 729.8918543575311, 833.7257960246837, 673.2290160229111, 848.0974474255656, 772.1312569794783, 797.3864849016786, 734.1581321131613, 801.9506293377669, 770.8243146243307, 767.8877454202013, 809.7954751349869, 707.4963944353229, 727.9630869947435, 755.4322546033967, 784.2938648754371, 682.1443871640024, 767.8627543744714, 773.8484653274371, 739.1590203342507, 613.296783480699, 858.9784451302792, 684.2915127510776, 899.9530226394812, 729.7271431894263, 622.1364801766416, 707.2020606158031, 733.6300774159597, 795.2365510180418, 745.3489730803349, 769.2336341707108, 814.0880126767667, 772.4276873956444, 731.3068618165237, 812.5286737696949, 815.7736885883329, 860.5319987665648, 715.2910863446477, 702.5467333419069, 728.5249837628876, 668.700665514006, 740.5717406874696, 715.1845679371115, 722.5063895363238, 755.6791206966292, 792.7461426844484, 567.984493215401]
thresholds = [644.2546674337028, 749.0763282966229, 856.9929292132072]
display_name = "Cost-Effectiveness vs Bed Nets Multiplier"
units = "ratio"

# Calculate exceedance probabilities (1 - CDF)

sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure

fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve

ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds

for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)

    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('exceedance-treaty_vs_bed_nets_multiplier.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Cost-Effectiveness vs Bed Nets Multiplier will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
