```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Conflict Reduction Benefits from 1% Less Military Spending (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)

setup_chart_style()

# Simulation results
samples = [91161127502.73505, 76183390170.41634, 83019830008.18057, 99724844771.36948, 61385166602.67105, 73913772638.41553, 86742154194.48492, 83521889628.71165, 86955473824.49234, 79494040688.32068, 96215693536.27777, 107023576404.72092, 82419740689.38556, 106452222315.28563, 94521277083.21782, 84739472128.1, 86105124331.15895, 76226687160.54749, 96754812089.46576, 78374581119.85529, 87509194677.29765, 68699181305.67523, 98146227881.49937, 83155295969.15247, 85117859995.05647, 84649299138.6179, 94513599628.27454, 80295674004.9238, 87024782456.51314, 88658735159.09341, 109941435738.31119, 69402954038.53308, 78714269588.8551, 78748697256.79765, 90891904677.51266, 109593981729.49423, 74999732269.21973, 68174254778.189804, 74640964007.91406, 90850587748.26254, 100771862326.15312, 96073675430.65826, 73380394826.474, 79953179526.9563, 82844980436.34203, 91283655011.15523, 103275944381.66446, 84642726530.69368, 83390113543.33374, 77071913071.83235, 91686614827.30951, 90910878715.44969, 64400058612.54352, 74296861596.81157, 72355694376.24725, 82011890522.586, 83836337784.33852, 103275737485.33618, 73677348557.33224, 101069527870.01593, 74258050552.95117, 73608733346.79312, 88403353251.42126, 100084458559.85295, 108322634209.10783, 91523005477.00562, 77170605184.53517, 82805474799.56851, 87189344066.16997, 84087248377.76562, 79262546403.42242, 72717286864.86574, 61785077916.04118, 85965445425.80943, 82270418205.96509, 103984500710.12448, 77648419498.3866, 76411855650.09267, 93241834291.89511, 81156749606.94072, 87466619709.1246, 69992024318.5222, 91775425639.36162, 85500639438.85121, 75578862819.62645, 90356260678.34439, 74042315694.38438, 81514722392.37549, 82890978467.46426, 104563160578.69308, 93359477914.49184, 93599203742.03795, 76089618138.67233, 86522058530.82423, 65025037476.80617, 59532459475.39815, 78667357380.50426, 69338033553.93971, 82764572996.71365, 77089641079.71542, 79309011804.05664, 107694856034.45776, 80255115739.86133, 82339440145.74861, 67516658361.9133, 76050403320.1206, 78533313947.43198, 80068026694.01697, 101161482935.20343, 61744616163.95572, 95054644781.70895, 86714500699.58081, 75120244717.74963, 67605505484.06851, 86127831188.11981, 89351277681.54465, 81992204895.94478, 75735137489.40395, 113001132792.39685, 76491843577.45152, 60642973405.675095, 80011835297.9855, 100811289843.37384, 98874306312.50648, 85245606291.1838, 103061410422.99632, 99066565349.2082, 80375159411.57245, 73662836802.07755, 83828916723.93594, 77565894040.77953, 70013403709.60287, 92777220750.32251, 79796666904.52773, 67672325729.54149, 74520339064.91963, 90125490053.4166, 97440786226.63464, 111055719725.36407, 116456759333.9447, 104022584293.27454, 67313419347.91158, 62963012668.0954, 98229164130.25516, 77090613652.13165, 85749368777.26746, 69811089218.90547, 84417193821.21045, 98400437971.14949, 84879272877.69025, 94203806753.15868, 69753679494.7363, 65835851891.72836, 68133447341.77051, 96460162432.78012, 121743515079.17358, 85848538790.94815, 96722683195.50803, 81911243821.88922, 77553158503.92102, 83311854641.88303, 80774448208.97899, 117986506505.73132, 80758139394.74329, 103800285003.7415, 73217839799.79187, 105096338726.08861, 95932630070.16869, 81832278901.9885, 80388408307.63129, 80263045328.40324, 83976512591.98317, 71119995420.6506, 70959233695.05287, 72315811187.33028, 89198315574.33873, 113514663560.09512, 74564117777.40216, 87235678774.53024, 101250245969.94583, 112699640594.65466, 94083561904.92584, 80531769873.24673, 103728181595.29465, 89555224331.35115, 112415557664.43362, 80087720610.18643, 79440323860.688, 62899410647.040146, 119226247665.85437, 126052903322.41278, 88389821920.02907, 91478643138.24539, 93417746259.98375, 67666493763.736694, 82338225436.96422, 85351026110.00099, 74158945764.02286, 88337784208.89606, 82588980361.59132, 92905904083.18877, 107826308110.88058, 87428870132.4163, 88825495636.40938, 62589561657.58606, 81087802453.31818, 71832684102.0112, 74561462331.18483, 65852079342.0254, 67432092862.512344, 104813606610.23141, 69077519532.67117, 95774349610.38431, 73198118184.90498, 79342189320.52457, 100456381186.50769, 88007683472.9695, 98432910005.0298, 88435801093.26845, 67483710389.4715, 74897034278.99577, 86951197229.86559, 94423698865.30518, 67495754603.38937, 81293004492.15509, 86330387126.31415, 120874950463.20795, 112199884422.45963, 80946998459.65808, 89122234950.01837, 65593452910.97452, 88476269641.36308, 89498984186.87674, 113197950356.03387, 77119372073.76929, 77938588573.8522, 54016143417.58336, 75243030240.88333, 69114503232.5027, 85624206303.46414, 75373837399.52914, 81197456320.54782, 66964890594.231155, 73274645951.76141, 117418411553.04489, 69679368286.32169, 71052588306.10344, 113972327955.85297, 110620739259.84839, 64845447199.85399, 83912945035.12454, 98425209001.16898, 109938163744.46912, 69892698978.54066, 70627287949.6637, 83198402342.73738, 102601136750.6676, 74821013078.47864, 95224753129.70674, 64181565118.385895, 71997772606.41495, 81515206615.44565, 94081706137.97052, 81808939689.20827, 98794114029.97375, 92656726068.33391, 97803238394.24084, 101622487641.52182, 97320128014.66104, 86354320877.83313, 72709378643.35208, 85788950678.52487, 73708973123.83405, 112581198582.76733, 93131608685.35767, 79351502561.17874, 76106020554.82759, 68777373437.97127, 104601122235.13115, 93831409433.47151, 94488733780.65479, 65100827532.25452, 97757867535.69531, 85735448444.08406, 63574109883.30205, 74854863278.0789, 87696383139.69112, 85561060103.38565, 87259389447.95546, 81914749206.50352, 85025146459.0351, 77507018998.61807, 110100088618.20612, 62549632122.87782, 91798582428.87228, 85150067564.6837, 74768082537.70218, 77483603381.75629, 67590446642.23309, 81364747676.9326, 114604681584.58441, 59311954997.00842, 111852911221.88484, 77215103356.99428, 75638293794.73032, 67923812086.05586, 81613504216.96835, 109360531647.45566, 104196624498.47104, 107125754690.49164, 109531636051.06561, 80075531971.99945, 104317436179.38864, 81485009781.04385, 90908087519.25493, 85695784849.76358, 81223684770.5563, 72527546647.11378, 101737332442.02222, 72562850650.84067, 92981031945.94655, 75315198468.49866, 117554377886.26816, 92540970612.69122, 111428460384.35162, 93831719943.42076, 68744414900.05954, 74449225226.15396, 80591463812.46402, 75354094164.3438, 114208199838.3034, 85154207875.28442, 76345500554.65753, 82664479338.50256, 97814744392.38199, 72895303319.65373, 70401222677.7296, 99138424725.36827, 90385979804.0816, 87008097259.07521, 61029239160.6824, 78628985025.8887, 81883923173.7015, 96862255440.46027, 104464995728.11067, 66511925126.21811, 88470631932.16809, 96247932562.77533, 70213694230.87611, 120212995130.82117, 86623278144.8093, 104016903344.27592, 73956851528.83252, 99211745857.27072, 109442329865.94946, 82159024529.58458, 74366529347.31714, 82130207833.39706, 81174641689.1256, 75916989345.26196, 90526720556.55582, 83730258308.18094, 97871745139.27316, 70842172245.11781, 76180280353.9382, 106126916313.72054, 66094576318.85188, 71570320089.95148, 86625244649.26472, 82727576834.51045, 78597081871.43178, 107723451363.25647, 89171261988.45584, 100828487620.13498, 97030541308.46123, 120038433205.62808, 87498911270.7375, 53898508893.71945, 119990858925.17868, 72124321185.85666, 86700640884.25397, 120215581448.35416, 62790138434.26961, 68777136944.71065, 59586557478.38652, 85630884149.10535, 84459476172.90714, 97340488398.07404, 98915025176.67299, 71633270878.79742, 63431560003.587814, 85825198963.6185, 70595179957.16188, 104780294996.48308, 96910531471.26613, 86494337289.98068, 88022492694.00287, 88163884038.7167, 91798037929.77173, 86870497766.12373, 82067074006.10626, 87572757111.7829, 88991599628.97998, 74446893230.98364, 96187580301.28075, 70587181607.1224, 90583008272.64566, 105971718310.6691, 57186157522.69162, 70350258907.5156, 74739689886.33525, 60754746525.80287, 73493131953.81485, 94030366640.67789, 82362583189.18169, 82930769870.55336, 97934325286.02887, 107615851361.66394, 80246282191.74094, 96811667788.01135, 74643553013.21521, 73756371946.16034, 85622056245.36617, 68588546545.65053, 66566295795.19463, 74852634984.099, 93941623857.84142, 128498321456.42404, 77920862137.80159, 103660988783.54617, 71964451846.67249, 105039529551.23895, 78019241704.48337, 60532699120.78543, 106544356475.53308, 78321889623.12515, 79652546675.06659, 60987571858.2032, 69991588624.55055, 90204205728.17165, 77348318536.27396, 80431443421.86545, 85520305816.23079, 107542244263.34421, 85134565101.79634, 57091848849.14021, 100663263748.1404, 79256376883.2904, 103478888602.43169, 82512574254.12393, 75775974836.13583, 100039122127.67566, 98797183492.8961, 110192955047.4046, 82597810886.1173, 84510919549.58951, 95696067097.75227, 76670455499.75218, 92269392117.85588, 83058733839.17397, 84592228864.08052, 72195997076.72176, 65400699439.43094, 57622587141.79224, 73864700303.821, 85634031466.25659, 91864048245.82182, 130925527014.2604, 98857222836.957, 72821856576.90814, 88224808362.66522, 77835273745.07933, 79018097931.48083, 87125472633.03073, 103742692650.60983, 82040468650.52852, 92267695366.88394, 76306169543.06778, 86092990071.79779, 122188505171.77441, 89824694617.0527, 110086340193.60849, 88626655026.15521, 81822299684.36111, 87227353052.69257, 77479629155.92508, 71292260459.98392, 90666180430.2596, 84845073579.50266, 87203074180.9874, 100773061508.42805, 87854617350.58104, 87542333584.10233, 88945246199.3454, 81826702261.23807, 91268276895.49493, 69403037970.33937, 71532783975.8184, 64167229966.072235, 67387489014.88597, 109189507209.4537, 88132010506.5365, 73093511104.77968, 71491189151.17673, 71415000000.0, 76486837146.12424, 125114982795.70251, 91755429046.01549, 76613373304.04968, 88175740190.12514, 65316967346.85918, 85340539282.88045, 91774717637.12509, 75572476923.88835, 92466701337.11401, 82369818569.33255, 94734112486.85957, 73262001969.61557, 100818095502.2608, 114412498350.36932, 61347842454.34364, 61932964262.24094, 105312981333.2537, 91156352297.9746, 102436280602.26868, 75130985087.24884, 116935794667.4696, 92675169192.23962, 81722891383.38203, 116054938340.62665, 74750918648.8222, 69099987270.15384, 72589543858.12546, 82704226578.23636, 65891759527.728836, 84530646146.53436, 78282790215.52579, 103120774686.18904, 60639303854.1543, 71369469781.30295, 60521771612.55423, 67543302248.516304, 100327562646.9231, 80643234127.59811, 79444399756.02156, 76440233930.87923, 98405956934.93164, 68058338959.67961, 96893914919.74686, 97772034845.94019, 90846278160.11757, 83264591362.82713, 93892764180.59628, 112089307620.68063, 89341255542.53409, 76065571516.53154, 74150362916.32185, 74475419075.68443, 77304987171.0222, 77089288142.2955, 87358764332.45349, 94882649179.1581, 79892559786.74582, 80339832596.15991, 95878975934.06813, 93584146016.34906, 82815697640.63516, 73544644641.239, 85588946467.67332, 87142230850.4746, 65164562186.13736, 81647455836.76569, 87469566306.33478, 62128485664.65048, 85265093363.72964, 75786537380.6215, 117911435033.02054, 104145812526.26834, 81032475856.1807, 76028165992.64685, 58631249152.259384, 74329376758.3958, 77913245770.3774, 77849081091.3773, 103399157786.02223, 112364770605.01315, 70245550330.24025, 84463920885.44977, 78764013147.44852, 107163316642.12254, 61207892486.9185, 82170271297.20822, 130610599197.50333, 62321464228.79907, 58953515397.393845, 72661728140.13937, 68458261660.01073, 97808398342.8496, 91116585132.77773, 68318043151.01254, 97141788183.14801, 68871418748.96194, 107508863069.87721, 75231221685.65933, 83357265880.26993, 98586197519.16081, 110043900630.89072, 84543958140.28133, 58556180240.20628, 88750538419.52075, 70578697549.29138, 83153816385.59906, 62036602133.127365, 93252377045.84538, 70942619259.5803, 64359917665.197876, 85623840595.58186, 74766517759.53113, 86282480884.36789, 120160426951.1048, 84242640261.13455, 88876261775.0091, 84257587800.23898, 80194944675.08012, 83669555666.91507, 77918928457.78702, 73957457302.60861, 111020700514.23367, 82308791481.53506, 56475205177.812805, 105800534174.05818, 118000186481.31747, 68843322383.8597, 54143543579.62683, 92339355515.4975, 82702016418.44815, 77734537175.35915, 70052428456.36166, 89394768961.18352, 92860840911.63797, 63514270610.209946, 93908512041.69307, 123968372403.9701, 91505974544.34735, 91330188216.43459, 85218949615.569, 93680503081.24017, 73703211239.92429, 85219528934.38559, 67445564241.59392, 122614264130.2153, 83857425620.7529, 111113483161.73099, 75928841658.28479, 89813570636.6911, 76310874029.06247, 79039259858.56516, 82435397107.64175, 95855104509.9186, 68579352028.395744, 68552665833.733444, 70578129207.88525, 81616214351.28345, 77520397811.59802, 89501292651.10123, 66167332801.62631, 75060100030.60446, 94444500237.65486, 86420064752.38278, 58544450322.2173, 85592771402.92583, 96257940240.81866, 66310292519.22171, 72772557096.4077, 89269388453.47911, 91557915413.96156, 134160000000.0, 95854005916.37944, 88466074514.62247, 85286176149.31616, 92681765527.45706, 107620889258.8674, 98138600622.1843, 76771375208.0406, 82616638138.71968, 80487123847.96738, 100146281018.4494, 104014846545.64758, 76628604493.24219, 85528255950.16455, 95972839006.67049, 83809340196.15935, 111198213001.7616, 67328394425.665115, 79461425500.0353, 65473003447.93634, 63572684941.84558, 73179612671.98224, 83421056206.92589, 66966487170.148506, 100185081790.60411, 81764785390.40875, 65195228731.75279, 77743035516.80981, 114565523380.65045, 74940094281.83755, 84044549702.8977, 91242428740.24814, 72958074466.22516, 91549904646.53403, 80923472768.61859, 100706062366.32751, 75538292427.11522, 88150051796.89682, 94053562214.22733, 77808578306.16063, 60739421592.63106, 103228967939.23923, 79892849977.56937, 70071710795.30629, 94504589876.52599, 94870555975.17438, 67072830952.29001, 70701189171.01062, 67188365468.53371, 95546423602.96219, 87877199459.81955, 78754827201.83578, 77682172265.14053, 72522681254.4593, 103560647009.46548, 87427518081.85579, 106056769668.26776, 77980372840.90015, 92417370160.27081, 83914182940.14038, 95150211767.3584, 97244774382.48126, 66805408793.57539, 57751271160.518326, 103622769734.62044, 103137351722.32896, 63995609462.04387, 53982887353.51689, 94980104128.08125, 84057238308.50647, 112284088399.50684, 82369384521.7086, 91647608172.70471, 76672499092.24756, 87061424298.85461, 75260592622.73274, 63996365677.75473, 119046493124.91241, 113304247244.60101, 93917207612.69379, 66320487400.51718, 89082348641.22212, 85718429072.59662, 86412717172.77206, 106751949951.20648, 97899950063.65036, 95109538629.49829, 94880325099.23083, 93689982818.54065, 53827293346.7251, 87185508856.70831, 86980113936.97919, 56003342309.336975, 109919233232.8956, 123315327492.9433, 104323138098.20312, 92959942781.05753, 108353786550.21515, 77218361584.1575, 80938810827.16733, 81415602072.63623, 97082727427.08327, 84552255396.88974, 66744240546.37016, 78485038171.5604, 86266240724.79897, 107610244938.03134, 95074553766.56375, 80390037203.58408, 94171010760.56148, 84039440138.37378, 82661106388.99706, 64340552295.05563, 78201090022.75847, 75740236730.0866, 60577145188.42764, 90253250110.55185, 89999659774.01387, 56689384095.85838, 90790705316.64084, 102508784785.3526, 99387460003.58676, 94699738382.02896, 75147339414.71506, 80088103845.2178, 67941263553.89461, 80271773833.24805, 84818692256.03322, 108542750135.47577, 103342884441.33769, 75905556582.14014, 76476723955.6195, 71707371837.83195, 98998651316.96617, 83071302741.62766, 74327123731.38516, 86237088064.86469, 78244538873.25471, 79835112743.00766, 77898012944.25023, 74262876990.59819, 88277553985.3415, 98170969726.40932, 77776933864.9396, 90047231434.90245, 117578987188.46808, 65054634336.408844, 61383273584.78523, 68930516601.96481, 92577570757.43733, 83452470908.54149, 86560395739.28035, 99542953289.2341, 54400355148.04112, 89277690259.48116, 107821370297.3652, 67161895726.54909, 83173983681.37027, 73095356075.26544, 75436897635.74084, 85582188629.40576, 122533528495.6113, 113567269278.8216, 89079675751.68423, 117914221160.23502, 87040209287.3433, 112115854053.95032, 84132449434.6462, 84684420067.38376, 97919562460.10246, 111047904064.76419, 86917812028.76355, 71837715897.28053, 94253025106.57095, 76083062413.08112, 76962118745.37616, 94054826861.50839, 83791159496.38489, 84689888838.111, 87717614736.82373, 102724673469.27698, 92176699398.49765, 58888000645.98506, 80045543164.03728, 83086119697.30661, 68160480757.44699, 82498770479.03784, 72669582125.84003, 74593130283.55214, 97925307908.51463, 64697455843.979355, 71071062413.42522, 68682296911.37269, 96572020657.17186, 89170950471.84135, 68384667869.37131, 95498256355.8095, 85116805975.71677, 54964156712.14975, 67029671981.30078, 82954341917.80435, 82211955358.99734, 95101140040.50568, 75898886517.31578, 82382697575.79494, 101423107932.87883, 76338753826.13292, 66059922414.34163, 67220685862.43805, 93571142660.26225, 118964909935.04413, 79130094282.87193, 57500752719.00647, 58383482855.381195, 72700280665.62805, 83115600691.53416, 91108540373.87659, 82826689401.53412, 80716368003.11102, 115258681267.72842, 77541397492.97249, 74629201773.48074, 104319659344.97092, 66133675882.09355, 83369720488.93196, 95832405694.61548, 72956643903.3034, 119826303418.27353, 76161580260.74718, 114616104820.16406, 79180524954.50478, 67541350356.154434, 82376112592.90302, 73587965790.90543, 72060144335.42316, 78320489160.96085, 92575356992.21214, 83180004570.3513, 86318582593.97287, 102224612469.3113, 103294377067.68512, 100050838690.37805, 103651786554.83348, 66619558792.30467, 84855008291.23672, 77795668514.22664, 99186865044.52959, 75386538912.65544, 82573648092.29161, 119343520622.67548, 82742160717.0057, 88526090102.34328, 75580230872.3664, 85597719371.82819, 75357325196.06427, 78439473668.31985, 94072672206.50307, 117261495902.2313, 90656294375.80908, 98674647105.30295, 65901866129.54039, 91434709335.94304, 88850361812.9652, 89660815898.35078, 95816554196.5004, 99079815732.50232, 97147829063.32713, 105042686627.67003, 84643504672.05777, 72433718545.5036, 77964073778.83704, 71415000000.0, 79626658627.53671, 70548290168.56339, 64168458770.163086, 93088267308.14839, 92947240231.2041, 73237110428.09471, 70389969156.64757, 91163208761.29051, 74293457159.88904, 121800255499.88336, 77538089630.6818, 99364241142.45996, 109240167968.51532, 78801139760.598, 72522308913.82535, 86148808686.6927, 87784334759.39326, 54687702940.44289, 65727800250.10945, 82083351066.55713, 88201383109.95805, 93123857837.44159, 89311682551.52902, 75547714377.73016, 80870053528.20152, 99654694271.0485, 69191933452.91621, 80284458775.10065, 116295065763.51254, 71917793216.81267, 62493906480.0479, 91611317365.09128, 77969452378.62158, 56916486392.65488, 81606357886.15764, 109558851202.6473, 91740086951.89566, 88990657607.24786, 61536341564.29375, 81255520729.52472, 76544725482.11143, 73961045565.15967, 95679244965.79613, 112341789226.71973, 112883161832.46829, 112360190428.3357, 80841078091.11792, 102992422495.50404, 102475237509.31604, 87779459865.65477, 90040318397.34239, 92548885834.50847]  # Truncate for embedding
baseline = 86371000000.0
mean = 85913480148.64122
std = 15139781907.61811
p5 = 62926804023.51703
p50 = 84624675157.10834
p95 = 113374212753.30284
display_name = "Conflict Reduction Benefits from 1% Less Military Spending"
units = "USD/year"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('mc-distribution-peace_dividend_conflict_reduction.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 8.637e+10 |
| Mean (expected value) | 8.591e+10 |
| Median (50th percentile) | 8.462e+10 |
| Standard Deviation | 1.514e+10 |
| 90% Confidence Interval | [6.293e+10, 1.134e+11] |

*The histogram shows the distribution of Conflict Reduction Benefits from 1% Less Military Spending across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
