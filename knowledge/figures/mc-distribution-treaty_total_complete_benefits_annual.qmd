```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: 1% treaty Recurring Annual Benefits (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata
)

setup_chart_style()

# Simulation results
samples = [160298866033.57355, 128777142088.56154, 154425970137.17557, 174968800617.03232, 115109909201.41154, 127947220006.02634, 152310297015.21417, 143161857595.89764, 150692881077.55667, 142861145456.97354, 180780993138.17032, 179008751518.8155, 151785224132.93076, 192915741065.43335, 166066944513.01965, 148562007671.96057, 155413715110.09427, 132503630804.01941, 171450397274.14523, 148155482353.18417, 154573314990.2457, 133984249595.52654, 173057844241.98834, 153836275714.49753, 148106951849.10895, 152453378657.94482, 169916251278.80515, 144627122754.57617, 162975355769.06155, 160026999247.46448, 207605819848.1364, 131885212920.58197, 149475455356.62598, 136643011835.65605, 157106637708.41797, 194605494062.995, 136763693768.47925, 123790895113.55995, 141113304850.99536, 164186380190.7361, 177811128660.46988, 173938029094.88806, 139433567814.9767, 149317652705.52014, 141366683899.01685, 156022569578.51904, 175953187223.37335, 160938014730.29037, 166083379129.15396, 139076566488.33292, 161047146298.19086, 174091705068.5177, 121962999585.10966, 142684311188.67334, 139242911158.0384, 147011967858.3705, 148086462494.94077, 174086967034.83972, 136693097438.04434, 182875251715.4151, 127118588615.21106, 149159545056.80463, 143682062632.60208, 158555155125.16388, 174684543089.00934, 164155676135.41385, 142616076100.51685, 146103063141.67166, 163748470754.10535, 148167069543.87952, 144601521942.51337, 128994030641.62906, 120816653123.25333, 152920623561.63507, 151467760651.72845, 185271316837.36465, 149535446682.6657, 148981723084.23547, 168235300177.5715, 144538815988.60074, 163121948565.86865, 129440492891.69217, 159187362325.44415, 150360384554.31195, 135788181814.64941, 169585472308.20984, 132637068090.68192, 150820781487.44986, 165709370212.5205, 173380839295.29916, 167727227561.16818, 160679893097.93738, 138677775623.34058, 144747288578.59756, 116537773338.43796, 118413629203.67801, 149419463698.79535, 123640009955.62796, 152536345505.79022, 144092240214.6504, 142717179409.75757, 187036367324.49838, 142010518811.95895, 156731802605.7715, 134796206826.99753, 130850882910.2542, 135224074890.69781, 142762719512.68082, 180075295161.9959, 113009083339.32678, 165616571820.7476, 152922199772.77478, 138581333446.81073, 123456579032.95279, 149642770591.5813, 157091192001.53046, 158998620066.38434, 146690259263.46954, 204419022065.68893, 139378956462.23007, 122642909513.53934, 146258122294.64462, 174829589419.5465, 179674897585.57657, 164293750758.57626, 168570176617.4967, 186285880824.0864, 144262478011.34616, 124990145149.54723, 152338480392.64633, 152079339944.4672, 122598244982.42972, 167207542996.13046, 152679438552.9785, 124867659923.43188, 137881819338.6717, 161389673249.68555, 168714799526.10468, 191896997533.33652, 203875490964.46948, 173919103181.60416, 127482375508.21027, 119297083464.84744, 165710895104.63257, 137957483596.7858, 153904120737.42773, 139653010410.90564, 151527802450.75403, 183171135342.61386, 145620419678.17188, 167863084974.81653, 134158048105.25064, 128447218702.0479, 129249778003.03192, 163072751717.40503, 214207721571.58008, 164584270597.7596, 175926532904.31052, 140444085782.6999, 135814968878.72495, 142747160559.07782, 144958752784.1275, 212576350642.3122, 141556828592.9684, 188708363959.9453, 141131538001.53845, 190183415954.64453, 161242828578.92404, 152240763213.66376, 140508052049.72574, 139890927147.90927, 162572689938.62207, 130771076262.78658, 124781299545.60538, 136318229499.94608, 157249907500.96393, 189654571104.39694, 141097277514.30157, 160759015035.72122, 165840321186.0232, 202150471393.45355, 171631799458.31482, 144339880793.32135, 178271838737.45624, 156409509063.75214, 204937241425.4658, 145086421054.5882, 133027415154.56216, 121600626132.10135, 213323568622.8941, 218807039548.10413, 149075176480.93527, 154885877398.7906, 161848686762.18503, 121920804733.77478, 144541206138.83792, 160425108998.50308, 128567292706.03743, 157279092630.1369, 144894482272.07306, 157166512030.45282, 188241126821.08246, 154962809676.90707, 172598837393.1842, 117159318322.16193, 144256602026.74576, 137379054292.12445, 132840336428.15334, 129535251062.99579, 130208264161.90894, 184597424666.3178, 121075296321.51944, 167064000528.453, 135747690807.04529, 137277221582.94733, 178627079998.25153, 149974236594.34866, 176833794354.3734, 157393227280.63385, 137659146618.60324, 137575655449.5611, 159901334752.8709, 160733235279.76996, 135340774274.38841, 150528210487.0443, 161771712073.8592, 194224123282.01984, 187301771576.44226, 141573838895.04062, 150549264919.3187, 124620058326.96356, 150138287445.30814, 163727870518.4093, 190404147010.25476, 139285738203.6606, 138987389752.75943, 108486015685.58163, 141023879687.31082, 131191858837.6123, 141970602363.21082, 135241825722.98541, 148282684984.35397, 129223328991.17833, 134274140747.48422, 199858776847.56024, 135808564304.56555, 131041182359.66833, 203733717055.69815, 201795373938.4383, 131627982165.59264, 149631261900.0226, 176790823702.8908, 187413732573.52298, 135616717246.74783, 138813206598.30063, 160046569678.2895, 172027876499.37912, 146754535011.57953, 164233440010.62775, 123240296540.6336, 137759558868.80267, 147583147124.99573, 159793234759.60052, 145257288104.51282, 171870677677.0477, 163087176373.90775, 166376216157.10464, 174103100262.38354, 171690201594.6204, 154554627840.54337, 135749130336.1687, 158505044204.9118, 146750446047.64435, 201038684617.41464, 183749836509.46027, 150200654629.3989, 142998438256.54065, 131923739901.47025, 189999572354.53632, 162116667259.1328, 169351429070.65726, 120658167299.25696, 167583440602.3128, 157834406913.79333, 124194627256.54214, 135330801085.16492, 158288858184.60907, 162120736928.2308, 147130610094.75677, 153515764681.48514, 159812243187.38684, 142256348216.6704, 184696834701.5737, 121117111817.91406, 153132149694.57056, 150529387107.9914, 142790997205.20908, 149642618086.24036, 120721112412.87868, 145260021997.93164, 195612431898.3604, 122454611415.10855, 190182967754.83914, 143327953426.82904, 153389328557.14618, 125512185396.95557, 148892196298.6212, 183674617124.00702, 178593092642.51318, 194973844437.79233, 188524600276.98132, 153154471623.8667, 181950000917.96677, 148581626335.32635, 160934033124.43396, 160081854432.18536, 147596670344.89404, 133787235300.06854, 184173705759.63818, 129529087556.09088, 165887209764.42838, 140502682179.74698, 196654744146.54562, 171881439662.40643, 187777198720.1453, 177425837390.97507, 127199601132.17503, 138874113071.68948, 145208126277.634, 144183377384.52057, 201351458013.12357, 172824755915.5577, 143698708900.3079, 143626774222.0445, 171322245875.15012, 136892068140.6365, 124203601128.45163, 160762131400.0792, 162952817082.71408, 165274010493.55222, 113742354878.76718, 139078369337.70078, 148182949582.48315, 169522875528.13147, 191287383446.78088, 117950966992.84319, 153132264554.4691, 171183265123.97986, 134327634169.0871, 202163804360.7272, 175155099599.7141, 178924655847.88693, 136552540535.63046, 178953373577.39545, 195987117231.23315, 147893294083.97345, 139988204116.87933, 153170121314.8408, 144929957857.92114, 136011365976.28658, 158149514722.61777, 164233015896.91656, 176147488432.21338, 132774054236.00339, 154542503848.8637, 190660807675.48843, 131571166708.71939, 139505862100.26306, 160003022740.78326, 157844999965.41812, 150881282834.06198, 189588455975.75452, 167205107517.9729, 191281343547.16202, 175726501968.7677, 210297648316.7505, 157985615747.50818, 104310381770.28348, 207235563085.0359, 136454438719.79489, 153498493949.39532, 199294333434.42593, 119016136821.58957, 135402832837.3317, 113233887870.40446, 137858990931.26688, 161401234013.47586, 171441008950.29593, 168627736574.64502, 119768981776.02602, 120421424032.7013, 156601709284.42303, 138577614219.9223, 178143012646.66873, 175248147698.51974, 160874141644.0185, 159788814217.15024, 152714931153.7943, 169998406367.8554, 151218364386.7104, 150641491883.29498, 147470117660.96878, 169029369235.2935, 134935079411.8768, 174456973813.493, 145503215988.93237, 161715195020.64523, 181245835597.21405, 110854575670.86842, 125210238301.55658, 128806378066.92589, 114054126473.47588, 142207847100.49677, 164620019135.36093, 152096911105.04187, 156498208611.3867, 169797259099.11194, 189113272985.00275, 150559738302.55798, 175357586082.25476, 152283996207.8592, 137897987307.48047, 149918987426.77155, 127017590719.32443, 132792994235.09982, 136202015446.83563, 169084955749.42053, 213448135762.67432, 136918319902.3769, 168162457761.62015, 133795531910.94452, 160945447871.26117, 146506481047.26038, 109623571386.57231, 186227721951.224, 141487408741.47137, 149091865537.048, 118571925697.42136, 137534537616.53543, 166491270912.0503, 139045446934.3648, 149226233337.05884, 154671757968.116, 187201196623.06085, 144916172745.3897, 117048524101.31497, 174549816193.64764, 138198655619.27533, 180160793015.85495, 159329446602.52557, 138341994756.0393, 175650159416.7857, 197643727906.62677, 200074433150.249, 151392968335.66895, 155179433822.71106, 177556608458.4189, 131008313061.62448, 175043549763.54523, 152637326328.05884, 160094349794.46066, 133701962158.75174, 119758117464.96516, 111382951248.91512, 134059622087.6186, 152111545999.26688, 163043120586.22632, 210586127446.7302, 179040246764.98965, 137336874156.95752, 169063737290.28506, 135037190029.83188, 142806303442.41653, 159969577658.94806, 180407092902.4986, 159032146108.69174, 175824565801.49075, 135561937385.82028, 159226723678.07214, 198512120986.64874, 165919843298.5379, 196261429020.39908, 152410913456.96744, 154950946582.49445, 155402721287.936, 153166622450.01935, 132510137238.55554, 161914578843.41992, 149515313135.25272, 160259862687.39417, 177261407688.83032, 168752623353.2414, 149646978737.94174, 167722969352.93185, 148633942883.8204, 165355397910.41852, 123872026372.51678, 138734382548.99673, 122103466865.15918, 127233284994.27798, 188203331468.49268, 163271323113.3789, 136771827145.76305, 122919252624.52321, 127383708878.74254, 132529002288.54434, 205350493529.75394, 172631858859.82288, 136236708990.28119, 159823683964.94366, 118874881528.83723, 148194613451.78296, 165636939163.56775, 142956507324.15683, 163203004871.95563, 156237372854.7853, 174893557453.8622, 130430069304.63861, 177810548620.25806, 208821301878.51794, 121755029071.3584, 116800740888.5923, 179637207421.46545, 160726848419.6177, 173083812844.58548, 147296636870.71948, 205270594113.45853, 166078454258.8501, 148875798949.52942, 198004156259.86713, 149332270755.3219, 132564135068.57877, 131157606724.30284, 150095436119.60645, 124011625228.26591, 157875551731.63327, 146506155574.78796, 172517359352.3375, 115974784108.10378, 134305785313.97769, 116658741080.3695, 120253506086.08847, 171552477313.86646, 146046166264.9167, 141391121314.7493, 141903944041.86597, 161477930975.4254, 121415123820.56232, 172027262117.836, 169359275542.7016, 161954084339.30573, 171980370174.46506, 157966219315.55862, 202932738458.40656, 152220154590.8598, 141613913753.9204, 133755123506.62595, 138916696393.44104, 135288242399.65472, 144683229596.75476, 157317386345.0513, 166015049875.8854, 143578992853.48712, 147219113191.8401, 170752009420.779, 172260963904.63266, 158996811101.22418, 143318555863.01785, 162831709870.92114, 155592802387.6233, 120484388914.97403, 139280739837.71188, 157416298672.59058, 115063787624.55081, 156950154319.9792, 130915582486.41963, 198497214512.99734, 182472152160.83838, 148734122613.03842, 147544133657.33353, 120878250353.94885, 141138717542.88895, 138221510428.55634, 138653250705.2925, 181555616369.0173, 185453766281.3022, 126950624466.07614, 144910566849.71613, 153209760602.8353, 192912203978.6151, 124620926570.17908, 166070380772.97183, 219183120034.20483, 121160451883.1152, 120967111765.38968, 133529899688.54889, 138473366955.87726, 178850153753.1526, 162271579218.86636, 124936419931.7323, 171784311870.27567, 136605410215.03558, 197645409930.07715, 148540468126.16046, 143192053505.70557, 172483890951.3345, 182161204879.82056, 152002670863.5793, 110165403934.92906, 150348135496.54388, 125815258255.36569, 140344785245.24707, 114004885153.12209, 171700348803.75015, 129586400410.95418, 116619165835.31433, 164792436659.65796, 149594371901.10556, 153566728230.02823, 205470000847.2079, 158565577635.9549, 152904140352.22464, 153700291408.4804, 146824607609.27118, 161097602601.2692, 131586532940.05548, 143781143439.78973, 190293824281.92654, 145387728885.60083, 111064384999.70288, 193541472723.94272, 197379674639.4342, 132746252359.79984, 110918640857.0332, 154773813594.37433, 148704926787.29404, 146935867416.8472, 122943958662.44016, 158246654245.97095, 169261083490.82532, 122933305686.60172, 158921523598.8001, 207026246826.96588, 152031311217.8497, 158637714226.31192, 145341767655.67316, 164938462508.49622, 125356465791.97495, 149403930416.55518, 131579968922.9964, 205669533742.12894, 142091560450.50574, 196602261577.23386, 133941966694.76056, 157532880134.39005, 153309231499.3124, 137491570172.36926, 156522318928.65555, 171704749505.49335, 126127992176.14038, 125727629292.70306, 135986217010.81677, 139213641693.6857, 137119263643.42668, 160469413971.23505, 119055606520.23947, 132858513783.27592, 170544115318.0366, 151303338990.02075, 124110442571.69698, 159933589220.24017, 161262972436.60986, 130996691398.2009, 132132191447.42361, 156574905918.95258, 163264853179.89407, 219327078547.3345, 169684037524.30945, 161587005392.3448, 148388098174.34064, 162922851632.8393, 185704015905.4595, 167291574643.55792, 150454400635.3554, 144132328225.62555, 140121968848.52115, 181010343012.87558, 190252514405.95422, 140059360548.28693, 150102621077.45435, 166651645946.04456, 144103398093.0273, 198960292769.32922, 126140133139.5241, 144362613449.66992, 131493436780.72188, 116603581613.18665, 125076672704.27649, 136239223767.31696, 133969821895.10422, 167218305449.4742, 149785580646.3126, 119375473289.80469, 145884416465.58826, 190962286848.92404, 131101024423.26964, 145846421395.46948, 172345899771.4098, 146799237898.28122, 161210773618.15515, 148890884337.52707, 175044643012.58084, 139494921124.9654, 148947313281.15057, 165251008573.9226, 133605558511.83102, 118126756479.03267, 179098763155.3947, 143352419358.2723, 128379539803.29167, 157092239976.53418, 177969361013.73605, 115618985175.13322, 119823438525.00914, 131676396725.1886, 178379834870.48386, 154844179711.20334, 153006885671.36115, 137242903746.55914, 129302458314.26633, 178051910306.96902, 153340293177.55588, 175418655460.7129, 144500807105.7323, 158129808421.2701, 137886776063.9425, 174052194428.90582, 176585346022.4927, 125228531754.86392, 109035480480.44054, 197971580992.9322, 191501010992.68738, 128523848724.69022, 108959993025.26736, 165434396799.64725, 169225126658.36108, 197565514582.2669, 148649950448.32825, 151846077354.39484, 140318364782.08295, 154683313528.77985, 140096358554.67737, 124050622469.48868, 190440114381.0655, 197728310909.28107, 169445635520.24332, 117282188823.20177, 160877747334.94836, 154949141241.96735, 159746287794.21704, 183985453298.0409, 165286829011.9504, 155427182256.80057, 165572963645.2165, 158240896932.18362, 110304724809.32639, 158197773967.65692, 150486457433.22064, 113965125051.44783, 188513386429.25153, 202083302025.56845, 181317376216.53564, 161324706752.53973, 189250748695.87857, 150262080034.07278, 148726312790.17944, 143709511321.37424, 177278196681.40198, 148442924897.19943, 119240993366.48912, 146580075929.51752, 151776559103.96738, 196665889370.3897, 175735315865.55197, 152191927663.9163, 166090721792.78052, 155854060404.3069, 143606666678.0342, 123664275314.37059, 145115814169.1973, 137383464386.29941, 112318404814.66579, 159299206059.31207, 161177551359.19028, 111542749636.388, 154852802757.63968, 177708189999.9145, 171900460971.75177, 173877841019.6488, 145844539431.18942, 143204074498.02924, 120858904464.08844, 159084577392.6637, 164136039618.22293, 191306147646.5389, 183318791827.54547, 147347830102.21948, 130208888517.96173, 142062605351.78693, 172415478047.23962, 153010177093.36703, 135066024539.39178, 160044725181.6142, 137332436621.63492, 146974818609.2055, 137411446627.78578, 139981595773.03775, 165947949496.66602, 164305314292.3015, 142302259647.62164, 154809937892.42947, 201166580623.7533, 129952659851.2221, 108666754327.09232, 125660864500.50597, 158996775070.30548, 154786856301.71048, 146840462582.91913, 176396473338.45822, 108694861565.89584, 155658527550.40448, 189265481907.70343, 125610397434.49757, 151496197093.01593, 134237452783.78961, 132516803190.26584, 148330862751.93405, 196597687020.48938, 192198140490.2657, 155033123496.59973, 201259192595.1198, 154990640486.8764, 205949675684.02448, 151331197972.8833, 152365227216.33667, 163956965758.37558, 206519183054.2153, 172502151989.21375, 133041763112.34546, 173434365744.4648, 143022081039.47028, 135518894244.5908, 177549351258.21732, 146329259127.34863, 155086143425.73737, 153981397990.82816, 168398647182.80017, 168282966482.84177, 117194783089.09282, 144955927827.78842, 140262034618.4885, 127899246043.08305, 154783423104.38068, 141417845215.3046, 133368813319.38034, 183095000099.42877, 133018666649.94247, 139127948825.0508, 130491178160.68106, 170918367216.21942, 165587568600.90903, 131719449508.59793, 172122974773.4529, 155515261908.90048, 114472632198.16434, 119791379707.94551, 161841669549.5414, 157030167698.3322, 150134864513.99966, 138334321709.669, 153013639845.39807, 184247788422.14392, 130294250276.24661, 128736256801.57571, 123756782653.90828, 165602282827.41193, 198466963587.05176, 140030521014.2397, 113134029280.61734, 113392186176.44916, 129437090879.35825, 135995007532.47809, 158470685820.53925, 151517400302.71042, 147283315052.2608, 185344743758.34418, 139844275621.36096, 135843640835.72687, 173620860968.46213, 129123944761.58026, 157470166929.6835, 163964226079.2395, 141231486354.33252, 191440799608.0913, 127917607301.90706, 189676629354.57422, 148045775338.51297, 128532715621.55957, 161832374529.25085, 130059106347.7663, 135862405770.71167, 155730781509.2701, 164479949841.66452, 143568244889.80075, 161787683271.36438, 173579260595.98087, 197092606767.1031, 170833014549.1215, 189461439183.37988, 129507464318.26865, 158110748946.97363, 134863519970.73402, 167556167868.37686, 139842331035.92807, 155758470188.17975, 204069727779.90567, 147424023313.7762, 158846680187.9231, 128012863147.33188, 156326085139.23795, 147263154608.06598, 149981028500.59875, 178982199325.26804, 196950135440.45444, 165877019697.11078, 171706538155.09308, 122316769547.38138, 155288053393.23315, 169953289784.41565, 166551478290.54193, 165004053520.06924, 178530313711.99597, 167934269526.60837, 184390159320.87643, 162923496050.4838, 132505962865.53482, 144185007199.87228, 131021332049.983, 156110817745.12817, 123534276889.44383, 118158088514.59105, 161426180843.93527, 170796132945.85306, 130159931697.47096, 129568317219.06369, 177613529961.2852, 131248086559.51546, 206173127736.36334, 137616558614.01312, 167016235571.7968, 186346427180.0372, 136784028224.2485, 134588845551.09256, 153939891388.1394, 149792885907.2885, 115636546500.91367, 127394211561.41179, 148034175365.63022, 158349615389.1478, 164862684814.2234, 148741164135.53415, 143362544601.24368, 151977873782.12463, 167272639304.0777, 126491828340.8994, 139747633409.60233, 184899997922.84534, 137491634301.4089, 122670844779.67296, 160833500252.9426, 146046619150.8653, 117382401708.14154, 153005756258.254, 182861737747.7836, 150209153231.60934, 161539307600.1617, 111740890796.68959, 154249038709.96683, 154584000525.5142, 139370056318.02267, 174959443182.70886, 192460995240.01416, 192973081061.83255, 190741233217.6378, 147016068325.38397, 181035821524.0924, 173520345661.8887, 161938986105.29657, 156700915304.1062, 171742273259.6153]  # Truncate for embedding
baseline = 155051000000.0
mean = 154310526794.47787
std = 23053788014.489143
p5 = 119342518377.28023
p50 = 152456361628.1755
p95 = 195433941925.498
display_name = "1% treaty Recurring Annual Benefits"
units = "USD/year"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG
project_root = Path.cwd()
while project_root.name != 'decentralized-institutes-of-health' and project_root.parent != project_root:
    project_root = project_root.parent

output_path = project_root / 'knowledge' / 'figures' / 'mc-distribution-treaty_total_complete_benefits_annual.png'
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 1.551e+11 |
| Mean (expected value) | 1.543e+11 |
| Median (50th percentile) | 1.525e+11 |
| Standard Deviation | 2.305e+10 |
| 90% Confidence Interval | [1.193e+11, 1.954e+11] |

*The histogram shows the distribution of 1% treaty Recurring Annual Benefits across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
