```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: US Per Capita Mental Health Cost"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples

samples = [1076.8189766756389, 903.8563354171395, 1141.1667553346597, 1169.7689605068936, 802.7478819493098, 873.518627091891, 1052.3016861435444, 993.1783111555719, 1032.6680452947337, 926.1278302937184, 1160.4891756241964, 1145.2366529623378, 1043.866372099747, 1198.5515287633218, 1099.8884877494243, 925.3746077343861, 1085.8349780711885, 913.4519836883642, 1160.3459819336076, 1028.2234937818773, 1010.3150491215912, 947.1179334506634, 1213.5172773913348, 1014.3133848855865, 978.7883022831846, 988.5475895359572, 1109.208295386666, 1085.3675459642532, 1092.0713514257495, 1094.6465654921453, 1323.5294117647059, 981.5850759200704, 968.1515716285123, 930.8757874823076, 1121.3590392936837, 1198.8217223658196, 1019.6874714155861, 927.6832701269318, 929.5787039701222, 1126.4244935933837, 1140.0978249079144, 1110.7757807113944, 949.0215117243581, 1066.6934997723797, 1050.7743680487358, 1064.8238292927713, 1159.2855784397348, 1065.5044092409705, 1130.586081429612, 1044.0768540209078, 1074.6341720539426, 1123.5965734976457, 856.0678928375521, 992.7350078495899, 973.4443332490973, 952.3182282116412, 998.5078068095277, 1257.3328775948594, 924.5870692063191, 1173.9978691333781, 831.2736433307035, 990.7703263811894, 1057.096387773033, 1117.02248416806, 1135.3530900583448, 1147.558664368703, 988.986428628126, 974.4615412753049, 1157.2566032573602, 1009.4679316811113, 876.5372332571689, 892.941659419324, 918.1539787155463, 1104.1433291488295, 1054.3021002216515, 1132.2909161159437, 978.9253429568516, 1056.516590329405, 1122.763257420018, 994.0705345724814, 1098.3522379756387, 949.4644751672563, 987.142920270198, 984.7442329975298, 885.6981234044778, 1102.67950674209, 973.5673322877761, 1036.614778321094, 1101.7859527645792, 1096.8881235519525, 1128.596232224892, 1021.7425104856364, 979.4295229279958, 1024.2424196359075, 830.7905208806945, 857.1881597929743, 871.1877332136631, 908.9002306437368, 1090.2302133400517, 919.8260636168797, 985.2027893434373, 1225.6956271717181, 988.0160618442076, 1139.2462225597455, 916.4620014082655, 1007.6119003246121, 914.5064861143837, 990.2353309337149, 1154.5973351826935, 826.4761241373176, 1095.1601921327, 1067.4680272261676, 957.8808131728425, 857.3058802661521, 1044.6956752208923, 965.9793950947503, 1066.7650182139369, 1037.878691170077, 1274.9465327164537, 1003.1715569976508, 905.7987768511568, 1059.3731111635707, 1065.0052146733103, 1235.3025944338103, 1153.816286523142, 1084.15661785489, 1252.16369817446, 886.514632008769, 952.2098946928079, 917.3027077160048, 983.7097524725905, 865.0850272515909, 1124.1618537183099, 1005.4120428631676, 854.547622327123, 906.7332020204803, 1078.053119434726, 1154.2693994389508, 1323.5294117647059, 1323.5294117647059, 1092.3098227316182, 909.8130116401279, 787.8787878787879, 1071.6427265136842, 930.9765961215594, 980.4427962281252, 955.6449613535691, 1016.1295437681316, 1189.028821536156, 1056.3114747562565, 1013.7713120825288, 904.3661309406299, 832.1602723582316, 971.4265688242834, 1027.7072695525935, 1302.8303500569618, 1052.63526736728, 1176.2106077252217, 969.7851269130891, 886.9556203654759, 912.7107787107642, 941.6707424643012, 1323.5294117647059, 929.9533491022291, 1154.3239047703128, 920.1317587144912, 1168.4001646670308, 1088.1279180522329, 1014.0349526063029, 1029.45108392733, 950.3473982706824, 1096.8225711240889, 975.3969295220484, 882.2718865834877, 876.2803229947061, 1058.4509887313316, 1271.1856422911249, 1056.7163517562694, 1019.0648292453862, 1074.1734444288907, 1226.7771471154117, 1064.920045446561, 981.0085206805849, 1195.2860187731776, 1094.3523301538403, 1264.0328351387461, 1059.9193411251244, 882.4024866830821, 866.046073683874, 1283.1320905244443, 1295.3427909860955, 1011.0182122974326, 984.5583970723071, 1251.8606964686164, 895.9980249075792, 921.1147620795122, 1125.359265872794, 983.0957080593615, 1034.2397042355913, 1013.1368219237463, 1081.4359462371442, 1243.095262368697, 1047.2092163503635, 1125.4489487922708, 791.9743163876037, 1028.3851762328966, 927.3120441991858, 883.0525934331754, 923.1048749994068, 990.86858398578, 1166.0184953685168, 870.7688915699077, 1039.0658474567697, 971.6971051542232, 991.701176136448, 1179.2805454170998, 1110.0472219649982, 1231.8027008211127, 1014.3165286648415, 945.2682394645674, 1005.1978703466443, 1068.1300238036663, 1059.000416523251, 898.6453835068119, 1047.1962452294374, 1066.147361723188, 1323.5294117647059, 1321.4387229346178, 926.1037816088592, 996.9175142565995, 855.3674571756308, 958.3103390391884, 1078.3467062670072, 1210.8832397923304, 941.1978335319632, 950.4267547428925, 787.8787878787879, 1013.2393279980874, 901.2202993193953, 965.9860969994132, 923.260136094184, 1022.3044966236158, 823.2101779166145, 854.9662254318561, 1323.5294117647059, 875.198731227989, 897.1958675184737, 1314.585728628519, 1323.5294117647059, 888.5019219527453, 986.4753780497442, 1081.996679865751, 1296.1917991396936, 910.130686120248, 1002.3982658912571, 1145.1688993117737, 1095.2090248765141, 985.4602249604793, 1017.0519032331968, 865.2867224492643, 1003.3259523131745, 999.646729270486, 1066.6946896359009, 962.7353368798566, 1100.4656927835592, 1180.8106508097105, 1056.08878091843, 1083.434822270185, 1042.1177709069614, 1034.9410708374278, 942.1206120304399, 1078.4715774435335, 1021.9020264330043, 1323.5294117647059, 1270.236495127514, 1088.2548186338622, 937.0434159638867, 895.3722187509754, 1208.5660073616657, 1070.950516206282, 1101.6994096947462, 824.6201419544576, 1167.771307785329, 1098.0154952473333, 895.6031849073746, 973.2983040912939, 1071.0855099451333, 1042.024341595835, 996.2961977684627, 1021.077141502807, 1001.5241959306485, 1055.694623279594, 1253.499612807186, 787.8787878787879, 1003.4988732171505, 1058.9920136680728, 1075.5965656579535, 986.0046377188004, 823.3180852031918, 1080.0879026782563, 1295.964400279574, 847.5600597728943, 1158.1387891654306, 991.5911457140629, 1026.6985237367976, 902.3376790808177, 990.8256549046018, 1225.8259152546282, 1116.5037726744092, 1296.8019057672466, 1206.4070841210976, 1095.8253565930966, 1298.7660275870203, 1095.8120123203626, 1152.7466080524987, 995.7255808464945, 1043.936391320194, 945.0859417935211, 1177.2593441050087, 887.7228368554897, 1145.9166203046168, 1009.553803920923, 1205.4390535405685, 1141.228838353598, 1311.8041123677076, 1138.2466961870946, 843.3570046107345, 1025.9462904981744, 888.4509530228173, 967.390802617969, 1260.002230824995, 1124.5107098132241, 944.9005549069727, 906.9530366599502, 1039.3568618041033, 883.3116801448166, 948.3259750195102, 1077.841962760153, 1202.9404392353356, 1120.3056101532627, 787.8787878787879, 1076.7698534772564, 1044.6826251570033, 1092.23598589424, 1277.3444875994492, 790.5493575021579, 958.2608747544314, 1117.7039769752025, 842.3084671887594, 1254.2273105111765, 1085.7792481288038, 1155.5412466856699, 960.7796543145998, 1150.6134691072377, 1189.4146054097882, 1066.7930509414841, 1067.0046129210098, 1072.0100293952682, 924.8863949103858, 1015.2384423811418, 1014.5784888341304, 1087.9073189493674, 1178.8301616702688, 901.6755348999905, 1018.2198229273491, 1255.1269290447865, 939.4219225535643, 929.8488124797956, 1062.5547843080208, 1155.2104517015855, 1036.4706215796202, 1230.450104864916, 1157.0785182645934, 1154.824664603257, 1112.3624493910409, 1323.5294117647059, 1007.6480958440369, 797.082795465997, 1275.3575598499153, 975.0520421577945, 1049.5702787519256, 1227.3441899839254, 840.0449896217839, 879.2852504685397, 840.1523681423341, 933.258988159254, 1095.9038282510878, 1108.0359322400975, 1072.83824024103, 861.0303787476254, 787.8787878787879, 1042.2803798867178, 973.2664654449914, 1098.7256563267613, 1133.9830360563337, 1053.7278240218316, 1142.6063288355258, 1066.2838416562345, 1108.884167647611, 944.1942359842712, 1011.0060744772227, 1061.7899305520552, 1151.6274402427562, 983.206309294952, 1107.6002091028788, 999.7181536271287, 1019.2102937716727, 1152.9764159341164, 798.2329647264489, 874.1680174730607, 853.2823808747459, 787.8787878787879, 947.4466673126916, 1141.0156017191564, 997.2420019774472, 1061.9301311118586, 1192.6319971946914, 1230.2459290112852, 1025.6544686701482, 1234.401885372256, 1047.4194693789868, 928.0165143729308, 957.8495823466353, 853.4656041146363, 921.9058868081231, 987.7905979148679, 1149.0894740333665, 1294.8544359631271, 864.466226246503, 1089.2444904805698, 903.7904494645168, 1100.9183887101779, 1017.4143441464042, 815.4034099440805, 1167.9018582014633, 956.5283807700051, 965.4251660570553, 900.3595989402054, 950.4098204158248, 1094.2289343831208, 1009.7387421394834, 1080.1816461476883, 1084.869873782858, 1229.1211734889737, 989.7515259206431, 853.874520705898, 1189.2211594415094, 991.2086523901506, 1196.5791152481738, 1087.9049460057486, 1017.4076036759755, 1083.0144243511454, 1323.5294117647059, 1323.5294117647059, 1044.3218758917985, 1056.7437311446822, 1190.6183839838561, 927.0185831152993, 1080.8018726793928, 1031.4502772117585, 1078.1084798582979, 928.5035522896268, 841.4344430167048, 789.4882484114705, 894.7926553538507, 974.9281522685135, 996.163830303123, 1323.6515845377162, 1195.2400527633392, 913.0704349952118, 1082.8639026897763, 981.5003107167722, 997.3095573825608, 1060.2079973132873, 1121.825169299764, 990.2062671495406, 1188.699289927186, 891.9363581230419, 1035.7843039610234, 1323.5294117647059, 1065.4328479767717, 1247.267484906131, 1047.3367569096922, 1116.2307571048304, 1027.3058025817395, 1012.2184399709982, 935.0414507966558, 1094.5724999839686, 926.3095500785932, 1128.6256426634754, 1192.0217678415904, 1085.5212286390838, 997.0648118408496, 1097.950478139733, 994.1577140898918, 1169.004941257024, 815.3502966102723, 990.6771418271658, 798.4803646800992, 851.8530215082988, 1236.054746899669, 1162.877196819214, 942.3755414016467, 851.0278746499044, 787.8787878787879, 964.2196990244355, 1323.5294117647059, 1095.2258809967593, 962.2033238329793, 1099.5406457285233, 844.5748439245046, 995.628031741762, 1048.4225013922871, 1023.3915560625707, 1147.1790191497669, 1082.4320683663793, 1129.028501314772, 946.200494498404, 1163.2755655254734, 1279.4631116364976, 912.1128523442554, 921.9584909826805, 1231.5438865112776, 1009.462718356171, 1242.5028985836543, 976.9791817552526, 1250.8180940040825, 1052.8013074848334, 1070.3203291785014, 1268.808758346229, 987.3078954956563, 915.5669045985254, 976.2125714151489, 1097.7172350600947, 844.0470558992441, 1124.5014985282262, 964.8130173888084, 1201.7663313354617, 787.8787878787879, 934.179421831498, 830.8842396339584, 929.3671158595, 1068.8492025937692, 1011.0567312382082, 1001.3416131237503, 1013.6987073261564, 1062.704504229852, 907.5651374279803, 1134.7062029460858, 1128.1967072994473, 1088.1402408819042, 1112.7125812330473, 1075.6559523952521, 1323.5294117647059, 1023.2591704352437, 994.3635417420784, 938.2068881989901, 904.7655504938958, 880.107173656239, 921.8262464753453, 1025.448491771136, 1080.9742503763327, 1041.8446110823797, 936.7411051777649, 1163.6344825051747, 1139.5276802782041, 1013.637537616758, 950.5790245030872, 1111.5388041113863, 1060.5736128094659, 857.0749006726668, 1025.8090911701704, 1070.851034982794, 920.5191199985316, 1060.831863153077, 856.3280297783323, 1231.6083157145392, 1217.5388595613501, 1001.4537825089197, 1085.0863786812304, 787.8787878787879, 890.2644044111005, 996.0876487611197, 900.0805452377058, 1135.821814231316, 1323.5294117647059, 887.9180822743338, 928.0086381000002, 1067.150155697862, 1276.4975839883714, 882.6432013674781, 1069.0399227901582, 1311.9156052982191, 834.6479418537509, 875.9230697908157, 979.3902058752378, 967.1000453080792, 1150.4393269834345, 1068.013607499864, 821.3649411947974, 1106.7702509175979, 959.9549128622747, 1221.7469356941779, 953.7192927135293, 952.5988348796095, 1110.4832695896157, 1143.022008797497, 1097.1121274613888, 830.9784614060598, 1110.0355145955014, 904.5246136130016, 1067.1262199136436, 859.8015015815258, 1096.8582688511863, 931.7457411572352, 875.7445403279663, 1135.7365772371504, 1068.011493924513, 955.4110492857664, 1250.1884730282322, 977.2187927033503, 1039.2655921979895, 1071.8104654938666, 954.7035495258136, 1100.4080573595102, 965.4814720523792, 980.917690764926, 1235.8584705811309, 903.7854933969439, 787.8787878787879, 1276.467806297248, 1323.5294117647059, 981.7315299699756, 804.2332449082068, 993.9233158606468, 997.0681593396697, 1009.6494053903747, 895.2583695004448, 1116.0540365109484, 1108.0820351886618, 851.9257014890972, 1133.5760312091475, 1323.5294117647059, 1058.3644966033937, 990.4555746303444, 1015.9691506410073, 1121.2535261764683, 826.1155584150758, 1057.321827053347, 983.625965944079, 1316.4548269224852, 1011.7223034487564, 1285.9688299171967, 896.3836992273773, 1117.1733017205795, 1078.879744192817, 924.1999527869367, 1059.1138761554596, 1211.934610294697, 992.2025119069575, 830.2899967234772, 1032.5656320115452, 920.1921559973141, 989.8089054058478, 1023.9931095529562, 828.8112856777071, 838.580654706083, 1101.9753690950256, 966.831820243497, 787.8787878787879, 1146.288769895073, 1072.292945068195, 943.063624130404, 871.8538070060692, 1153.9209564873108, 1083.095476411261, 1323.5294117647059, 1093.1321131050006, 1088.5179360655145, 1012.6771720935725, 1151.0648529089112, 1122.6894020952361, 1218.1374917387402, 967.0075549041248, 977.8864170730778, 972.3383334370457, 1147.178361817407, 1257.8950743051455, 974.9071797595976, 979.2413761823964, 1078.132206521365, 1002.3351393055209, 1171.5202407398958, 787.8787878787879, 929.3095654041825, 934.6843017051331, 787.8787878787879, 912.8864875567697, 918.6677493726634, 1008.1805510937537, 1196.3257106757242, 1002.4266154690911, 904.9362692898828, 1027.2828822040829, 1186.4295707368171, 911.4231547851939, 919.2159267544286, 1113.0046446578688, 1005.5019318182084, 1125.9687090338878, 1033.0922864497954, 1133.9402192344855, 904.4339202853197, 1033.3024485231608, 1006.9229973367975, 883.3886562714193, 844.2978001218297, 1131.5928189771103, 988.6996420389115, 905.9423531746954, 1022.0494267640463, 1198.6728994781329, 787.8787878787879, 851.6780210225921, 917.7435013155316, 1251.8174309412818, 1073.7204784285352, 1143.675694646697, 892.1427998100229, 894.5419828593127, 1097.071321486986, 1042.812628950986, 1111.5838030445361, 1009.9456274596768, 1073.0994409472469, 1056.4587286691137, 1145.2329925316824, 1149.6017944651162, 838.1206783521343, 787.8787878787879, 1179.125090906261, 1208.028259357293, 906.1378723934157, 812.3375821831809, 1048.362073551214, 1168.2883798454598, 1307.8725069709312, 1106.8981124309475, 986.0300443843007, 921.3062541114348, 1036.474027472177, 995.3763829117527, 906.7935572362159, 1323.5294117647059, 1305.7580420472634, 1199.9268624678268, 917.9868432117966, 1156.8111694813051, 1124.8171597374378, 1096.3190231010606, 1217.8108274815806, 1124.1940863236116, 1139.6169439097241, 1124.4188280216529, 1081.8890259706398, 820.4404306515477, 1046.260064894992, 962.626939484258, 876.0631697497905, 1288.3033378924208, 1296.2420452223473, 1235.3079065634004, 1069.9001590246112, 1233.9260813013543, 1036.555262366713, 1062.6227316960255, 897.5831354714614, 1089.8352185028677, 1043.0993951420894, 873.4648728785849, 1028.0533106272894, 1024.240905509967, 1307.866826471564, 1162.7300778736064, 1036.473237600797, 1069.0052882109233, 1040.9049503970516, 1007.9430553507303, 898.8748633212296, 1014.7727959984807, 939.1149361919686, 879.4377317630431, 1106.1667783231821, 1089.0228557978467, 820.1097073356374, 1018.5280477560882, 1178.1974815537903, 1187.9832026071801, 1182.829806935052, 1040.186957711, 927.0929071383578, 898.7260386755095, 1082.4263852459671, 1087.324715909838, 1223.79830376236, 1194.3044766951991, 1017.2630630322594, 880.1376474492898, 992.8079965916518, 1064.6217756369626, 1008.0520926585586, 959.9105121531531, 1069.5758018722856, 969.1965813319149, 953.6598658623957, 1077.7638427241595, 982.1504884148005, 1068.35363717976, 1072.4094362968174, 892.2278290584521, 972.0676847502667, 1248.0086858472, 889.6001984395457, 787.8787878787879, 812.1250269182535, 1038.8600045230921, 1039.1045145984108, 1019.201177984747, 1212.1983355092877, 787.8787878787879, 1089.6851693952638, 1268.2670017002458, 893.5821330325838, 984.9919165144738, 938.284547671054, 921.1604571546299, 991.8834087317373, 1246.3373538208298, 1314.666721977487, 990.6343338741553, 1323.9758894857914, 1039.7351132757394, 1300.4170452157014, 1022.4328160472456, 1052.7426370200897, 1085.371843508444, 1323.5294117647059, 1156.2488891410258, 943.8757054439469, 1174.1078656014654, 987.2999171852282, 970.9912485572252, 1164.9104870079611, 1039.1272877982742, 1073.1598324410888, 1036.8160664040965, 1081.29634726285, 1093.8123198873782, 804.2197473425394, 1128.770765575055, 910.704177095772, 857.7255742528155, 1027.0880455807396, 1046.3091007499536, 945.5681776549326, 1153.203559285083, 868.9812438602069, 981.5174987916791, 959.038462293091, 1028.6705914710396, 1073.2001295293016, 907.6411385726373, 1137.2848998982995, 1043.4548310194282, 808.9481144577873, 801.9584353252131, 1033.2708782994991, 1005.5764063587245, 1021.0862031215065, 1031.1656379161454, 1065.7769725438375, 1170.8486144639044, 895.5245624223397, 888.4550714515136, 897.6003763233066, 1074.605804165171, 1217.0629250864736, 978.4045472823964, 787.8787878787879, 828.9903843177912, 928.5437027588958, 962.434311632003, 981.33285303208, 1040.1419796546782, 993.7599544843061, 1186.4552142222335, 947.7239343209835, 925.0101228480081, 1101.5175438856722, 847.363564013555, 1088.799827724263, 1048.8424726890842, 1015.2498364756456, 1272.70686091246, 954.3876568754647, 1323.5294117647059, 1004.9920515093424, 876.3854321502856, 1044.3950980399593, 899.5987217923384, 938.4233581897386, 1089.8411780845431, 1112.5747495320888, 954.3925961106202, 1176.925397796374, 1203.2844201674177, 1247.768983259555, 1108.7901306724364, 1235.9849745846193, 810.1232200399841, 992.9631455186349, 924.4457225447854, 1051.1219640085608, 960.7164086103512, 1012.7787230603255, 1322.3562052343068, 1012.30909607525, 1092.2220527355369, 1004.0976312245028, 1045.183297259242, 1035.7408247436776, 1097.1442282129572, 1204.507125734507, 1282.5417796532822, 1077.506669110899, 1117.506144224747, 890.9002550174068, 1023.1549054966441, 1169.7270355293351, 1158.461647865272, 1063.8427773382093, 1161.546817395498, 1103.2244243738999, 1210.00889484787, 1074.6677220009647, 988.0888369470243, 1081.1918987648708, 787.8787878787879, 1087.8353406712506, 787.8787878787879, 826.8913090969864, 1097.6364292688181, 1101.3244741652845, 889.5597414208873, 943.2813436233358, 1237.130154607318, 971.7147306879109, 1323.5294117647059, 1034.6710104675014, 1091.4037191250893, 1277.4550517519683, 1052.7384273321811, 908.2971844256847, 1020.2479387378921, 1030.1418967021466, 866.4315546651471, 1001.0216299462061, 939.5927188095603, 1167.3029536476085, 1039.6045278297108, 997.5132127310085, 1020.7190645214732, 1065.4387130000196, 1121.4809353479968, 908.6084980807085, 903.6676314639282, 1195.0355424422307, 980.828470989173, 860.5734900044655, 1096.499919287115, 1099.2957888451326, 847.9073474451914, 1066.3213772914407, 1138.959588432646, 1086.6320901318818, 1123.6980056571406, 861.9835352975535, 1080.5161911908915, 994.941629486324, 971.8716357101192, 1159.15377867334, 1254.770527291455, 1307.3234933590886, 1228.1846542344463, 1020.2470446766167, 1083.5707935980115, 1143.6020755165973, 1051.3891776096377, 1052.7023859724632, 1152.11109722384, 1026.9715116238058, 941.1729430679987, 980.5556837177052, 1123.980274750859, 1035.333153108646, 1081.8071200340773, 1129.286277463823, 985.6289282200808, 1142.0284724986, 1087.2627850401861, 881.2147616027559, 1248.7447041507355, 969.602149587767, 834.2854391513108, 903.26105218961, 906.0880653373827, 1041.9845218528571, 998.6757706628653, 990.5191835367615, 1121.9027156945406, 1081.7599856888464, 1078.4088926265383, 1091.6584566332535, 1121.3817075813436, 787.8787878787879, 986.964987847582, 787.8787878787879, 1039.8005676385253, 1034.3055459301152, 1185.8671622649656, 1208.0139922729809, 1062.6196560079154, 969.6505901261795, 1102.4194574606277, 966.1775311718505, 1034.7420409621466, 1176.730966279562, 962.4289907294298, 1149.4027749729103, 1130.3634844233115, 913.9386807614668, 1174.8566582263081, 1133.4829867674098, 1048.7568051850144, 937.1329483962876, 925.3850238848534, 964.9523187378508, 1110.6948155513535, 913.8395126830025, 1095.6007248678116, 880.4185132265485, 1007.7915298974848, 1049.8118388011828, 1323.5294117647059, 865.0141196090265, 1253.5849137445698, 1055.3207737899302, 1091.849442203158, 1051.0018073689725, 1096.6304411213696, 1014.4249128080044, 1250.655983108267, 975.2080021156855, 1199.3310753228761, 951.6377840893184, 1026.841914492626, 900.100524653187, 1098.1017670350877, 1249.2035141284387, 1024.55748885586, 1008.7345557453832, 895.1151215287231, 1004.4868937117702, 841.0809772156533, 918.9403030494542, 1065.9471552694968, 1228.8573723035445, 1323.5294117647059, 958.824825611517, 1247.6062595006383, 1068.3046834533793, 1014.7469282675763, 1094.8993750685506, 1043.307301995623, 1049.9140899554384, 981.339940372078, 862.6751513612094, 846.4831879104789, 1126.81355401174, 998.305280815701, 957.6390040229162, 1036.0765529407934, 1147.795531421468, 1059.5232463160903, 950.1905944396814, 1214.110231878613, 1271.201242414203, 1103.7689958822896, 1174.8213789016181, 1216.5895884456345, 1198.9976646942991, 1121.0845300985884, 1118.787412907005, 1107.3829325007289, 897.1313708697224, 1133.801361799324, 867.439358962822, 933.2027053541602, 1226.3879720431046, 1154.5841089246437, 1256.0985422090012, 998.9587925864522, 890.7396788639919, 1003.0302870053101, 1048.7712001251568, 1045.6291629012776, 1199.5568998064616, 987.3721839704478, 1083.4740510959641, 909.9209393802041, 1097.4290180012904, 1035.3486916051784, 938.6607510837973, 1003.6322808796151, 1010.405381122302, 999.1564312198018, 1303.4091902970138, 1021.7477633327704, 1002.5786321084533, 787.8787878787879, 921.1770931201197, 1000.0782008305076, 946.5109775369684, 1238.9302815634182, 1012.9396331995198, 1223.9756986257257, 1043.2785223933504, 1039.9587081475765, 1023.0323832657477, 1035.4414080642193, 1294.5215118624974, 787.8787878787879, 797.2999673559391, 964.2604640164334, 1036.8893312688956, 1132.2347541299014, 1100.6876307193968, 984.4226936270472, 1181.783998355621, 1183.5012966766928, 1060.032987253497, 1173.1389427135755, 1072.3314136808092, 961.963956207649, 1133.3723702542313, 1049.9438110098354, 1035.1102717225733, 1253.7381986386022, 787.8787878787879, 860.4791345368284, 886.710041699689, 987.1163388823633, 1001.1811720754135, 850.4936760565482, 910.3320621564294, 925.1879540919177, 1323.5294117647059, 1308.579006831955, 980.9035009545394, 987.0748690830062, 891.0929049560333, 807.2451557385198, 1019.2981512659354, 908.8286134974418, 1023.558157888759, 840.2696604840756, 937.1755363695404, 1055.153783537543, 1085.4757425244773, 1092.7454980587968, 871.4385408678738, 1156.7609210736066, 932.5209877913114, 1123.8262513734276, 1033.4970202356496, 865.118668985231, 993.1841162230852, 1085.356194248192, 1120.9190322743304, 1016.1034771393503, 1263.3784048484727, 1180.010616596316, 1000.9144862403178, 1141.1178120983332, 1323.6862348615155, 1323.5294117647059, 881.9968876871673, 917.3078235365471, 1255.6930625648342, 901.705478329003, 871.2057111131746, 971.4409609101166, 1093.1375377590139, 1021.2222819416085, 950.8702568963042, 947.9466872192855, 943.2524770704381, 922.9417475319117, 1323.5294117647059, 1075.809062283168, 1161.602038305012, 971.0763067458427, 1010.1710968524131, 943.1030238384724, 787.8787878787879, 864.9359969809557, 817.5602505226656, 787.8787878787879, 885.753560225916, 1229.808608100455, 1028.9587616938998, 1224.3135452884746, 1091.8225235606244, 1145.947728943013, 920.3750314216439, 1108.0017545925975, 1137.941349979084, 960.0663665778927, 1113.1483357065074, 1114.1122598513398, 963.4595105913577, 894.1655336897273, 887.0498017044798, 1046.6531053302037, 1079.949294349584, 933.454714089475, 1038.5185522974582, 1114.743391388439, 1121.6819661380423, 1266.6895283750896, 1222.1500650144596, 908.4216790028223, 1288.6002252497549, 965.7927782775939, 1185.7653363748952, 1044.1322633260518, 980.8524171545386, 817.8713553110284, 1012.0659648166426, 844.7480832601999, 1173.848202216317, 1260.915469024614, 932.9218635387591, 1076.4339686907138, 941.6504548207471, 953.6078806451169, 1144.7450638188902, 1029.7492826781954, 1298.0413217195396, 971.9422122860531, 1178.7552702730686, 1048.1407596962601, 1147.9219423957654, 976.3913808290945, 1028.272641309934, 1019.4815014552905, 928.1785865695576, 1128.1108542078757, 1126.374070831312, 1118.0894833015927, 1264.2319517035767, 1249.8899450072402, 985.6156800941775, 1086.4433367067177, 954.2145304300481, 1038.0818558418455, 957.1826567818694, 1277.9867698532921, 1085.120827790896, 1005.9612008151096, 1208.9556576156258, 787.8787878787879, 795.9212969726011, 1147.9310073016582, 1043.1106033570595, 1069.2362400756422, 870.7685076977801, 1031.8034495611348, 1323.5294117647059, 1152.178080674925, 1058.053943919963, 977.422217357603, 983.0998391034117, 787.8787878787879, 1070.2383275653972, 1155.375614745976, 842.9640598885386, 949.5274117732887, 890.1349310199856, 912.6829177984697, 1042.1620466947031, 788.2467245022075, 1121.109530853322, 1141.6726611523154, 1001.6382841750183, 787.8787878787879, 908.9982533114945, 1215.1555059085626, 787.8787878787879, 989.1411879279851, 887.5266807520236, 1149.2369065121243, 947.8354191990211, 1090.823742559971, 1114.006749194399, 1314.4680189671794, 1007.9393858599946, 1086.8666983666328, 852.9635526890673, 1208.4512289379443, 937.3544039765187, 962.0552572957102, 1031.935918967395, 844.3630619155697, 1066.2225657751253, 1173.873733954329, 1075.168057871947, 841.5078468790555, 1018.378901607802, 1139.9159430149646, 810.4196590998566, 899.7720081651748, 1160.0579330819326, 1071.9754392109196, 1091.9631378389138, 1318.4567620720143, 1100.0379374000752, 1127.4950208908933, 1323.5294117647059, 1006.514721710974, 932.8038222247511, 1094.21553513954, 1095.8117084881967, 966.328794922867, 904.749722807262, 1323.5294117647059, 1079.9258952777118, 940.8055494838812, 1166.0227101524217, 1020.3252993508062, 1001.4063029749317, 1113.5444691456419, 874.6906469177309, 1083.557677717926, 1323.896299278768, 1099.6977829071618, 985.4530349627872, 968.7994402416289, 981.0835392485966, 1001.2653256216272, 985.2484626527315, 1166.0805799234952, 825.8426445910819, 1157.8631587032405, 985.007305847553, 1086.9945600628298, 893.6743904550226, 1230.397309959102, 1217.1718952231422, 1172.670524310591, 849.6713392860642, 1152.9166695848019, 1090.9517360610216, 839.715622079733, 1031.660551668187, 1085.239005279765, 1112.6461998190998, 1059.0952933623144, 1074.9297478275953, 1253.8455934736792, 1214.0692796002754, 787.8787878787879, 993.0236569289901, 1012.9774550407831, 823.8138695413926, 1047.699972154659, 1217.6669313698044, 898.3903532745254, 1081.2706959277916, 918.5879220545198, 948.2306819769459, 1254.4632558261949, 964.3374356570856, 1099.130141299987, 811.1344559050632, 1318.9414581733536, 1119.4147970879392, 1010.6258985725303, 1115.470768271531, 861.3607881633754, 1207.211465640076, 992.1775680732267, 1007.7914077768615, 970.7503657901025, 959.565934752937, 1132.9081494593122, 1069.9967681926605, 1126.5939665824378, 1033.74520211962, 1106.4517179739503, 979.9971560000918, 1323.5294117647059, 843.8084480255833, 1219.5995895169817, 1236.7059930305943, 926.234575830926, 1323.5294117647059, 1178.1650955580217, 1174.435254332278, 1038.7128715545311, 1006.0663858644023, 1007.0909921762527, 1088.9187677752236, 1242.0766395123667, 1059.6543567967653, 919.1119507258259, 1152.2122037885517, 1166.8156000770937, 1127.0211363521723, 1140.4311143460536, 999.0558672501066, 917.0145082239368, 924.3027084621784, 836.4208790145809, 1067.3586434042843, 1023.7449992665729, 977.3033786549063, 787.8787878787879, 879.7811175753308, 1197.553037567011, 949.1307211874317, 1084.6819853442898, 863.5095228515353, 1248.1595883505772, 1015.701369354414, 1074.7630551914071, 1323.5294117647059, 1260.8575854139706, 994.4305614359954, 957.9967882048204, 991.9760163983563, 1105.976153420413, 1020.8463729970899, 983.0139097247637, 1252.796211469427, 1019.6526271922799, 1323.5294117647059, 1047.2307145247612, 1305.7835447559585, 1084.2199152495273, 1173.18522902387, 941.746156398452, 926.0415748070931, 1098.7714650107328, 1177.1013565837916, 1040.368915913813, 875.316033350883, 866.9375054689564, 859.4207138891633, 822.1503349516212, 1049.7896399403198, 1198.2086569002101, 1033.1233619128782, 787.8787878787879, 1009.539422369059, 1013.2217706418127, 1323.5294117647059, 856.0698889307808, 983.5986016632856, 1292.3417632171981, 1097.3805855699784, 1113.6953052535366, 1050.4868905601202, 1080.3619125491825, 1145.2094523926214, 931.3954930922581, 1160.2867977509493, 865.5000108093438, 1080.1402909467938, 1059.2993594996635, 955.122932924134, 1031.877136223038, 954.346311337135, 900.1311417969321, 988.356947957835, 896.3547604528154, 1079.35709875242, 890.990629905133, 1135.464038399417, 887.355856344839, 961.3614116693991, 954.0899506036583, 1229.839202338564, 1080.4106448021626, 1006.7861520185464, 1104.367449891009, 787.8787878787879, 1029.133299447726, 1323.5294117647059, 1052.9193037137495, 1044.1222762869804, 1111.4954506749, 1162.9408347431204, 797.7483375776751, 831.3324520559555, 1063.6601558295763, 942.9406205990734, 1227.7397279710137, 993.316464634592, 804.4749039640706, 877.4133656778539, 787.8787878787879, 1003.8549697842241, 1009.8518494056347, 979.2810345570737, 1191.0275673039382, 1209.7274632410451, 1012.2209650293939, 787.8787878787879, 1121.5491891427757, 1112.5426090021117, 1077.4746084206608, 1176.0176826403795, 889.2818688937642, 1323.5294117647059, 913.3871442879869, 1140.9842571471577, 830.7890863811419, 916.8622158053723, 1260.845854264816, 1000.3612918936311, 1154.5393747967482, 1067.3595853155152, 1020.8817291381586, 1236.0528308213422, 1003.5238885039854, 820.7474163107162, 932.1533362576054, 1111.938897568694, 1089.6249007106087, 843.9042818018187, 941.7790861530808, 959.4322575234739, 986.8324542312683, 865.1720560710777, 953.6219893244138, 941.2558471278646, 1144.3037176016371, 1149.9181412824157, 1015.4656101819362, 983.4241524803591, 1053.9587538319424, 930.5361698554897, 891.3681629883928, 915.6743126159166, 952.8223955077251, 889.4387036681243, 1057.0009333512935, 1138.0897465361875, 841.7050231316621, 1038.3215945002696, 1005.7114809859215, 1081.9900770711563, 1033.1875348633018, 856.4644330954895, 878.056211973556, 1038.9024306064744, 1183.2833363635764, 787.8787878787879, 1082.5844911064435, 1208.3266799180758, 1014.5119941505609, 1111.7956780442157, 944.3914833253007, 1018.9682491202188, 838.0070210937553, 787.8787878787879, 1170.1042731539753, 910.3513961444834, 975.3277931255906, 863.9867542983287, 861.3439336619472, 1011.7664411922254, 941.1373720830554, 1087.1393948469029, 1097.7464613137959, 1079.083377055541, 1067.5882926947904, 1270.9666649720712, 900.6127084894024, 1027.553078551136, 1199.4021723026315, 1220.1718216360935, 860.0221720551476, 993.6811390242245, 1235.1310619086155, 1105.7142072490087, 1061.5807582004034, 1006.0063186916267, 984.4797353339887, 1074.5081952940454, 1001.4724573562656, 1029.207670949872, 1045.5760630291925, 947.4704669057303, 1109.1823251010662, 1323.5294117647059, 821.1484378481126, 1079.527883109495, 937.3933108857029, 1115.740390235669, 1041.2228490500027, 1142.8625120966367, 1206.107818355746, 1061.1879917405518, 1199.3026089099553, 787.8787878787879, 1273.0675539042638, 1086.7277008306987, 1190.8669581409395, 882.9304101874831, 928.8178212694639, 1054.7844240619952, 1032.6362134705114, 1073.7878143402131, 1191.901971806479, 822.4074967096666, 1174.8451761113313, 1036.0463718540984, 1007.8291562951513, 854.5132465651611, 1104.9901762142858, 787.8787878787879, 1126.102036569221, 852.1808568423533, 1042.1588286359877, 1018.9944358025134, 1205.1708428134093, 1011.1319672270085, 945.4903174940229, 968.8628429726705, 1221.4980791704147, 1109.7844091847794, 984.2452947224003, 1003.5516439774107, 843.8912229626156, 1088.627230024095, 822.9864651297797, 1141.3666712814834, 1052.4087319050614, 1323.5294117647059, 896.8045899330598, 1021.1869929670341, 1307.9905610259475, 1208.6048290833742, 945.2350759772272, 1065.556005586428, 1035.1991667052373, 1073.6322450158593, 944.9313138308531, 1022.962589060288, 840.5053118609329, 1053.3000991911704, 1097.3866345040544, 1004.731936371207, 838.646986611032, 1177.098079678158, 1085.2376697438513, 941.5739987299312, 997.7983972110064, 851.2311376865041, 905.5732176192125, 964.9336262873644, 1214.4466748586117, 952.2406620763516, 1124.9031743544854, 964.8701952309929, 1068.8884038515812, 1016.0495488782434, 1159.5313288407224, 965.3106385917994, 843.303417138282, 864.4923959330175, 965.6794785213502, 879.5815227755887, 1091.712979652006, 974.0281460633314, 1323.5294117647059, 825.3582905186304, 1062.7383985241138, 893.5620900948986, 970.5297254287104, 1054.1639667810718, 787.8787878787879, 1067.3416188702718, 1323.9975935180007, 975.5932002483459, 1070.540419316919, 1182.6888652769942, 1013.0694643286579, 959.5273536878011, 787.8787878787879, 1125.017000630271, 1019.7909151305174, 907.0750989884415, 1052.1312863460012, 959.1875508183122, 966.1135607768621, 1119.9453053783743, 869.4105066707667, 1186.1425162541705, 862.7227243126052, 949.3686077343127, 1323.7955768871868, 1198.569250886837, 1048.1667703992214, 915.6374699679054, 966.0071181547456, 1044.8515530825803, 1039.9987099683651, 1022.756076702646, 1030.783031453793, 1006.4399478579946, 857.761359221275, 967.6136744748443, 1165.8243992307491, 866.0263281531509, 1009.6978302436784, 930.1510815601426, 1050.0446169160628, 983.8604784350481, 1254.4632608580157, 1105.4988453930998, 872.4246930623128, 1129.4552126900799, 935.6297713235914, 960.0227284501373, 1078.0959590172654, 970.7387614349873, 1162.5245668682091, 935.6470463615674, 954.7929827705029, 950.151503107638, 961.4435546761658, 1194.1819242283484, 1123.2320487676095, 1293.030419314549, 1323.5294117647059, 904.9476624879989, 1044.4630349118715, 887.9659957974494, 935.269945497749, 953.4095031100844, 901.8377156100007, 902.45650243437, 1015.667417249091, 883.2934765905464, 1154.8708135154143, 918.3570944106815, 1323.5294117647059, 975.8541433583847, 1044.680458019927, 874.2967817711419, 1292.3819954205567, 1197.344106529433, 1075.7256879369475, 868.4578052159588, 1063.7121763229256, 894.3212605106896, 1252.0092001591074, 1149.9291348666393, 1047.8713308235654, 787.8787878787879, 910.5385818371439, 1131.8893339757303, 1211.992188814964, 1195.7345190092938, 841.1665439409172, 1076.3753204320535, 1181.241152628312, 833.9335153088654, 1033.8650318160276, 1072.498583080773, 995.1820024820615, 813.1496657998634, 991.9562412953471, 991.7486542309019, 1015.1665666540597, 961.7149232316697, 976.9185734547945, 1029.5926797923291, 1096.3060298336654, 994.7075538036794, 981.1718233833979, 1047.450481381641, 805.902350725154, 1101.2536039580345, 1034.8538176411066, 1040.2926532989616, 1172.8451878958708, 802.5618091285081, 800.3510293405991, 1072.4931990880089, 1033.971073316883, 1058.1187532369993, 974.4900553155911, 1128.4446661491781, 1168.5623309476805, 1102.2502531828782, 1000.3705878169294, 787.8787878787879, 1143.9615034558617, 1213.38887019954, 1125.5397556531905, 922.925788181532, 1129.8327098709087, 1157.641499902062, 1267.8340769155807, 923.3504077899207, 1004.85817092615, 1140.6944527352764, 1042.6952806441484, 894.7992396195635, 1092.339244021615, 1115.9233243602573, 1046.8517422513771, 1064.9481152548403, 1000.6471106881334, 1254.6078747155327, 920.3995771528706, 958.7329803239173, 1036.411167355763, 1160.4220929067303, 851.5965720553976, 872.595838879435, 793.3337659989382, 1039.3451054951397, 894.6852715593818, 984.383701317432, 1128.0075421705978, 951.9878327956376, 1066.5713752604038, 995.36689501163, 1129.5855675875864, 1100.9801724405888, 945.7618065015345, 1012.4498896729543, 1185.5909666479733, 1089.3224164044286, 862.8040718294425, 1127.161811354099, 898.6193423141058, 1243.9099100530575, 1182.5621524819326, 1074.7413747438468, 1056.336821185475, 1007.1403751304409, 1130.528725886166, 986.1505519561117, 1067.1670392722497, 1159.361900976902, 961.9234336139173, 955.1354131522893, 885.8681529074462, 900.9787868864629, 815.6700080442147, 1138.1065095313963, 1309.801734843562, 1245.9874547847153, 837.4429623675962, 1137.369608559383, 1245.4647229996654, 975.1649763406181, 1048.691468853453, 796.602771191329, 1071.5066419133436, 901.0859067278436, 1062.1852720984527, 844.5479481657068, 1110.7329628606708, 1182.6258781403753, 934.5913796064737, 892.5190692113243, 787.8787878787879, 999.6433392257758, 959.4481755428342, 845.6685739031021, 1097.8151227354506, 976.0338426429853, 899.658375574953, 962.8299646380326, 1189.853447377654, 1119.4562665389144, 1017.5548601737116, 1121.8155139990172, 889.7354544444959, 1039.3011056511566, 1054.9745323969669, 973.5122942875463, 1095.307752249934, 934.9256632743511, 1105.9649867393523, 1112.035481377012, 787.8787878787879, 1208.4342568042337, 787.8787878787879, 955.1532870893164, 1182.7545237259492, 993.0432892259856, 855.061889786995, 897.5520830656426, 1182.9944493693265, 805.8405860313205, 1198.8246583529078, 1027.5307030937522, 886.0954401048823, 959.2581561372258, 906.5389711159864, 1158.500349812498, 1138.49173675035, 827.3546695031731, 981.9459483918413, 924.9056162268953, 1224.7833203016414, 868.08509735485, 1275.3533655358588, 1030.4526038830609, 889.617007220841, 947.5688419731664, 932.350140442069, 876.6591295911275, 1047.7878052000094, 882.0065727631516, 787.8787878787879, 985.0085954093393, 818.3870320934313, 938.3738684783852, 919.3921310179799, 923.9389892774657, 1323.5294117647059, 1042.5597211551649, 1068.5298542661633, 821.2113478513006, 950.4494404520403, 1064.3544590615127, 905.6771333085453, 1164.8288048762424, 884.9076758707188, 997.0495696451945, 958.891428781787, 1057.3121837801668, 952.1183282957516, 999.0603557324797, 1003.5929808279379, 940.5480350143961, 1102.409804742068, 1067.558764558897, 1023.0566948961458, 978.516806433582, 1148.0364476426537, 1003.6316429232189, 994.4135125117405, 1049.134346256156, 1290.7834368755298, 869.1870865326855, 1144.053962850271, 808.8190994301219, 1064.627592893412, 1270.522326035006, 1102.923055049304, 1058.1804989920886, 962.0934275618235, 1039.122093751505, 1001.513054092608, 934.251091652206, 996.5940458497056, 1062.011866245414, 936.5359913695743, 931.7842119393146, 866.9391907057967, 1088.9463363657906, 1111.0895401771095, 1066.6239318578307, 1173.5228709317169, 1046.8387572958163, 1089.1286859027166, 1076.6956433080895, 1022.6669745131135, 965.8122302335643, 1323.5294117647059]
thresholds = [872.2174039317359, 1033.164306205758, 1222.7809537396656]
display_name = "US Per Capita Mental Health Cost"
units = "USD/person/year"

# Calculate exceedance probabilities (1 - CDF)

sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure

fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve

ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds

for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('exceedance-per_capita_mental_health_cost.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that US Per Capita Mental Health Cost will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
