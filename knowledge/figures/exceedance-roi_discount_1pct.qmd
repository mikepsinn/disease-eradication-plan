```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: 1% treaty ROI at 1% Discount Rate"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)

setup_chart_style()

# Monte Carlo samples
samples = [493.97123477414794, 451.8154224290456, 458.92449790652864, 474.41109452248827, 559.8463551619171, 502.96337870901215, 475.0723235471778, 458.45620406847263, 471.854028024943, 594.159801046672, 581.2392805689219, 461.582095575847, 531.6156658962232, 565.7750396946481, 499.24986956696, 602.2497780496252, 487.0042406615497, 500.1895456612858, 477.0522567412041, 554.7085302489463, 539.8852495978795, 594.3427715976957, 440.82349139726523, 583.1741269661336, 521.0446383443976, 576.3156053169364, 534.1035295497562, 428.6026861492752, 558.6394318362519, 502.4140120170917, 558.1682003007456, 510.6644783618233, 645.1421905675046, 503.84223038655125, 418.86314957769554, 551.0295953744275, 459.49110782453727, 472.7087260688401, 637.005592311491, 493.7224761790214, 521.2141787298119, 560.4901313669205, 603.146429335178, 507.08651708459854, 388.6191504538919, 452.54844303101646, 456.6357158008775, 592.8776597885842, 593.104688312915, 438.469889811686, 498.8609063034729, 606.2919457767888, 582.4328581756623, 579.0897584603468, 582.7383720725662, 583.142818557722, 515.6066290404799, 377.39916477613303, 590.8742259933939, 538.7046911325062, 524.5875273861942, 680.2996269892302, 343.0702418350672, 335.2919569090884, 408.8198723792065, 466.49708530774905, 543.1563213593868, 530.5517316411269, 499.6247123238954, 501.0120068670859, 691.4201729526949, 521.5527598906073, 537.518521830055, 442.3059741772316, 518.1296882796453, 575.743472760092, 646.0232636337752, 557.4918376513968, 515.7565219257234, 508.80848895447457, 548.4189129694366, 504.76663137821106, 572.6493303162741, 540.1310535286015, 594.1422878356851, 584.9815786268919, 464.87567318665435, 538.9720291774461, 627.374099855246, 470.53969604800284, 503.08379114807485, 526.9905560820184, 514.65535400131, 408.74160395272725, 500.09023804798034, 604.3198811234563, 791.123458085181, 474.4381368451198, 488.12452709632026, 659.7877144155581, 519.3825697602589, 476.18733477173873, 493.2260159387257, 493.1934328454003, 669.2948054913475, 378.7334456920777, 505.40311053477245, 503.70948394407174, 527.2157301681917, 499.25367560523244, 492.50613670022744, 467.88941565183984, 553.3663732835417, 550.9503332122637, 456.9223599860082, 604.7641373921409, 600.0537806288042, 558.5718436345526, 554.6028662667268, 491.9183618609126, 600.8745565495361, 476.37284076422804, 565.6662823927512, 483.8552587035073, 529.4123668786191, 443.64191723841924, 532.6411014294289, 654.3091675582534, 381.8579933606444, 687.286267933155, 676.0407695008561, 486.1497405775481, 508.0931431068383, 623.8913776914707, 577.678719503315, 621.6097972127021, 518.164544708582, 446.0564850319954, 422.3466053526449, 473.70103498392695, 487.54181088811373, 566.6330297888338, 611.5202528185459, 479.2209845057671, 549.1989334561295, 591.5594636249042, 649.6462515045529, 533.7748889289562, 556.2423285354532, 411.30714415681194, 623.3417067678213, 641.0930261170586, 703.7785726811102, 503.140676212095, 514.2435848512439, 543.980190676614, 638.6831312459359, 509.67179061170935, 468.1376572859603, 560.412476591897, 551.068299390858, 585.2748016620719, 532.8210907127647, 549.4903491839357, 591.4072290963311, 673.5381440142369, 578.4782038235826, 437.65912454382254, 579.9050037516865, 428.4074967478094, 506.3648793431568, 584.2291107568435, 477.8330593718093, 491.08126937340126, 669.1262930325073, 499.567516728448, 418.821785122123, 482.5905668477892, 614.7266701989638, 441.9206666886234, 572.8045805738736, 608.8655620208701, 529.9127031701549, 448.4961796098062, 450.0570561635124, 572.7918572928947, 460.4718665640397, 487.0263275786601, 590.8820747056992, 572.5786944247179, 551.720603721379, 454.081973594544, 520.1223439158895, 358.0324587627738, 485.5762363093592, 583.0696145491232, 514.0874891831703, 396.17574374771243, 536.9849612184664, 473.43133404207225, 431.30914674021295, 475.1287722519434, 504.9260983639015, 610.8039898218046, 577.3510945143104, 468.9096215579697, 626.0762064464064, 564.8591888287533, 603.2980659460445, 504.11528563847094, 525.3473100141795, 470.791080249245, 561.4547643710916, 523.2364390006784, 436.55256847272386, 496.19959708815605, 380.2195421374365, 463.22726180902384, 560.3325634816919, 669.7951204584988, 486.89949795876464, 549.1563485916726, 477.52566697989624, 703.8101171194833, 526.306952175257, 581.7139539229184, 357.70883707514145, 383.9109713612698, 551.8968724816716, 478.9178020766145, 609.0431275781526, 526.6007042449123, 553.3049614821532, 465.0182739020367, 555.5997283959798, 527.2690076985248, 575.7788851917144, 519.4552639837211, 607.2557637949965, 440.90023303228475, 543.8858503027636, 526.4157887240633, 708.1591518095549, 644.3397615255261, 432.65840805890133, 706.6042115483185, 577.8316178818664, 512.9034843012621, 504.66543518350534, 699.7601119568911, 549.9738573542527, 598.4919317495293, 417.0272650677367, 654.478381918237, 564.3842842723893, 514.2011568703759, 479.23434345632654, 637.6515351185307, 557.7541980095916, 597.9357930101622, 530.5424234211695, 538.9910101703016, 462.60524730844975, 547.0752606564927, 516.3684574490832, 415.56185357440165, 508.4854545565212, 527.0101684792579, 596.9280233096276, 526.7014837881147, 567.5020929269537, 535.0836939339546, 604.811481355707, 482.46734346045037, 550.8081961224602, 502.7601982658197, 632.5530803710072, 631.3853143883073, 547.3954441989121, 489.6269165247724, 535.7169270501992, 581.1833502463271, 419.5141630406628, 507.52878946112514, 589.8737555093934, 491.88308380765494, 517.3914811429539, 624.7714727037618, 458.3463616432774, 586.9744894864339, 654.8012592424604, 461.5258645643563, 414.49123958192285, 656.0563873401135, 470.60106782520256, 466.0686604368673, 481.8198408938691, 640.0405401196754, 536.9333082482121, 428.176790936957, 448.1581601609971, 692.1859223514966, 517.5835985921462, 549.22299588917, 659.9686529086068, 533.6196513297945, 566.2164043639697, 427.6394122054473, 515.2819240025059, 507.65435106442413, 485.61780410342107, 521.1433954780254, 417.0203903526205, 451.5342659584422, 434.0254195369536, 657.3358179027232, 493.7565303694299, 537.0550248214614, 542.0495337220183, 538.132256418862, 470.9212197544195, 515.7106314437532, 487.33910386861345, 545.1208645973951, 399.2450864466342, 594.6056535952785, 613.3386853634222, 487.7479892177976, 663.987744598602, 618.5002275221677, 526.3756027197912, 655.2950168212008, 628.2266113219938, 583.0048264538341, 589.3253748600948, 660.1223861788288, 422.3784103162992, 403.02945358244096, 424.03517538229414, 554.898697991034, 542.5114159590173, 389.8839825827185, 492.0433889949821, 519.9602556158993, 511.5151796093895, 517.3099216391614, 570.3846734652552, 520.152677678081, 717.0112981213249, 482.2989447644598, 714.2636412882205, 483.6494259744372, 537.1500037516766, 539.9991307481865, 573.9297011505048, 462.7866161961302, 461.2108777089278, 521.8230433789074, 601.8987358615326, 441.97325846207906, 542.3431123239628, 616.8350839583487, 497.6899538284172, 604.3931487140975, 679.512304763114, 505.64765369516994, 607.7967972729897, 659.042535105177, 560.6071276570264, 486.1842317995268, 577.1908946748267, 497.2668920847564, 515.4549043508058, 649.9598914550119, 568.2299453243829, 497.1185370141848, 588.8622800589465, 497.2005673044858, 516.6661356392212, 544.460950249321, 493.2194853544204, 472.5837374993622, 576.8803869365595, 709.4651622159458, 529.8964601398227, 414.6020658144801, 566.0121641682409, 520.4431356176448, 504.94231763594223, 412.4026670674593, 624.7776706039675, 551.2390890771275, 598.5221203436486, 521.4573106083926, 541.530579315649, 583.1599230808997, 461.55440427146436, 448.86465994815296, 566.3568816216525, 584.3242016463279, 559.202297188489, 396.05346986804835, 542.1583775013838, 480.9525230519579, 568.5391543265556, 659.034210654217, 583.1122252426649, 489.90990709380003, 559.4782511127036, 516.3903653359978, 523.7193018237473, 553.9163568906911, 644.8495536177861, 450.180349482439, 591.8222977144264, 563.6406805971163, 423.1150706058062, 493.8837863024718, 564.6407661789034, 462.96856977629363, 631.5905372859141, 603.4485619462653, 565.5983141820933, 600.7439191518088, 644.5587852103854, 487.8537470767103, 492.1105333863243, 483.4610344305816, 597.8263771908607, 427.1378693519812, 600.4013417360811, 317.62896577958514, 550.4503576548581, 467.1616813900998, 522.4893961659515, 550.7621910627242, 629.9730898418464, 535.5231681427985, 623.2665176804475, 560.2173230628908, 468.9014238612804, 486.5056225123003, 486.0989925037531, 477.0021865276382, 464.03774250085297, 627.278756821709, 445.68599142782915, 450.9267537877359, 469.1468809748569, 573.4163166377239, 472.3996617254144, 564.610949708339, 576.7245070027346, 494.4346005446353, 523.9151546468731, 533.7155286021272, 525.5322211258989, 453.78258941423286, 652.3955435701955, 548.3568434501286, 568.7958773273452, 562.2581907636505, 541.4142913999412, 561.8973522458845, 583.8113732583284, 575.0216618289501, 612.9281323564318, 417.2982542370148, 505.2456534372264, 630.8786721898308, 626.847673121959, 436.8266441729, 510.68056492198104, 556.7033045381917, 535.3831518533748, 700.9862669971487, 544.1800245610619, 571.5122559043751, 588.8770526725417, 382.23072758250055, 590.5200921953208, 526.3882075896083, 457.707216736045, 501.2499027312131, 534.955506341103, 652.3255184705539, 549.2626387478633, 501.0905641287209, 614.0132166186166, 488.53595039236876, 470.21307749095394, 624.3472954648062, 487.99926288778374, 585.0682430343549, 555.6490365044409, 463.0103915885016, 569.3254216645557, 565.3376099365315, 641.2570054308959, 627.8080363155755, 466.374931912914, 479.4610834790923, 576.738862680786, 479.1204701397392, 606.2567327688091, 438.38724512898636, 414.48115531345525, 612.5904716511913, 492.3676822979656, 500.7783897953769, 523.6411976525573, 499.8243478368849, 582.9652329059767, 529.0924095575799, 446.4012478052621, 544.5448378010016, 566.7729271836915, 474.7325414272052, 498.61078207780594, 578.1393268852308, 567.2587743100854, 467.8295652161539, 424.3997325474301, 574.3591405174362, 383.4716750587603, 652.6740622429201, 543.9999988028501, 572.0972145363652, 476.5533637187608, 472.9905503476152, 671.8406019944908, 610.6509740256492, 461.626295087942, 453.19933410150475, 606.4516604558047, 495.6652399228002, 613.3009235904087, 393.13686058421416, 593.2668714166863, 576.5234819411917, 585.5630562214706, 426.14391658231517, 527.4260116571479, 516.8907313737951, 481.1964049796143, 514.7308152221278, 434.15732397044184, 460.90471735601096, 505.6252150467774, 472.65537217906115, 505.9218551889211, 681.5034551386445, 434.34124039648395, 503.1681739000005, 470.42047630494994, 538.1525805572137, 520.8136037962479, 641.2106757659459, 563.0641347031622, 665.9457941317678, 560.2687288016225, 513.5544865751936, 461.91970036968064, 632.7905938464756, 475.97953118159876, 539.6203731456653, 656.9683511552466, 655.9906757960448, 552.6097114030493, 502.2741590537094, 541.8626176630263, 399.5878756474035, 509.8265230057416, 439.3876178994129, 541.7563681960552, 539.2975265526431, 484.2460129765722, 471.6701233370318, 558.9807419988526, 513.8620419863369, 726.2478043417545, 697.8800614606058, 464.53502976129016, 587.9326860032618, 537.677405649561, 357.9649909984959, 533.6078231747799, 546.6233215071187, 568.4391763617724, 502.4198039485995, 651.1951315796625, 680.9931898323481, 504.3741698342561, 631.1581239706003, 635.8813995589422, 490.5307011245689, 635.9181735470789, 554.1167563979583, 527.471821901891, 604.2164108519835, 527.9328963471884, 612.8456787319874, 583.4256452515431, 703.372214959239, 506.72664712773866, 515.6592734675121, 464.98934789771823, 454.5424928481504, 501.7108872531303, 376.0269716053517, 493.6923131749246, 358.5064407057678, 480.39254365767795, 582.4668907553348, 514.2310524971231, 470.74473291955854, 548.8557204056676, 572.1040755524043, 612.5147092419063, 516.248146183316, 682.7657463457527, 468.84694615594645, 502.74141222278814, 603.8873277489513, 566.7153249178884, 402.87647856401617, 614.3356249380073, 468.9651468416281, 620.4718403622726, 578.9760841475953, 520.3785833979641, 407.42393757329825, 530.3795455236296, 617.9865604763312, 495.9844077636302, 541.1571994475117, 569.2010019306671, 463.98569549932574, 453.15608232613806, 546.6648685909462, 620.1417240473309, 395.45110445656144, 438.4757154652946, 406.79976570832497, 567.0725771810763, 441.62100324846335, 475.4266493171071, 506.823023997536, 452.95060769957047, 531.3591421108543, 454.3361022109242, 420.74321620371813, 493.89231722567246, 546.5046853396983, 439.38443325256105, 585.804716722331, 520.7319477285599, 573.2539109819045, 451.0099378641216, 430.72998933416926, 605.3957937391052, 493.44345418139665, 512.4922117727539, 461.45369886940847, 575.1526221718086, 527.3663026139754, 607.2345607845805, 549.6890897020016, 562.5979875249841, 790.7670181591496, 486.0656422701042, 448.6832371995935, 590.9154759552558, 595.5404195518298, 404.00964300582297, 518.1851562838194, 455.13796605315815, 532.7027476684354, 529.2320568099948, 484.4967919287989, 437.7496990063732, 550.3534703307006, 381.91153080647973, 688.7037327776229, 501.3507747603224, 481.0123392494663, 555.5398270650505, 519.5019897220619, 531.9022824469049, 542.7938667593884, 511.0805865282777, 457.78518126242636, 603.0848294920683, 659.570321055329, 613.2890993009864, 622.7169501782499, 548.7125146156037, 431.64054294477086, 439.63847744833896, 541.5682182394283, 372.416163392112, 562.1180826924557, 476.36661908915465, 534.5406753441475, 473.0153442464679, 500.88336860280594, 579.4337341136902, 594.8313025176096, 636.6597539999315, 453.29537581144467, 525.7692688786034, 497.6314728313764, 633.8216106264094, 433.44009281238755, 599.3045055010625, 523.0344798120251, 592.9472556892453, 516.7601224702585, 516.0332357947641, 541.5841545393224, 467.8637869225257, 531.9993040551681, 462.39544064413815, 437.55094744426054, 623.5661850461546, 492.0759364974917, 470.9674397400274, 487.526837730956, 576.301830832374, 528.2173700018128, 536.2680743154215, 489.1140663951217, 463.01873518570613, 533.0598309405117, 456.45112702927395, 327.4121900029836, 536.3345968233396, 536.7041812600497, 619.1919466836861, 514.9143438539608, 662.8143236031838, 577.1006217583134, 640.9745168993421, 580.5700543950397, 540.3147281290859, 579.4385862714498, 478.4529388553064, 432.1156614801518, 473.82154591616194, 605.2708969766629, 517.610023482741, 527.2080668694448, 568.6571442410443, 342.2149456618402, 472.2806214044599, 455.4210651469374, 411.3245910159991, 449.4223066864219, 449.53656361121637, 523.5967004003978, 460.84146198581203, 429.53543887816153, 339.4790463056902, 466.18486316799175, 434.35073768259946, 602.4669157925312, 549.6861461553934, 548.0495566840902, 567.0670390441502, 431.25451612422216, 428.3414840594276, 447.6320318051425, 491.65107879672286, 485.6828061956356, 586.7942065374882, 492.0218831582789, 614.9122116245255, 610.9450863874548, 463.25134871009953, 476.8514715803853, 533.0673913565125, 503.70841559335554, 511.09674576699604, 537.762067010532, 571.0246211716996, 535.688470204316, 565.9829651216596, 460.7254142140538, 565.2330420338945, 532.7418488427996, 550.4246702976615, 458.71368269209825, 464.44077462015787, 505.8516689049063, 572.1878666146711, 490.91682972183133, 466.56864591688685, 432.5104696921932, 503.90940132579607, 552.6284373514372, 588.9473709680805, 461.4092799308558, 603.3045103535018, 603.5493405897278, 510.5082364879198, 503.82581512767894, 589.593054847909, 491.5694624347391, 606.0266505882257, 558.754050027209, 581.0222135078958, 511.23679826465315, 557.955397095368, 476.72440872814786, 612.8048929004806, 377.8429706994904, 555.2775682230501, 606.2356214655453, 462.2016481405012, 657.7790960705157, 554.2890779292468, 501.6604321082144, 667.1953078190833, 437.6962848820379, 614.0650900577286, 499.69739222774984, 561.9790308072301, 440.4836787711792, 460.7054430199411, 574.016923995026, 448.8242811222029, 468.7325272593267, 556.5175818699798, 588.0270631439734, 543.9319841802927, 503.218081722352, 502.58875894250025, 413.51641177930725, 417.4009400805454, 548.1833343134089, 451.30269603153994, 518.2321588192738, 557.5792346053363, 527.7553182555188, 500.9283003549623, 448.77465661037354, 540.0878122401457, 596.5446626524372, 537.7496151936787, 511.3983890018622, 565.8956476141209, 467.15332618638126, 565.3842012241979, 450.0315547597798, 512.8502121811679, 499.89095362118184, 448.2570814029977, 558.5615255035304, 647.3045435650138, 398.19369377966535, 517.8957319263762, 618.7382829958066, 588.5206613953701, 521.155282203358, 499.42157340689107, 595.4017773801652, 752.7477623239679, 588.7969727833237, 527.8514633583628, 613.2713189237613, 585.3705081271154, 620.1406351419228, 519.4532798180948, 545.1237200511539, 668.7872662333302, 541.530679369291, 665.8363957202713, 649.6960190248124, 369.8779834904889, 456.61655225893014, 523.4852363310448, 552.3916889190125, 481.1277531346696, 631.8753173036001, 521.2374727000355, 531.0074839139785, 483.4515866206458, 492.0962926872443, 599.3581933990291, 566.5619174711505, 488.9160559759398, 394.51285745446756, 579.3047986321205, 527.191908901682, 552.8375500626707, 408.7335550202321, 549.237797456828, 562.4276561494977, 471.7438705779299, 689.7251932428788, 540.4594214386502, 510.68654064366245, 550.1887635691847, 377.02372688034427, 386.0353481524778, 372.31394208439997, 570.3782050348041, 618.0113719935329, 658.336760736779, 518.2435347239027, 583.9142393579034, 578.2251352436978, 490.95148616365793, 512.7138264667067, 470.4563015222405, 411.7757613478166, 597.3570054220266, 481.815535847281, 531.026063658556, 732.584984809103, 645.6542827667773, 498.9877446439892, 511.2232907263572, 564.2255709153444, 618.3306237796443, 465.23211845089526, 505.8957085474898, 492.5906342765341, 350.0053463631175, 547.3317376603298, 573.2204343700632, 501.9324305312008, 545.6483256282885, 444.2995710253836, 566.1038789746246, 498.9163958598478, 525.8350605640677, 483.25344953988025, 535.553583314881, 502.0161856978458, 507.9009206541217, 526.1550213174863, 487.22072210902405, 486.6806795997019, 606.0848884036586, 469.83989446144756, 454.8653006607645, 676.3057729366784, 569.5742612599756, 548.8190009285361, 549.6628544272063, 464.26104198646743, 570.5709273608619, 535.5523783819706, 508.18238894092775, 536.2803307586735, 443.5463543031461, 448.590373707025, 422.9140421369343, 462.1329036606188, 424.05755609499903, 380.2060321096829, 598.9780114657125, 538.0031906306813, 452.1328404259194, 629.2314688967949, 477.7448956629083, 614.7032096876476, 423.26966692306854, 566.5398765411425, 451.05291640134675, 537.773408262831, 529.6648237244842, 434.4675792533026, 522.5667204595139, 562.4550951965092, 388.9058038392144, 554.8795990865445, 622.9569746839816, 475.6116326009707, 459.6857588796119, 643.811167003913, 532.2668918477445, 481.58036520657265, 358.2712881447187, 487.5534693077723, 447.6517971573368, 536.2058827882418, 708.4209808181109, 563.7340655697043, 526.673737667458, 464.9708864053901, 433.85221623323116, 465.3356056186959, 516.7989132027599, 592.8402759101151, 452.85494582966516, 583.1747174005337, 488.2694365148839, 532.6408348646033, 436.4992767755528, 590.0726380443623, 520.8090192040305, 417.238597684928, 477.54381401302857, 531.9835444599895, 522.8139184028562, 426.20941668552837, 525.3527566560256, 493.38379558906195, 523.9842539622073, 427.70812912842337, 570.4088690913635, 571.4197988126386, 498.84693852291286, 536.67350499757, 499.2097731946467, 511.35687842214116, 447.39306818628194, 376.8129216717834, 475.5361960369609, 558.9572917061442, 511.1300741487778, 525.0824488269675, 560.6341636257074, 555.0625307481325, 531.2277392588844, 487.93278175740875, 522.4855372029182, 558.9157115822939, 419.04299582184, 474.51579629200114, 524.1013524990723, 640.355007565062, 544.7053624186279, 519.2512334614344, 470.8286959120444, 353.38550639793414, 551.3960077669564, 414.07769657900496, 557.5741539486169, 412.5428355159941, 555.0497510002893, 552.081459559461, 433.04985281956243, 511.63650445985604, 553.6026690784604, 335.27048809713585, 399.93098995348373, 496.00345713012416, 615.6824027442857, 533.5637267348241, 585.7562777189618, 448.7893202009928, 564.3830550820776, 523.6876469386713, 420.0864342658639, 545.5977035619538, 577.6089790937006, 501.4349852425132, 432.7017921616907, 304.11090928619444, 486.40760596757593, 457.0747837306055, 539.7300395050362, 504.8164527983584, 491.5246711771573, 458.0617092434032, 397.46647945638006, 424.22648930264506, 546.1078640459621, 628.6453275364706, 470.16592249450224, 631.5658477454695, 521.128548344316, 565.487677347165, 530.0447382369593, 461.71272900562775, 450.8182219714057, 401.6558525759968, 499.4562890704273, 447.1752610859212, 565.2942632748609, 494.31389379971125, 542.2735474091083, 556.8808715547284, 685.1778035625524, 543.957714232694, 498.6110787353265, 549.0019701106717, 515.6404589337244, 513.1645219163549, 469.56449855378946, 540.2759613859653, 563.503699633558, 500.96032190422113, 564.7396763220062, 530.2950757937413, 431.97762128867817, 469.27482081660867, 402.84810315357623, 466.5014953082728, 593.9964696729842, 533.6009868452587, 542.7254649473864, 610.4293521630634, 456.0052475553648, 542.5770628475844, 542.4642514714363, 554.0443803227737, 419.03625212389755, 486.36192366295677, 536.3650609743319, 510.2047628098167, 552.021168034721, 457.7906670066527, 452.18903438101546, 516.2003087693827, 529.4811942545025, 532.6415254111225, 479.0336320541202, 610.3670833451453, 489.4685525651551, 478.58830923432606, 544.3403808371619, 442.9889363219108, 444.35308094191134, 556.5979784557476, 575.457506386771, 571.7197872213937, 576.8419465082832, 490.37424894135535, 536.9782292447226, 496.2617469853049, 560.6290594126058, 499.58984337610724, 437.6183802358841, 536.9453164947834, 650.4139258960298, 561.7624336493925, 394.62965438379496, 663.9602814966194, 606.7179195205484, 610.1201934678907, 468.0022724545829, 585.2162670090731, 511.34457991310876, 559.3209597512601, 444.0707127270944, 469.34886361354006, 597.2080588033822, 551.2087401750786, 522.0881421863851, 536.9790825676849, 323.7164804225621, 482.12748671702474, 491.3562113841316, 455.3316808897608, 549.9849754659485, 536.8011759516634, 485.8992404827479, 625.1091387027174, 510.68527090358015, 504.98659793273754, 536.0895169069632, 503.3450757076435, 358.2796537807591, 369.2802721081626, 460.99971245680916, 495.86680159358383, 548.3497076500392, 620.2913069775095, 530.575456152652, 538.7326919712872, 498.9936417111721, 582.2232332293735, 492.86118745013914, 502.24239591952556, 560.8825229518568, 526.5184664650294, 579.5946126303804, 463.27734541060784, 568.9110555495198, 564.3737030740953, 628.8566140798055, 612.8261364717831, 474.7627221092807, 530.1682196136924, 487.6157672641612, 658.5558171384215, 485.1345194959043, 434.1934929537244, 615.5303433595589, 524.330628963359, 338.6519824356372, 483.08296636896654, 596.4417095800057, 685.3524269471934, 405.3262851616075, 556.1492531253017, 526.5463583938565, 448.11716210068954, 454.54556421458153, 586.0744080434438, 543.1947629076103, 658.6403013280141, 463.00135417649756, 613.9924009874594, 537.3822438394023, 460.49007838426917, 581.1107391081897, 515.4906370471523, 373.66974773984174, 464.9826904913314, 533.1589410424056, 601.3235421560632, 721.7476863853943, 580.3977011100756, 486.91254737610166, 525.1447806874584, 558.9090581927093, 406.4780158757062, 499.0319651178782, 518.0925777032094, 608.3407685626848, 434.29082899124944, 573.568736160309, 435.7360550749162, 565.1392574529054, 557.6688649062185, 622.1756525908302, 417.84102423015776, 579.0009603161163, 428.1732115130215, 563.4107399834652, 500.16458479775633, 543.2963965772565, 582.4805233156223, 435.4617270888901, 579.2553421729568, 395.6963099143698, 628.638826268094, 418.59942958423386, 689.8535740773315, 516.3601370041274, 601.8522624402539, 526.6154248541502, 538.7908056785942, 500.09378103485835, 601.5954246476198, 486.5924518620033, 531.3247517886853, 613.9846205599802, 561.6386125480636, 616.1979636560716, 594.2438974705634, 494.2977526306149, 471.8759105597034, 440.15579428770826, 568.4135540121417, 476.67072516935906, 563.9793817525815, 448.8027636370206, 579.7265975891969, 541.9309590889807, 483.72688478738604, 510.33367533649255, 603.1774703164447, 521.656091310117, 440.84494406987324, 563.5154844546921, 360.5368695365017, 403.5463219948115, 581.189791083115, 567.010257239015, 575.555894095092, 663.7270427092071, 451.67485889917805, 560.3018163897639, 516.1808034639218, 480.2641786569422, 678.4075877638805, 570.7921706842881, 525.144094794833, 503.0951989540963, 463.75402888757094, 664.1649917323382, 439.9221830785698, 377.18783500427423, 586.774332588418, 429.1374909312681, 500.258843911869, 536.0487953331716, 493.9906699804587, 586.7200193604434, 518.1856236374632, 532.2433761941036, 611.0505543514373, 597.8834839303523, 612.4684875301328, 538.0628590760717, 407.7382129296571, 432.5046845969791, 471.15106545641083, 533.1811305608519, 493.1274024276254, 617.6534937125804, 494.5032294268911, 453.5229033296986, 719.1363354341945, 537.1353974331544, 503.8286685684552, 604.268617535434, 508.1209700754165, 602.2360869628296, 474.1252418130456, 484.13644939324513, 528.6760251867115, 643.4634259923826, 401.1218707147689, 687.3323257844289, 546.0971962519986, 527.7943915505548, 398.936054573875, 489.90552412986847, 514.9870263281417, 545.8734261003708, 556.0680748033894, 446.823521666893, 512.102723195418, 479.5534567985513, 642.8709526021775, 391.58242933624723, 584.9943438571645, 473.292609999531, 510.9686020350795, 447.27778009308787, 416.5966979309782, 458.65449048322085, 574.8401325460153, 625.1770972255396, 487.2366309376624, 455.4577636482573, 470.39135733249145, 524.2328959820281, 341.82747300054217, 481.11772141021993, 622.1681203563967, 496.7487519356938, 543.2056129008889, 540.5376127705674, 514.5451546607972, 483.9132142833561, 440.9347789988922, 416.7158490912387, 512.1652918822101, 561.8634496255881, 551.8794638163483, 608.4760137893606, 461.0698128226428, 476.0117009799956, 445.51434255095296, 664.2028621540754, 549.8453823048791, 492.9980081225891, 505.0363918647468, 487.51607115068435, 408.86393128093124, 457.931257433391, 549.920456046592, 620.3811700260687, 442.74796763311883, 469.7139821202295, 497.1436317908528, 504.08460132534134, 495.0052910907854, 520.5186688721874, 499.3514128479672, 379.7820791646422, 393.92933541635864, 536.5864614234025, 580.5728638878405, 532.1980044939088, 551.5971701885325, 549.3480407282667, 577.625057208116, 490.91824266915825, 526.0144215738651, 642.8690362434787, 556.8862502777786, 619.0282951663291, 526.497743424407, 485.41010728279224, 476.55916142601825, 698.2537067388267, 441.57542705431615, 509.723984030469, 499.4936178513731, 536.0678909807963, 542.0113090284578, 540.1779222360938, 557.8365024757433, 564.6158304042526, 607.4354839991877, 554.2166655623703, 481.4771683949456, 416.2679373246731, 558.5715154085797, 593.1535372264715, 620.3545139224451, 574.5337550997627, 401.27818487111165, 690.7118057680506, 464.422916895668, 441.0455278894339, 589.6824625897264, 398.38842535554585, 522.1200479781471, 471.14678399198846, 600.1344299918037, 575.0392655365275, 421.08974177840787, 564.4917709334551, 452.79022715886873, 648.2791789728007, 408.05489740306825, 499.8142742058875, 443.6466705464893, 622.8419762594923, 405.71344546974416, 599.2689522982979, 454.3728058413341, 590.177683935742, 622.9488290060209, 512.2049256746213, 545.6135754799036, 445.056299595518, 568.9606034810962, 443.9906557775987, 436.0885671814327, 503.7206388204719, 553.0390287273045, 531.9709736082492, 389.04261523447843, 497.507032178149, 606.2235420679654, 411.0604309987312, 478.81064273336676, 631.4688659582848, 713.0511341331301, 617.8974851339475, 613.6948445992601, 537.4933152057495, 658.2616278971831, 425.38792729191726, 624.1112373550483, 403.82294362062373, 655.3670018521101, 470.4842765543173, 453.2677625903968, 384.5525253419557, 494.4281532103983, 605.1585340001067, 481.67436513500354, 408.97201469518194, 551.3385794327318, 723.6492676114472, 515.4719123324733, 615.1293539905653, 465.1054730530047, 512.1534632854355, 478.74041501785183, 500.0737337441382, 424.3137229374929, 568.752047205728, 549.4393163477376, 491.811852921274, 549.6033511264701, 561.4465187138508, 448.89773264937145, 578.6284138117012, 489.5933548658949, 625.9145377834284, 520.2082055085534, 463.91139149307327, 555.2484759670414, 457.20680790449916, 584.4785101223209, 475.1983898544791, 494.6031225344363, 494.0981697223295, 500.02093196970475, 567.0782095273407, 473.19750070692635, 506.2177223118782, 617.5098244503475, 535.3350467884597, 604.2420916687752, 668.0569765554026, 533.9787436626667, 584.3139718023574, 522.9718359219371, 574.2953112353017, 488.45596554152894, 523.4352294245442, 482.8036199200892, 613.8319999247285, 473.8184316852668, 444.1897654738927, 475.82615146409887, 552.9998081860296, 581.7625779961228, 502.9866638057928, 712.9779686865709, 570.7451534267187, 400.51173234471656, 490.41393593270817, 478.76449298910705, 730.811912536864, 541.9504562195328, 445.3902721789788, 478.5232509084495, 588.6192986336921, 592.5039904896063, 503.98292565029794, 441.3739303581699, 483.55550860970845, 396.60267653138123, 463.15321970271316, 505.34163940274925, 528.2965061449107, 480.93123905292146, 476.8761856120313, 533.3982870987292, 394.1807074893001, 653.9606097885725, 412.95947922324297, 490.0899364576892, 698.6970765777032, 536.147382050747, 487.8924954862531, 520.8348485496961, 492.86584656609614, 591.5238940290086, 439.82587430363657, 460.0338027767749, 568.358430947255, 645.7559597624322, 397.34759677673014, 567.3133526069633, 559.482368120557, 501.09782302263216, 636.5962472993749, 453.926061515372, 626.0916806300797, 632.0193935139831, 580.9713706633495, 649.2354890942419, 435.51483240534554, 459.6830197283798, 575.2383070102153, 595.4153289851163, 676.313999061767, 422.0456724917633, 407.9964996656935, 478.576770862677, 631.6856866256448, 566.1201275830003, 571.7588187163531, 654.065079964609, 456.6982867860706, 612.3233881112092, 523.3583960255457, 483.0208324276823, 654.3512027902374, 575.6073285518868, 491.23004937029884, 491.7683657277427, 623.0926410360101, 586.9588026525348, 586.6402114232172, 626.3908614268893, 540.7540447541876, 548.7327124843265, 517.5305470418688, 567.0506169907906, 552.6160849723198, 521.4340426114019, 550.684855742726, 539.0983330952561, 529.7108472648068, 611.9173991489675, 594.0078424491284, 439.90775765879005, 592.4932646751677, 630.872629401499, 372.5116871576934, 539.2791215370074, 545.1318110988165, 590.2943342477561, 518.7454784613938, 436.64924119951513, 552.5777081346006, 470.1265392958995, 607.7000367246945, 548.880659811315, 494.20781330552796, 444.17425512008833, 567.1796414439406, 542.550673534261, 529.4455453099262, 567.9227933666082, 504.7023236607288, 521.5601686502673, 586.9205346502487, 519.9483387674492, 594.4956142835596, 691.7277502657186, 525.1303195386794, 451.9843911391883, 525.7948426367617, 574.4974019269168, 428.52385281444265, 512.890653028754, 495.4074701330205, 610.9466293832809, 524.3804061383621, 561.0603800253082, 486.4708820139903, 492.5207683108007, 539.9451049491888, 479.5378306902616, 461.1213863936411, 511.2238993536485, 539.0033506484186, 554.6668894879973, 559.4992346263443, 567.3897079034448, 619.9862358039418, 557.2606497430688, 587.8502857653173, 540.5762294421036, 484.06351479974603, 445.00038923766203, 556.0057445137772, 457.54908992368104, 564.9182885580435, 484.6629846273179, 649.385399522466, 470.8506248093408, 543.5209721552578, 450.8427960509421, 575.9843095056846, 666.8106627691927, 486.0960608919146, 463.372580625168, 492.20293647435415, 426.7143530346352, 517.4089262426506, 571.6731423665024, 433.76652730821684, 570.8613519280805, 545.6316612948347, 543.4519356194377, 582.5018061133942, 439.74439159214006, 471.559197312075, 475.3473117976931, 580.2955065125549, 591.4930765338587, 539.6096502259647, 631.6449457315786, 673.9594006788178, 432.20660677631844, 485.4126175718591, 506.63929113578837, 435.7891082470653, 471.0607178619634, 524.9468585091664, 483.8392649468701, 641.7107096705246, 573.9485797541118, 456.2755496228322, 426.3634638211809, 476.59741849287246, 710.7224125760797, 529.4896069277755, 519.148583755789, 383.3534942158425, 463.8974572012163, 644.2983657266055, 527.9665550684928, 665.5589728023766, 506.21120398969754, 574.1710433145157, 537.4972266558042, 514.9460039447448, 437.72913140932485, 655.3688587349561, 592.6906357605349, 672.5709763869183, 512.503718988367, 560.1502601977639, 527.819564139668, 623.8753621801328, 434.3815246762741, 582.7630527944644, 483.01221372717146, 455.607661143696, 429.85976851039356, 604.6260801907133, 465.11132534500194, 556.0707282263712, 589.182076807866, 588.531806086885, 629.2419788616517, 621.0169051652779, 433.98468844383734, 516.9222925128173, 643.596565728523, 472.46046204271477, 556.9904402465229, 570.5213893827589, 452.18428930223547, 455.56169181071954, 412.4599911738287, 680.4339076652647, 536.408575946664, 546.489043840097, 476.7934372832523, 574.7282304820765, 524.916108688904, 321.9253567076073, 564.6256758974191, 574.7623968108868, 587.1589893171566, 669.5859695389631, 472.2117419136696, 552.2412962532724, 479.3269519677992, 509.12770578881526, 480.7790140091098, 563.8511019185548, 645.0608729310278, 582.8067249588967, 588.6340290476838, 528.8162794359586, 523.4314919613697, 515.164868836061, 600.0647212798788, 558.8770106207846, 625.2038336794063, 618.3461497749555, 580.474481628396, 430.6637398210202, 477.6813478257956, 454.63918796242535, 382.5379312420427, 548.323426293164, 576.5811390402267, 589.9985598949454, 438.1188168889586, 549.0842557782515, 668.5062666915842, 474.23810157965954, 546.1830871222533, 606.0853071994878, 474.02515819378704, 546.2611105527093, 494.0732454661765, 620.8283654729879, 524.7003850449686, 503.40966872379465, 419.22405177845957, 430.1592876265381, 469.87998203507215, 626.7304423892393, 575.7504034376129, 510.3171793304466, 511.5896372392, 519.6574839603034, 484.0169939034853, 546.5173947764143, 525.7539362150893, 667.1247554146472, 456.01483203190645, 466.550660518736, 730.4597155181576, 489.5356626058539, 599.884249787797, 552.4565584068145, 532.9141283113926, 541.7916061053674, 620.6552641620211, 497.24807596228726, 516.441455320171, 421.64912138814805, 507.324584146875, 525.5005687991807, 556.3310892283147, 540.4778017700189, 500.9126187819836, 601.2978170761215, 505.92593773274706, 392.65744971277843, 535.4828578655955, 505.2826111593606, 477.15842953311176, 515.5728566634693, 460.2912690701373, 668.6873623681876, 578.4487121452179, 543.1778686678967, 610.3500697709746, 433.10478537291345, 533.1656494257132, 505.5572145633261, 487.8260097567894, 532.4023226467253, 428.0754390097849, 522.8407722587672, 527.6332013217489, 413.24329817530804, 557.723866117703, 615.4051058096956, 478.44683879238073, 500.289951393394, 453.59204393170694, 550.8609868530243, 445.27101670145254, 514.0457799697, 597.1504297923539, 569.1221120757198, 509.1003289700289, 514.2396916652003, 538.2752302272573, 591.0620936838919, 525.4009892224478, 465.8170048450648, 612.5159038850722, 478.685373919845, 500.9804297598966, 452.02802642669195, 681.9086499599105, 580.7659305004228, 563.0171051403377, 500.48722640533794, 536.6361652572956, 449.52429230772634, 510.58785195485603, 554.3756177483126, 424.2925164979052, 623.2608131857238, 445.96083315617443, 535.1718587052446, 551.3387228134746, 560.5624211621349, 416.8339431891248, 544.5339051730913, 637.4152503110935, 455.11289910291043, 483.4359745262632, 459.9326051135206, 491.1642517421647, 507.3730015912568, 437.9873908928069, 514.6225914387304, 484.48411504575876, 539.6424395858387, 533.9047916059175, 533.6457280349592, 664.6741767632072, 563.8718197778766, 631.3025402794879, 681.1190727726864, 621.2670204293187, 483.46880130067996, 413.82465505959425, 463.6712401404614, 748.629890216766, 452.9727561912695, 507.55459735983885, 534.6430238334685, 576.3608029126649, 478.68633196657817, 490.5118172093035, 599.3375246198897, 458.01145269127056, 582.2339463544936, 422.14298594284077, 556.470686459909, 595.6006599404272, 523.4876609374791, 637.4237798383737, 525.6217672813366, 559.0901793807827, 662.5942415856954, 514.7187893084216, 540.2594173955542, 492.4996952223171, 547.5965659349893, 401.63953261313935, 459.7893212534216, 471.04662372423587, 405.4838641433595, 575.3216331142609, 533.799512921575, 420.37089159055245, 508.17335751635005, 510.3354726378345, 488.46960717478134, 553.7113953623003, 559.504696519397, 562.3555239868754, 491.839478615315, 568.1508476857243, 501.2278655284127, 425.7626079457204, 399.00402079048916, 661.8178879906325, 553.9983582780687, 597.350239673937, 548.6119406153409, 433.03779401329655, 533.1472293594848, 492.02440303595, 625.5800902303416, 579.8056726623902, 428.3778403997388, 432.65028285028615, 552.6744437474869, 510.38295764423293, 455.07970671417326, 622.0188393112453, 495.58194361114136, 464.0571596650511, 495.2052257594799, 469.16437191200873, 415.85243412793255, 645.905714858315, 536.7429973466499, 460.396191022913, 551.3215741493252, 644.0184254792363, 480.0041369546565, 579.7192564381929, 596.8449665204087, 564.7281545172217, 543.593023918631, 526.8124801891921, 415.3462859681867, 439.97405723420775, 395.7306662842395, 675.1909325613238, 558.6137314790808, 534.3887528516819, 493.0449851997957, 604.9808549983372, 624.2731155093387, 556.735571361403, 495.1765997836657, 494.8574948456034, 560.0640988253602, 463.279038443896, 473.29404469041634, 506.4243598775316, 541.875326630743, 420.77561971681035, 587.6655726391512, 442.0261294459017, 518.2362296284201, 447.1127079733546, 414.3461448876366, 467.7259454566217, 488.97461057630073, 410.53152139981626, 609.7223204641464, 589.0828789377692, 481.67305342553954, 574.910769731645, 404.8942476726733, 661.4932404228234, 441.4590394764247, 525.1273467426131, 702.2418339457304, 497.943803033065, 615.1811717072596, 537.6612978862062, 517.2771178102164, 596.4934629571983, 519.9896132855034, 501.73657231339, 655.4218178330577, 399.94196429149054, 527.841213879184, 440.08465993738463, 565.7808531547211, 468.0837358079656, 608.2847957092347, 515.6046312011117]
thresholds = [428.93769978165085, 523.2364390006784, 622.615274969653]
display_name = "1% treaty ROI at 1% Discount Rate"
units = ""

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)
    
    # Add label
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {thresh:,.2g}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-roi_discount_1pct.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that 1% treaty ROI at 1% Discount Rate will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
