```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Global Military Spending After 1% Treaty Reduction"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples
samples = [2760099564120.9873, 2421540000000.0, 2885589842907.8003, 2940834574899.735, 2421540000000.0, 2421540000000.0, 2711828326470.066, 2594321947268.661, 2672982463123.2437, 2459058456026.1997, 2922945805766.725, 2893470382862.3135, 2695159713097.217, 2960100000000.0, 2805286015802.6216, 2457526202953.1733, 2777785982353.846, 2433233387966.815, 2922669507755.577, 2664164866724.0923, 2628545220435.0107, 2501641650239.1333, 2960100000000.0, 2636510574399.133, 2565477286795.388, 2585050436854.958, 2823477755415.5547, 2776869881466.337, 2789999586513.7095, 2795038242562.9556, 2960100000000.0, 2571091121978.5, 2544092266748.6914, 2468710353470.2065, 2847141733225.9614, 2960100000000.0, 2647205094937.252, 2462221708154.7295, 2466074719491.0337, 2856989134594.963, 2883518984215.74, 2826533879159.3296, 2505492509916.7397, 2740195364332.626, 2708812591805.594, 2736515227387.1094, 2920623168046.046, 2737855011230.003, 2865071641419.7812, 2695576018545.9814, 2755808492811.892, 2851492849929.656, 2421540000000.0, 2593434815302.3296, 2554740133486.4297, 2512157359405.722, 2604980018644.107, 2960100000000.0, 2455923830127.123, 2948975679509.78, 2421540000000.0, 2589502007809.907, 2721288963269.261, 2838703064789.2314, 2874321431220.593, 2897963556164.9287, 2585929504184.262, 2556784977878.443, 2916706482305.584, 2626856674819.705, 2421540000000.0, 2421540000000.0, 2442822693180.185, 2813595681777.968, 2715776654863.5527, 2868380707998.7944, 2565752449592.504, 2720145473789.5767, 2849872617709.0674, 2596107170704.2417, 2802283887515.6416, 2506388347277.404, 2582236037808.2656, 2577427854543.4146, 2421540000000.0, 2810737696800.003, 2554987419097.776, 2680804992075.335, 2808992674739.737, 2799421811305.723, 2861207887879.6494, 2651291168923.119, 2566764710699.022, 2656259195926.426, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2423939482619.5156, 2786395517352.0215, 2446229992131.972, 2578347245161.974, 2960100000000.0, 2583985576662.564, 2881868834152.2373, 2439373380469.489, 2623155917927.7183, 2435384955332.495, 2588430763023.7515, 2911570660575.432, 2421540000000.0, 2796042871040.9014, 2741719451334.376, 2523390811443.8887, 2421540000000.0, 2696799851482.9907, 2539718389196.362, 2740336106571.103, 2683308626913.5986, 2960100000000.0, 2614295799838.889, 2421540000000.0, 2725777749853.309, 2736872320664.666, 2960100000000.0, 2910061702460.692, 2774496204068.9414, 2960100000000.0, 2421540000000.0, 2511938431405.451, 2441087454119.9385, 2575353386675.252, 2421540000000.0, 2852591774940.269, 2618767537326.906, 2421540000000.0, 2421540000000.0, 2762522585192.2236, 2910937129521.8984, 2960100000000.0, 2960100000000.0, 2790466295434.061, 2425804097266.83, 2421540000000.0, 2749929824313.9834, 2468915157545.725, 2568798729080.3213, 2518877423476.9365, 2640126239871.8594, 2960100000000.0, 2719740905121.142, 2635431105658.02, 2421540000000.0, 2421540000000.0, 2550682438677.597, 2663140146270.2085, 2960100000000.0, 2712486856162.8784, 2953232705018.599, 2547380068478.5044, 2421540000000.0, 2431720713276.838, 2490612188255.9473, 2960100000000.0, 2466836075234.7246, 2911042429957.493, 2446852767042.634, 2938198021434.4014, 2782278485521.3833, 2635956128943.9385, 2666601186469.712, 2508173655646.4585, 2799293647391.167, 2558664903235.0723, 2421540000000.0, 2421540000000.0, 2723959965954.3164, 2960100000000.0, 2720539464313.0996, 2645966703326.2837, 2754903339048.574, 2960100000000.0, 2736704649836.7812, 2569934135649.907, 2960100000000.0, 2794462683017.29, 2960100000000.0, 2726854360738.2207, 2421540000000.0, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2629946572775.0215, 2577055231017.052, 2960100000000.0, 2421540000000.0, 2448855054893.388, 2854919160285.244, 2574121787775.0117, 2676098369127.5557, 2634167428023.33, 2769160843644.7476, 2960100000000.0, 2701769100247.768, 2855093451803.261, 2421540000000.0, 2664485786448.0073, 2461466869726.429, 2421540000000.0, 2452907203174.3286, 2589698738599.3535, 2933608763475.2793, 2421540000000.0, 2685659568220.6523, 2551226597659.809, 2591365566519.7637, 2959135770716.8394, 2825113534853.844, 2960100000000.0, 2636516834440.2544, 2497898061461.0264, 2618340175855.5137, 2743021899129.35, 2725043099899.231, 2421540000000.0, 2701743463622.7646, 2739120538081.845, 2960100000000.0, 2960100000000.0, 2459009539173.49, 2601801104162.597, 2421540000000.0, 2524257588745.3125, 2763098895458.724, 2960100000000.0, 2489653940076.3203, 2508334098826.8257, 2421540000000.0, 2634371596024.3525, 2421540000000.0, 2539731887634.8823, 2453223250495.565, 2652408241961.7173, 2421540000000.0, 2421540000000.0, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2421540000000.0, 2580898220101.2563, 2770260724362.016, 2960100000000.0, 2426452935023.2466, 2612751862618.7266, 2893339245197.344, 2796138379750.5664, 2578863351358.286, 2641961922793.8286, 2421540000000.0, 2614604029022.2324, 2607255939265.575, 2740197705901.3633, 2533181892067.187, 2806413732177.4087, 2960100000000.0, 2719301644385.822, 2773081035751.897, 2691700451142.953, 2677488512032.814, 2491523647640.8296, 2763344006160.5835, 2651608257121.5464, 2960100000000.0, 2960100000000.0, 2782527054124.6353, 2481231058024.3267, 2421540000000.0, 2960100000000.0, 2748568973834.865, 2808823647149.1055, 2421540000000.0, 2936986484789.6963, 2801625696073.6636, 2421540000000.0, 2554446537070.734, 2748834380849.7344, 2691515581515.8125, 2600558801685.353, 2649968413531.963, 2611006376894.95, 2718524120384.491, 2960100000000.0, 2421540000000.0, 2614949228843.2544, 2725026535622.9688, 2757698935767.9014, 2579954684656.0635, 2421540000000.0, 2766516106019.166, 2960100000000.0, 2421540000000.0, 2918409630354.673, 2591145307242.111, 2661137408189.784, 2421540000000.0, 2589612786810.6426, 2960100000000.0, 2837693171574.1685, 2960100000000.0, 2960100000000.0, 2797343736272.535, 2960100000000.0, 2797317640632.2646, 2907994734071.0557, 2599417711709.1724, 2695298204049.6436, 2497529017161.6377, 2955249684926.3184, 2421540000000.0, 2894786363931.8857, 2627027857672.316, 2960100000000.0, 2885710103542.655, 2960100000000.0, 2879931683528.0483, 2421540000000.0, 2659643643984.7476, 2421540000000.0, 2542560649731.649, 2960100000000.0, 2853269899187.167, 2497153701960.8, 2421540000000.0, 2686235771870.0547, 2421540000000.0, 2504085677770.794, 2762108062433.5747, 2960100000000.0, 2845092528250.2563, 2421540000000.0, 2760003105968.3833, 2696774044327.9956, 2790321792920.5747, 2960100000000.0, 2421540000000.0, 2524157775128.838, 2840029714547.394, 2421540000000.0, 2960100000000.0, 2777676764385.2515, 2913393945264.0405, 2529238871629.767, 2903871472297.8086, 2960100000000.0, 2740391272003.59, 2740807592588.593, 2750651839706.44, 2456532893644.28, 2638352396643.584, 2637038445906.3555, 2781846367255.898, 2958269970263.0376, 2421540000000.0, 2644285761862.5054, 2960100000000.0, 2486054432364.412, 2466623642597.145, 2732046956657.656, 2912755012500.2393, 2680519392348.4355, 2960100000000.0, 2916362634593.802, 2912009808026.7397, 2829626377370.545, 2960100000000.0, 2623228103722.8755, 2421540000000.0, 2960100000000.0, 2557971804328.7427, 2706434359048.1836, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2473550706341.9756, 2797497191476.276, 2821191340376.2627, 2752279659755.322, 2421540000000.0, 2421540000000.0, 2692022198111.2563, 2554382523058.8853, 2803013709292.7974, 2871663943076.576, 2714643353502.4116, 2888378038394.414, 2739389149299.11, 2822845678039.863, 2495723603523.725, 2629922384928.9663, 2730540281091.0522, 2905831655741.3916, 2574343635762.5415, 2820341421965.5425, 2607398647082.546, 2646256037909.674, 2908438835831.667, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2502306794411.9897, 2885297037767.508, 2602449834998.195, 2730816479367.8887, 2960100000000.0, 2960100000000.0, 2659064083204.705, 2960100000000.0, 2702184642104.331, 2462899255712.663, 2523327784519.9443, 2421540000000.0, 2450466140511.991, 2583533842762.032, 2900924563117.4087, 2960100000000.0, 2421540000000.0, 2784465357583.0894, 2421540000000.0, 2807298091627.599, 2642683147328.096, 2421540000000.0, 2937238011822.9023, 2520661027304.5522, 2538602029711.7773, 2421540000000.0, 2508299861210.8594, 2794221295343.6807, 2627396512998.2734, 2766700047066.0225, 2775894412855.8965, 2960100000000.0, 2587461902500.479, 2421540000000.0, 2960100000000.0, 2590379586302.936, 2960100000000.0, 2781841718928.4683, 2642669734952.0283, 2772256692702.196, 2960100000000.0, 2960100000000.0, 2696060614725.9907, 2720593463468.609, 2960100000000.0, 2460870105710.821, 2767916945694.3228, 2670567403680.8696, 2762631260383.0312, 2463889392052.707, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2557722816444.3286, 2600294113750.1465, 2960100000000.0, 2960100000000.0, 2432454747135.1323, 2771961522031.5117, 2570921031714.3677, 2602584888672.838, 2727423245242.7393, 2848048338593.27, 2588372563460.6206, 2960100000000.0, 2421540000000.0, 2679159549605.634, 2960100000000.0, 2737714145759.9023, 2960100000000.0, 2702021172385.4385, 2837161586208.754, 2662343139153.3394, 2632338011419.81, 2477169052030.0957, 2794893364971.1157, 2459428078274.2646, 2861265006661.0854, 2960100000000.0, 2777171087977.644, 2602095594416.0137, 2801498609334.9155, 2596281585514.733, 2939363021834.988, 2421540000000.0, 2589315430035.278, 2421540000000.0, 2421540000000.0, 2960100000000.0, 2927552414551.1943, 2492040102749.3076, 2421540000000.0, 2421540000000.0, 2536173391971.289, 2960100000000.0, 2796171347281.6587, 2532109440321.8794, 2804606351373.3794, 2421540000000.0, 2599222622785.5044, 2704166755442.2676, 2654568607958.685, 2897229074930.515, 2771114648268.4673, 2862047373931.286, 2499785062937.995, 2928320671645.526, 2960100000000.0, 2430500236714.0366, 2450573254790.887, 2960100000000.0, 2626846282156.6597, 2960100000000.0, 2561843923742.1855, 2960100000000.0, 2712814621244.879, 2747329879045.8345, 2960100000000.0, 2582566631135.2827, 2437548008421.526, 2560303820482.4697, 2801042682497.6567, 2421540000000.0, 2853251994454.817, 2537368830973.5513, 2960100000000.0, 2421540000000.0, 2475419360756.894, 2421540000000.0, 2465644697339.2163, 2744436636310.84, 2630023331594.445, 2610641720725.1797, 2635286512308.034, 2732341858307.0444, 2421540000000.0, 2873066760471.797, 2860431925582.248, 2782302623364.1187, 2830308663174.975, 2757815576985.5435, 2960100000000.0, 2654305540291.889, 2596693358308.707, 2483590821165.108, 2421540000000.0, 2421540000000.0, 2450303971634.315, 2658654988004.684, 2768255125661.4634, 2691159935825.59, 2480617796854.841, 2929012793080.2856, 2882414246751.5127, 2635164690127.7227, 2508641949560.8877, 2828021179589.104, 2728143749381.0327, 2421540000000.0, 2659371169686.99, 2748373381869.4287, 2447641846224.4355, 2728652638202.734, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2610865748362.0024, 2776318788862.878, 2421540000000.0, 2421540000000.0, 2600141773983.2583, 2421540000000.0, 2875230441320.521, 2960100000000.0, 2421540000000.0, 2462883242441.064, 2741093986590.8696, 2960100000000.0, 2421540000000.0, 2744811775410.085, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2566685776755.214, 2541975208619.22, 2903534784481.67, 2742792869097.2163, 2421540000000.0, 2818722295087.782, 2527575476482.1274, 2960100000000.0, 2514988204570.2524, 2512724402025.0195, 2825963647279.188, 2889182982935.9575, 2799859755901.56, 2421540000000.0, 2825090709251.2563, 2421540000000.0, 2741046887216.97, 2421540000000.0, 2799363441526.3315, 2470477591353.6865, 2421540000000.0, 2875065145326.048, 2742788710929.507, 2518405095727.543, 2960100000000.0, 2562325238853.6255, 2686055063604.92, 2750259559715.508, 2516976309708.7256, 2806301132983.6084, 2538715451273.6924, 2569751850719.5483, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2571384989282.002, 2421540000000.0, 2595812630969.571, 2602102286911.0703, 2627218431345.582, 2421540000000.0, 2836817479428.64, 2821281263881.0366, 2421540000000.0, 2870874332763.412, 2960100000000.0, 2723789444652.52, 2588871783002.947, 2639806985151.5435, 2846936501937.6064, 2421540000000.0, 2721733540040.35, 2575185345265.518, 2960100000000.0, 2631349546070.2793, 2960100000000.0, 2421540000000.0, 2838996674909.573, 2764145153856.621, 2455136062952.346, 2725266756187.2646, 2960100000000.0, 2592369069835.7197, 2421540000000.0, 2672779384300.644, 2446975805201.0664, 2587576815569.998, 2655763873672.872, 2421540000000.0, 2421540000000.0, 2809362613639.684, 2541435099768.076, 2421540000000.0, 2895506529724.45, 2751207933843.448, 2493433909412.0796, 2421540000000.0, 2910263934955.239, 2772415630574.5054, 2960100000000.0, 2792075405889.7773, 2783042418122.1143, 2633251854198.3657, 2904744125969.757, 2849729005835.0654, 2960100000000.0, 2541788970155.552, 2563666174290.8867, 2552516227934.459, 2897227803172.1035, 2960100000000.0, 2557680666181.6426, 2566386975655.6675, 2762677836571.3145, 2612625813069.1875, 2944206811808.57, 2421540000000.0, 2465527730422.685, 2476444179443.71, 2421540000000.0, 2432079331456.289, 2443869786145.6143, 2624289924900.632, 2960100000000.0, 2612808469725.386, 2421540000000.0, 2662297634571.3306, 2960100000000.0, 2429092205958.619, 2444986850871.2075, 2830877755308.562, 2618946896087.833, 2856103499928.5435, 2673823655330.45, 2871580879363.2466, 2421540000000.0, 2674240338148.3203, 2621781902645.6777, 2421540000000.0, 2421540000000.0, 2867025849650.0815, 2585355033516.4424, 2421540000000.0, 2651901251422.801, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2441986019073.9517, 2960100000000.0, 2754013345370.7466, 2890448676095.7896, 2421540000000.0, 2421540000000.0, 2799779978691.6387, 2693075252940.44, 2828108884947.7593, 2627808898897.481, 2752792979813.3306, 2720031349674.8306, 2893463298119.542, 2901915325615.707, 2421540000000.0, 2421540000000.0, 2958836939666.2275, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2704047355234.871, 2937982671328.6616, 2960100000000.0, 2818971752679.0107, 2580005611577.074, 2449245048443.6377, 2680526140124.675, 2598719328432.5996, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2960100000000.0, 2442482032251.302, 2915846412505.6123, 2853865551557.031, 2798309082742.0815, 2960100000000.0, 2852654432384.1743, 2882587216449.7314, 2853091299455.0728, 2770049571263.9526, 2421540000000.0, 2699892964376.373, 2532963391801.963, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2960100000000.0, 2746503631623.191, 2960100000000.0, 2680687081682.8115, 2732180793069.711, 2421540000000.0, 2785622120653.3735, 2693642567757.1455, 2421540000000.0, 2663827061399.642, 2656256187788.765, 2960100000000.0, 2927268678974.3125, 2680524575226.8804, 2744743651723.1143, 2689300327917.582, 2623816327583.3755, 2421540000000.0, 2637425327293.446, 2485432055321.7627, 2421540000000.0, 2817544830085.6445, 2784031314894.298, 2421540000000.0, 2644898940508.8965, 2957053599539.387, 2960100000000.0, 2960100000000.0, 2687879140881.0283, 2461021250551.113, 2421540000000.0, 2771103502528.4824, 2780705042765.204, 2960100000000.0, 2960100000000.0, 2642382118945.2104, 2421540000000.0, 2593580885656.582, 2736117427735.2153, 2624033765359.3394, 2527485916604.3745, 2745865744632.641, 2546195672009.3823, 2514868152623.369, 2761954699773.322, 2572225593525.137, 2743461805484.281, 2751436897004.7983, 2421540000000.0, 2551971926964.883, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2685251979782.4688, 2685736130703.4326, 2646237906539.73, 2960100000000.0, 2421540000000.0, 2785328308528.423, 2960100000000.0, 2421540000000.0, 2577924464406.406, 2483748306310.973, 2448948119415.682, 2591730347781.073, 2960100000000.0, 2960100000000.0, 2589229716893.95, 2960100000000.0, 2686984647195.8594, 2960100000000.0, 2652663285345.0293, 2712698806461.283, 2776878304466.085, 2960100000000.0, 2914760617839.3853, 2495078586320.858, 2949187342926.49, 2582550643721.886, 2549806757514.4683, 2931472985922.399, 2685781222235.68, 2752911658965.756, 2681203763442.3774, 2768886999093.203, 2793406264090.7285, 2421540000000.0, 2861546848562.7764, 2427624133881.2217, 2421540000000.0, 2661910809403.154, 2699989900624.862, 2498505221575.4614, 2908877768061.9653, 2421540000000.0, 2570955521665.787, 2525726723901.3784, 2665052271687.4033, 2752990848458.9526, 2421540000000.0, 2878067280675.305, 2694345682440.72, 2421540000000.0, 2421540000000.0, 2674177745961.3, 2619095495055.3877, 2649986429409.2515, 2670002815137.5317, 2738391520861.8423, 2942913678608.382, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2755752763371.3945, 2960100000000.0, 2564706700449.555, 2421540000000.0, 2421540000000.0, 2463971011567.0063, 2532575091177.8853, 2570585000219.441, 2687790104161.1475, 2595485782741.4883, 2960100000000.0, 2502867761076.1343, 2456784639952.429, 2808468434240.493, 2421540000000.0, 2783594522570.723, 2704996538071.306, 2638375080241.173, 2960100000000.0, 2516338288874.0176, 2960100000000.0, 2617929463308.1147, 2421540000000.0, 2696205425915.1113, 2421540000000.0, 2484029791676.7417, 2785633789953.2817, 2830040082878.2734, 2516348265222.0464, 2954607469060.6216, 2960100000000.0, 2960100000000.0, 2822662289644.123, 2960100000000.0, 2421540000000.0, 2593891372575.4473, 2455636203996.9854, 2709499020367.813, 2529111325182.6113, 2633454141343.719, 2960100000000.0, 2632518615622.4575, 2790294524751.335, 2616144414416.488, 2697764094443.2515, 2679073394495.669, 2799922513586.6416, 2960100000000.0, 2960100000000.0, 2761449806703.8003, 2839644616596.9087, 2421540000000.0, 2654098346530.376, 2940753830371.642, 2919032865469.847, 2734583584362.314, 2924986321380.144, 2811801704365.3447, 2960100000000.0, 2755874402093.706, 2584131381893.582, 2768682102120.886, 2421540000000.0, 2781705368917.0776, 2421540000000.0, 2421540000000.0, 2800884723849.1396, 2808091323293.9526, 2421540000000.0, 2493874880782.6743, 2960100000000.0, 2551262048572.321, 2960100000000.0, 2676953265272.0273, 2788692845672.0957, 2960100000000.0, 2712690496530.5215, 2422707349000.1543, 2648319673861.7554, 2667971899597.6094, 2421540000000.0, 2610002609670.5854, 2486400680140.652, 2936084068712.646, 2686726116824.601, 2602992014177.104, 2649256472043.6934, 2737725690905.5156, 2847378824987.951, 2423343443572.034, 2421540000000.0, 2960100000000.0, 2569572793305.921, 2421540000000.0, 2798662793036.849, 2804127884148.082, 2421540000000.0, 2739463023164.4746, 2881313358240.27, 2779347996608.338, 2851690047203.082, 2421540000000.0, 2767356452384.5557, 2597849757155.3306, 2551577631037.164, 2920368793619.5396, 2960100000000.0, 2960100000000.0, 2960100000000.0, 2648317895991.9785, 2773347640987.313, 2890306140196.2466, 2710026674657.797, 2712619350509.7295, 2906766506995.902, 2661679436752.911, 2489603501787.9697, 2569025306028.709, 2852238793014.762, 2678265542229.4556, 2769888917098.394, 2862547951040.514, 2579201550068.884, 2887258933171.395, 2780583711234.925, 2421540000000.0, 2960100000000.0, 2547011860643.107, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2691436788564.7314, 2605315700722.565, 2588999150362.9326, 2848199154870.29, 2769796464281.564, 2763220962426.358, 2789191459401.7217, 2847185824233.8145, 2421540000000.0, 2581879465107.6875, 2421540000000.0, 2687114229534.7188, 2676228879963.585, 2960100000000.0, 2960100000000.0, 2732174734910.1016, 2547109339799.1226, 2810229880551.558, 2540117449732.091, 2677094047488.622, 2954233536010.624, 2532564365005.802, 2901530459523.399, 2864639496798.8716, 2434226498656.952, 2950628102360.2, 2870693812453.28, 2704827281846.537, 2481412672710.2915, 2457547394135.6284, 2537649475368.9565, 2826376046231.1665, 2434024155148.295, 2796904443624.2104, 2421540000000.0, 2623514152534.6636, 2706911522676.707, 2960100000000.0, 2421540000000.0, 2960100000000.0, 2717786593929.6074, 2789565269604.3057, 2709261742403.894, 2798917996774.614, 2636732651268.625, 2960100000000.0, 2558285234557.9834, 2960100000000.0, 2510782173372.0874, 2661422120575.9067, 2421540000000.0, 2801794325898.392, 2960100000000.0, 2656885126240.0654, 2625394580605.488, 2421540000000.0, 2616921334902.881, 2421540000000.0, 2444425209972.6846, 2738726489781.0117, 2960100000000.0, 2960100000000.0, 2525295695970.778, 2960100000000.0, 2743365502463.945, 2637373823534.7666, 2795532739453.0776, 2694053850884.9385, 2707113495904.127, 2570599222409.238, 2421540000000.0, 2421540000000.0, 2857745051309.797, 2604575245261.201, 2522902803898.6875, 2679738626002.3843, 2898421782593.803, 2726073676877.0015, 2507856619922.587, 2960100000000.0, 2960100000000.0, 2812864913271.673, 2950560225879.056, 2960100000000.0, 2960100000000.0, 2846607781898.55, 2842138430279.5757, 2819917574566.7266, 2421540000000.0, 2871311493877.758, 2421540000000.0, 2473436427620.5156, 2960100000000.0, 2911545109905.2373, 2960100000000.0, 2605881300807.6577, 2421540000000.0, 2614013763850.1, 2704855722649.3584, 2698645674565.296, 2960100000000.0, 2582695455105.3325, 2773157954317.92, 2426024541416.79, 2800479265165.1895, 2678296335065.1377, 2484511163644.178, 2615215539369.389, 2628725258218.378, 2606276245959.8477, 2960100000000.0, 2651301610796.0146, 2613112003029.4185, 2421540000000.0, 2448982000658.332, 2608117994925.8857, 2500413423110.523, 2960100000000.0, 2633774660853.7935, 2960100000000.0, 2693996919971.313, 2687427298072.338, 2653854865832.11, 2678480070201.098, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2536255532235.347, 2681348903805.014, 2868271716735.766, 2806847307370.6147, 2576783118787.7856, 2960100000000.0, 2960100000000.0, 2727078339203.032, 2947322709565.8403, 2751283544429.9224, 2531626868890.4346, 2870479195152.5923, 2707172202028.915, 2677823843461.589, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2582182770241.178, 2610321273453.0312, 2421540000000.0, 2426864210299.5986, 2457146455181.651, 2960100000000.0, 2960100000000.0, 2569723373086.7036, 2582099666486.576, 2421540000000.0, 2421540000000.0, 2646430785193.3315, 2423793165712.328, 2654899656403.7446, 2421540000000.0, 2481499060107.9536, 2717457137518.475, 2777081939645.3853, 2791318888093.0195, 2421540000000.0, 2915749385054.9473, 2472052114603.0903, 2851939367547.9805, 2674626092694.015, 2421540000000.0, 2594333563668.7056, 2776847632558.9365, 2846285855197.4385, 2640074356317.06, 2960100000000.0, 2960100000000.0, 2609788597969.218, 2885495034186.2915, 2960100000000.0, 2960100000000.0, 2421540000000.0, 2441097883382.9556, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2550711387929.238, 2792086020259.744, 2650256970319.125, 2509230715272.795, 2503318406971.27, 2493816415529.464, 2452575129777.907, 2960100000000.0, 2758116292463.9707, 2925092847522.371, 2549977866009.3296, 2628258306050.0117, 2493513711763.5215, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2960100000000.0, 2665624187652.2183, 2960100000000.0, 2789512583496.3623, 2894846565951.6934, 2447348337849.0767, 2821124676529.609, 2879339822307.5396, 2527800283513.2554, 2831157727717.7285, 2833035651003.91, 2534641485687.1606, 2421540000000.0, 2421540000000.0, 2700669914229.5913, 2766244125445.21, 2473948103071.204, 2684575830481.072, 2834265019662.039, 2847769823197.766, 2960100000000.0, 2960100000000.0, 2422961729841.756, 2960100000000.0, 2539342511781.0063, 2960100000000.0, 2695685607570.9517, 2569620851841.9883, 2421540000000.0, 2632034243376.9243, 2421540000000.0, 2948687671802.3535, 2960100000000.0, 2472866171752.6494, 2759343536107.2188, 2490571082023.7676, 2514763132557.4395, 2892518867439.1323, 2667192899861.7734, 2960100000000.0, 2551719577545.2793, 2958125994408.5034, 2703610044379.4004, 2898666319367.728, 2560663069941.6274, 2664262419754.3125, 2646795454715.7397, 2463228758072.315, 2860265172245.8794, 2856891162284.982, 2840780088962.261, 2960100000000.0, 2960100000000.0, 2579174992096.9224, 2778978141173.0903, 2515988597613.627, 2683711001198.834, 2521981747398.229, 2960100000000.0, 2776386311492.732, 2619863233994.9165, 2960100000000.0, 2421540000000.0, 2421540000000.0, 2898683854809.215, 2693664740433.511, 2745197907411.051, 2421540000000.0, 2671267878437.45, 2960100000000.0, 2906895970778.674, 2723177155730.7554, 2562733843589.5254, 2574130074078.623, 2421540000000.0, 2747168632187.5664, 2913074031394.087, 2421540000000.0, 2506515620644.459, 2421540000000.0, 2431663848238.3594, 2691788058787.305, 2421540000000.0, 2846656412450.4233, 2886569785390.396, 2611234227158.992, 2421540000000.0, 2424139742769.8354, 2960100000000.0, 2421540000000.0, 2586239490909.3037, 2421540000000.0, 2901209689351.432, 2503093306480.371, 2787557519533.9067, 2832830112986.4165, 2960100000000.0, 2623809009938.1074, 2779807681918.013, 2421540000000.0, 2960100000000.0, 2481861873335.8403, 2531810937599.9224, 2671530601061.756, 2421540000000.0, 2739268550960.1636, 2948736803757.67, 2756857260935.732, 2421540000000.0, 2644602236434.9487, 2883166575852.4053, 2421540000000.0, 2421540000000.0, 2922113681696.4536, 2750583847485.158, 2789787795324.211, 2960100000000.0, 2805578016864.993, 2859068945866.353, 2960100000000.0, 2620967494154.29, 2472626474120.3286, 2794195083265.98, 2797317046466.767, 2540422093092.043, 2421540000000.0, 2960100000000.0, 2766198210421.7646, 2488858975406.3467, 2933616886912.381, 2648473506564.3506, 2610770921708.4443, 2831929523484.571, 2421540000000.0, 2773321924419.1323, 2960100000000.0, 2804913395119.3887, 2578848937299.436, 2545396365255.632, 2570084686092.9116, 2610489353971.868, 2578438813184.9785, 2933728422528.3335, 2421540000000.0, 2917877530812.8887, 2577955319329.352, 2780058201047.047, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2946421137572.221, 2421540000000.0, 2908323378516.028, 2787808083810.414, 2421540000000.0, 2670984464459.5293, 2776617943707.3525, 2830179312627.778, 2725230125405.8535, 2756389138481.1274, 2960100000000.0, 2960100000000.0, 2421540000000.0, 2594012466059.169, 2633849997062.5264, 2421540000000.0, 2702738994435.9634, 2960100000000.0, 2421540000000.0, 2768836679211.248, 2443707102654.3784, 2503892913839.433, 2960100000000.0, 2536410625620.281, 2803804183290.8203, 2421540000000.0, 2960100000000.0, 2843359303810.541, 2629164748588.195, 2835681660788.9414, 2421540000000.0, 2960100000000.0, 2592319143587.9316, 2623513908995.0215, 2549322163299.495, 2526790842734.2314, 2869578464128.574, 2746693616319.878, 2857318416062.986, 2675118109193.457, 2818100808545.8965, 2567904223123.439, 2960100000000.0, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2459275580975.0356, 2960100000000.0, 2956991331140.831, 2949817301318.8647, 2684960631038.6416, 2620073086439.1504, 2622116988200.909, 2783827464914.0186, 2960100000000.0, 2726332096900.8936, 2444774982612.293, 2906961922322.748, 2935144954951.574, 2858148344050.5186, 2884164720722.0054, 2606075289293.377, 2440499900137.179, 2455345174363.2715, 2421540000000.0, 2741504225512.382, 2655270907132.908, 2562495143097.001, 2421540000000.0, 2421540000000.0, 2960100000000.0, 2505713381282.8735, 2775526112543.0557, 2421540000000.0, 2960100000000.0, 2639273953245.776, 2756061682686.8667, 2960100000000.0, 2960100000000.0, 2596827431649.1, 2523624856425.1914, 2591915717728.27, 2817172861252.6357, 2649509598010.2954, 2573957709939.7456, 2960100000000.0, 2647135796894.318, 2960100000000.0, 2701811589907.4185, 2960100000000.0, 2774620295821.308, 2947411792955.948, 2490764987955.443, 2458883004432.487, 2803103235377.6216, 2954945862676.884, 2688239328702.921, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2706867673413.843, 2960100000000.0, 2673885269083.3164, 2421540000000.0, 2626999188865.179, 2634336626241.3013, 2960100000000.0, 2421540000000.0, 2575130463016.7954, 2960100000000.0, 2800384584265.9966, 2832223384010.7183, 2708244844385.8413, 2767053750710.833, 2893417736187.273, 2469766138241.319, 2922555307154.436, 2421540000000.0, 2766618901405.0283, 2725632376504.5396, 2517823278588.086, 2671414019971.0327, 2516254778005.123, 2421540000000.0, 2584668521781.2373, 2421540000000.0, 2765082013104.49, 2421540000000.0, 2874536604418.6294, 2421540000000.0, 2530411998871.413, 2515736954566.454, 2960100000000.0, 2767149366688.0806, 2621508938825.1562, 2814033179621.2456, 2421540000000.0, 2665970565138.6533, 2960100000000.0, 2713047539793.5835, 2695665855215.241, 2827936680606.9805, 2927675144905.221, 2421540000000.0, 2421540000000.0, 2734223965602.8823, 2493184766226.9507, 2960100000000.0, 2594598399017.603, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2615660056102.812, 2627621972920.973, 2566466597673.6123, 2960100000000.0, 2960100000000.0, 2632343041867.6377, 2421540000000.0, 2847511578190.098, 2829977452385.6816, 2761386861954.9263, 2952861616473.451, 2421540000000.0, 2960100000000.0, 2433101073119.9663, 2885236317926.547, 2421540000000.0, 2440189403252.7715, 2960100000000.0, 2608683547515.3555, 2911458691384.209, 2741506078858.0073, 2649579894905.5815, 2960100000000.0, 2614999165392.9, 2421540000000.0, 2471305453791.7456, 2828800954280.1914, 2785210293364.331, 2421540000000.0, 2490831707573.7725, 2526521176280.3125, 2581613860854.2603, 2421540000000.0, 2514791634916.206, 2489771498203.638, 2891664520327.332, 2902527048509.502, 2638804635730.2944, 2574780576487.634, 2715099097689.8203, 2468020343921.027, 2421540000000.0, 2437767067760.3057, 2513176139532.193, 2421540000000.0, 2721100716015.8286, 2879627468205.2935, 2421540000000.0, 2684185787768.2695, 2619365002739.325, 2770247773736.278, 2674012504312.6255, 2421540000000.0, 2421540000000.0, 2685335988977.715, 2960100000000.0, 2421540000000.0, 2771413574752.835, 2960100000000.0, 2636906045595.983, 2828521829639.9585, 2496122999446.223, 2645774596375.481, 2421540000000.0, 2421540000000.0, 2941480338878.1147, 2426903695463.405, 2558525968669.7163, 2421540000000.0, 2421540000000.0, 2631437487408.073, 2489531419842.0903, 2780341967181.646, 2801099813123.2905, 2764544816930.737, 2741956082150.2695, 2960100000000.0, 2421540000000.0, 2662834049192.9863, 2960100000000.0, 2960100000000.0, 2421540000000.0, 2595328086789.5576, 2960100000000.0, 2816661697841.9497, 2730128190962.8706, 2619953248334.9062, 2576897499753.3447, 2755561005626.9146, 2610903045686.7144, 2666118154325.733, 2698540688375.951, 2502354947259.749, 2823427112684.8115, 2960100000000.0, 2421540000000.0, 2765417172081.2446, 2481940789568.5654, 2836206722331.8374, 2689929499856.9604, 2888874133233.603, 2960100000000.0, 2729354351040.601, 2960100000000.0, 2421540000000.0, 2960100000000.0, 2779535336542.3184, 2960100000000.0, 2421540000000.0, 2464528228817.2334, 2716728381910.4243, 2672919343208.5034, 2754145653430.887, 2960100000000.0, 2421540000000.0, 2950606011129.1104, 2679678825493.1523, 2623589188831.176, 2421540000000.0, 2815248671723.3706, 2421540000000.0, 2856362577247.9463, 2421540000000.0, 2691781691306.1523, 2645826684569.879, 2960100000000.0, 2630173256529.168, 2498347614818.7363, 2545523978021.074, 2960100000000.0, 2824601120957.976, 2576427385687.628, 2615054571675.4917, 2421540000000.0, 2783256481922.3438, 2421540000000.0, 2885977093390.6772, 2712039653074.179, 2960100000000.0, 2421540000000.0, 2650186812442.4917, 2960100000000.0, 2960100000000.0, 2497830926373.578, 2737956575187.5107, 2678000015188.727, 2753839972957.4272, 2497215974502.61, 2653716165161.986, 2421540000000.0, 2713799169035.1055, 2800396409423.0024, 2617410374064.759, 2421540000000.0, 2954939560832.378, 2776615326040.915, 2490416167058.867, 2603562091129.7197, 2421540000000.0, 2421540000000.0, 2537611817049.031, 2960100000000.0, 2512000608892.166, 2854032732931.1924, 2537484025842.868, 2744513744916.2544, 2639967015407.019, 2921097449889.5044, 2538371323322.8745, 2421540000000.0, 2421540000000.0, 2539114298873.7856, 2421540000000.0, 2789298177195.4985, 2555913805401.744, 2960100000000.0, 2421540000000.0, 2732408618168.751, 2421540000000.0, 2548878266918.4033, 2715504069581.4985, 2421540000000.0, 2741470727230.649, 2960100000000.0, 2559059310835.5854, 2747762647018.3066, 2960100000000.0, 2634033264898.6465, 2526713014233.0117, 2421540000000.0, 2854253965536.136, 2647410820093.7246, 2421540000000.0, 2711491917810.9272, 2526027507807.9917, 2539988610775.536, 2844391534445.606, 2421540000000.0, 2960100000000.0, 2421540000000.0, 2506194475849.4126, 2960100000000.0, 2960100000000.0, 2703661442023.069, 2437691927621.2695, 2539774226616.794, 2697108101932.178, 2687506487348.4844, 2653305754194.634, 2669243849038.8477, 2620818330513.2817, 2421540000000.0, 2543009375319.8584, 2933234661463.38, 2421540000000.0, 2627314960700.675, 2467237879212.46, 2707371314684.27, 2575655672704.258, 2960100000000.0, 2816241418138.815, 2421540000000.0, 2862875992909.455, 2478362970767.094, 2527712264223.5034, 2762606681480.3423, 2549298817609.439, 2926872313625.4067, 2478398025518.451, 2517156932587.0083, 2507777580733.8354, 2530577628774.1226, 2960100000000.0, 2850784132198.103, 2960100000000.0, 2960100000000.0, 2421540000000.0, 2696339782307.6455, 2421540000000.0, 2477632772686.0015, 2514362359747.22, 2421540000000.0, 2421540000000.0, 2639206367551.399, 2421540000000.0, 2912098954498.5264, 2443236670559.5605, 2960100000000.0, 2559583649368.2065, 2696769758698.578, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2757952542319.2495, 2421540000000.0, 2734326405967.51, 2421540000000.0, 2960100000000.0, 2902548306201.538, 2703077630249.313, 2421540000000.0, 2427285968464.339, 2867601346196.134, 2960100000000.0, 2960100000000.0, 2421540000000.0, 2759228364823.5522, 2960100000000.0, 2421540000000.0, 2675355659701.841, 2751612110812.1074, 2598330549751.861, 2421540000000.0, 2591876134846.4873, 2591460606566.7607, 2638209303595.6104, 2531124782042.22, 2561722173298.059, 2666882159008.6816, 2798283676194.7866, 2597381534291.01, 2570261854988.4805, 2702245932246.1543, 2421540000000.0, 2807952893093.5317, 2677315583936.291, 2688088367997.2715, 2946757325068.0024, 2421540000000.0, 2421540000000.0, 2751601528924.4443, 2675565871105.9814, 2723304937929.592, 2556842291085.8794, 2860913521921.429, 2938510421342.4526, 2809899448587.5146, 2608702118054.775, 2421540000000.0, 2891002017574.8384, 2960100000000.0, 2855269924300.5083, 2452542641098.709, 2863608983159.865, 2917449601074.507, 2960100000000.0, 2453407000585.686, 2617662293354.1562, 2884674898323.1772, 2692843090109.8306, 2421540000000.0, 2790523873785.1475, 2836562951161.612, 2701062547424.724, 2736759910612.1597, 2609254511520.613, 2960100000000.0, 2447398338253.6455, 2525110384351.208, 2680401600422.26, 2922816367946.18, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2686212495302.121, 2421540000000.0, 2576704929877.385, 2860064504285.2827, 2511489654879.3936, 2739955028528.5527, 2598700352174.7983, 2863129110863.5137, 2807418781997.8438, 2498897157443.2153, 2632799095747.6304, 2960100000000.0, 2784617960456.703, 2421540000000.0, 2858421638765.4497, 2421540000000.0, 2960100000000.0, 2960100000000.0, 2756019092120.9478, 2719790899254.056, 2622215485850.5566, 2864960294613.0986, 2580247161314.085, 2741127208908.4717, 2920770467957.712, 2531545171495.0776, 2517848481793.0693, 2421540000000.0, 2421540000000.0, 2421540000000.0, 2879659960367.1714, 2960100000000.0, 2960100000000.0, 2421540000000.0, 2878231499765.5938, 2960100000000.0, 2558198767518.317, 2704698192442.3374, 2421540000000.0, 2749662305110.6387, 2421540000000.0, 2731319091001.9985, 2421540000000.0, 2826450410669.8477, 2960100000000.0, 2476255573405.1113, 2421540000000.0, 2421540000000.0, 2607249165804.2954, 2526553288087.784, 2421540000000.0, 2801234029061.5635, 2559944717659.107, 2421540000000.0, 2533372631707.6284, 2960100000000.0, 2843439996658.2905, 2642962745305.366, 2848029560289.585, 2421540000000.0, 2686125378521.9355, 2717103477928.7363, 2554876767871.9727, 2796331470998.6436, 2476934055866.662, 2817151071098.7744, 2828989184486.9893, 2421540000000.0, 2960100000000.0, 2421540000000.0, 2517884577192.826, 2960100000000.0, 2594051753208.179, 2421540000000.0, 2421540000000.0, 2960100000000.0, 2421540000000.0, 2960100000000.0, 2662789628962.9336, 2421540000000.0, 2526169949184.1665, 2421540000000.0, 2919107571624.478, 2880406625743.1606, 2421540000000.0, 2571815211966.024, 2456572003319.1997, 2960100000000.0, 2421540000000.0, 2960100000000.0, 2668588335762.938, 2421540000000.0, 2502553982940.494, 2471705150537.506, 2421540000000.0, 2702912570084.465, 2421540000000.0, 2421540000000.0, 2577957904837.807, 2421540000000.0, 2483929435633.5835, 2445345883238.0806, 2454604968589.695, 2960100000000.0, 2692574890521.7236, 2743808455690.0815, 2421540000000.0, 2508379964293.2974, 2735591112464.529, 2421540000000.0, 2931315518069.6084, 2421540000000.0, 2602065121353.309, 2525430075241.731, 2721714523510.0767, 2511753383041.3286, 2606084258714.562, 2615137088833.237, 2488337079488.8438, 2810211030479.9204, 2741897984031.9688, 2653903179343.582, 2564932125984.414, 2898887819569.57, 2615214265890.259, 2596793325363.976, 2705573178407.177, 2960100000000.0, 2421540000000.0, 2891181017093.3564, 2421540000000.0, 2736128880893.375, 2960100000000.0, 2811213265047.873, 2723426678110.462, 2531887890034.7427, 2685770937907.3794, 2610984124752.487, 2475564845967.39, 2601154362021.263, 2730977495495.25, 2480201681024.8, 2470555732604.607, 2421540000000.0, 2783881456744.121, 2827145494291.43, 2740058458448.2065, 2948061599225.0283, 2701036881406.545, 2784238571962.477, 2759857385169.2617, 2653128671561.5493, 2539381692059.9204, 2960100000000.0]
thresholds = [2421540000000.0, 2673966449240.3647, 2960100000000.0]
display_name = "Global Military Spending After 1% Treaty Reduction"
units = "USD/year"

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)
    
    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-global_military_spending_post_treaty_annual_2024.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Global Military Spending After 1% Treaty Reduction will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
