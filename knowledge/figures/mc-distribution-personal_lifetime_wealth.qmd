```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Personal Lifetime Wealth (Age 30, 1% Treaty) (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)

setup_chart_style()

# Simulation results
samples = [511777.6575392339, 344955.0739231269, 571879.6883156003, 604040.9194093931, 289516.5484459881, 327006.2736927796, 485227.65231225215, 427336.4090811684, 471371.44157882815, 379336.9336789908, 593623.6061819658, 582906.1868112796, 471371.44157882815, 633578.0783198251, 536851.9028397629, 362393.6841372837, 524493.8531474775, 362393.6841372837, 593623.6061819658, 457112.2631309969, 442438.05888284335, 395799.2200435298, 651922.0783091742, 442438.05888284335, 411794.5214556533, 427336.4090811684, 548862.2083691921, 524493.8531474775, 524493.8531474775, 524493.8531474775, 793551.4293227062, 411794.5214556533, 411794.5214556533, 379336.9336789908, 560534.8685972269, 633578.0783198251, 457112.2631309969, 379336.9336789908, 379336.9336789908, 560534.8685972269, 571879.6883156003, 548862.2083691921, 395799.2200435298, 498692.60228372074, 485227.65231225215, 498692.60228372074, 593623.6061819658, 498692.60228372074, 560534.8685972269, 471371.44157882815, 511777.6575392339, 560534.8685972269, 308532.0092987736, 427336.4090811684, 411794.5214556533, 395799.2200435298, 427336.4090811684, 693504.8805373413, 362393.6841372837, 614166.8381974853, 308532.0092987736, 427336.4090811684, 485227.65231225215, 548862.2083691921, 571879.6883156003, 582906.1868112796, 427336.4090811684, 411794.5214556533, 593623.6061819658, 442438.05888284335, 327006.2736927796, 344955.0739231269, 362393.6841372837, 536851.9028397629, 485227.65231225215, 571879.6883156003, 411794.5214556533, 485227.65231225215, 560534.8685972269, 427336.4090811684, 536851.9028397629, 395799.2200435298, 427336.4090811684, 427336.4090811684, 344955.0739231269, 536851.9028397629, 411794.5214556533, 471371.44157882815, 536851.9028397629, 536851.9028397629, 560534.8685972269, 457112.2631309969, 411794.5214556533, 457112.2631309969, 308532.0092987736, 327006.2736927796, 327006.2736927796, 362393.6841372837, 524493.8531474775, 362393.6841372837, 427336.4090811684, 660713.0761934052, 427336.4090811684, 571879.6883156003, 362393.6841372837, 442438.05888284335, 362393.6841372837, 427336.4090811684, 593623.6061819658, 289516.5484459881, 524493.8531474775, 498692.60228372074, 395799.2200435298, 327006.2736927796, 485227.65231225215, 411794.5214556533, 498692.60228372074, 471371.44157882815, 708571.7035367475, 442438.05888284335, 362393.6841372837, 498692.60228372074, 498692.60228372074, 669259.8740210931, 593623.6061819658, 511777.6575392339, 685648.9987092523, 344955.0739231269, 395799.2200435298, 362393.6841372837, 427336.4090811684, 327006.2736927796, 560534.8685972269, 442438.05888284335, 308532.0092987736, 362393.6841372837, 511777.6575392339, 593623.6061819658, 772519.0758571131, 891701.3099435268, 524493.8531474775, 362393.6841372837, 269943.6869474068, 511777.6575392339, 379336.9336789908, 411794.5214556533, 395799.2200435298, 457112.2631309969, 624009.8205822166, 485227.65231225215, 442438.05888284335, 344955.0739231269, 308532.0092987736, 411794.5214556533, 457112.2631309969, 736295.5211959844, 485227.65231225215, 614166.8381974853, 411794.5214556533, 344955.0739231269, 362393.6841372837, 379336.9336789908, 793551.4293227062, 379336.9336789908, 593623.6061819658, 362393.6841372837, 604040.9194093931, 524493.8531474775, 442438.05888284335, 457112.2631309969, 395799.2200435298, 536851.9028397629, 411794.5214556533, 344955.0739231269, 327006.2736927796, 498692.60228372074, 708571.7035367475, 485227.65231225215, 457112.2631309969, 511777.6575392339, 660713.0761934052, 498692.60228372074, 411794.5214556533, 633578.0783198251, 524493.8531474775, 701143.6840837477, 498692.60228372074, 344955.0739231269, 327006.2736927796, 715795.0498278713, 729651.2822358714, 442438.05888284335, 427336.4090811684, 685648.9987092523, 344955.0739231269, 362393.6841372837, 560534.8685972269, 427336.4090811684, 471371.44157882815, 442438.05888284335, 511777.6575392339, 677569.5556569297, 485227.65231225215, 560534.8685972269, 269943.6869474068, 457112.2631309969, 379336.9336789908, 344955.0739231269, 362393.6841372837, 427336.4090811684, 604040.9194093931, 327006.2736927796, 471371.44157882815, 411794.5214556533, 427336.4090811684, 614166.8381974853, 548862.2083691921, 669259.8740210931, 442438.05888284335, 379336.9336789908, 442438.05888284335, 498692.60228372074, 498692.60228372074, 344955.0739231269, 485227.65231225215, 498692.60228372074, 844548.7578244737, 755157.4259088933, 379336.9336789908, 427336.4090811684, 308532.0092987736, 395799.2200435298, 511777.6575392339, 651922.0783091742, 379336.9336789908, 395799.2200435298, 269943.6869474068, 442438.05888284335, 344955.0739231269, 411794.5214556533, 362393.6841372837, 457112.2631309969, 289516.5484459881, 308532.0092987736, 793551.4293227062, 327006.2736927796, 344955.0739231269, 749043.3981033978, 889286.3752066885, 344955.0739231269, 427336.4090811684, 511777.6575392339, 729651.2822358714, 362393.6841372837, 442438.05888284335, 582906.1868112796, 524493.8531474775, 427336.4090811684, 457112.2631309969, 327006.2736927796, 442438.05888284335, 442438.05888284335, 498692.60228372074, 395799.2200435298, 536851.9028397629, 614166.8381974853, 485227.65231225215, 511777.6575392339, 471371.44157882815, 471371.44157882815, 379336.9336789908, 511777.6575392339, 457112.2631309969, 788507.0513464762, 708571.7035367475, 524493.8531474775, 379336.9336789908, 344955.0739231269, 642879.5840598383, 498692.60228372074, 536851.9028397629, 289516.5484459881, 604040.9194093931, 536851.9028397629, 344955.0739231269, 411794.5214556533, 498692.60228372074, 471371.44157882815, 427336.4090811684, 457112.2631309969, 442438.05888284335, 485227.65231225215, 693504.8805373413, 249796.7345675482, 442438.05888284335, 498692.60228372074, 511777.6575392339, 427336.4090811684, 289516.5484459881, 511777.6575392339, 729651.2822358714, 308532.0092987736, 593623.6061819658, 427336.4090811684, 457112.2631309969, 344955.0739231269, 427336.4090811684, 660713.0761934052, 548862.2083691921, 729651.2822358714, 642879.5840598383, 524493.8531474775, 729651.2822358714, 524493.8531474775, 582906.1868112796, 427336.4090811684, 471371.44157882815, 379336.9336789908, 614166.8381974853, 344955.0739231269, 582906.1868112796, 442438.05888284335, 642879.5840598383, 571879.6883156003, 742757.8025961991, 571879.6883156003, 308532.0092987736, 457112.2631309969, 344955.0739231269, 411794.5214556533, 693504.8805373413, 560534.8685972269, 379336.9336789908, 362393.6841372837, 471371.44157882815, 344955.0739231269, 395799.2200435298, 511777.6575392339, 642879.5840598383, 560534.8685972269, 269943.6869474068, 511777.6575392339, 485227.65231225215, 524493.8531474775, 715795.0498278713, 269943.6869474068, 395799.2200435298, 548862.2083691921, 308532.0092987736, 693504.8805373413, 524493.8531474775, 593623.6061819658, 395799.2200435298, 582906.1868112796, 624009.8205822166, 498692.60228372074, 498692.60228372074, 511777.6575392339, 362393.6841372837, 457112.2631309969, 442438.05888284335, 524493.8531474775, 614166.8381974853, 344955.0739231269, 457112.2631309969, 693504.8805373413, 379336.9336789908, 379336.9336789908, 498692.60228372074, 593623.6061819658, 471371.44157882815, 669259.8740210931, 593623.6061819658, 593623.6061819658, 548862.2083691921, 821102.6982385803, 442438.05888284335, 269943.6869474068, 708571.7035367475, 411794.5214556533, 485227.65231225215, 660713.0761934052, 308532.0092987736, 327006.2736927796, 308532.0092987736, 379336.9336789908, 524493.8531474775, 536851.9028397629, 511777.6575392339, 327006.2736927796, 269943.6869474068, 471371.44157882815, 411794.5214556533, 536851.9028397629, 571879.6883156003, 485227.65231225215, 582906.1868112796, 498692.60228372074, 548862.2083691921, 379336.9336789908, 442438.05888284335, 498692.60228372074, 582906.1868112796, 427336.4090811684, 536851.9028397629, 442438.05888284335, 457112.2631309969, 593623.6061819658, 269943.6869474068, 327006.2736927796, 308532.0092987736, 249796.7345675482, 395799.2200435298, 571879.6883156003, 427336.4090811684, 498692.60228372074, 633578.0783198251, 669259.8740210931, 457112.2631309969, 669259.8740210931, 485227.65231225215, 379336.9336789908, 395799.2200435298, 308532.0092987736, 362393.6841372837, 427336.4090811684, 582906.1868112796, 729651.2822358714, 327006.2736927796, 524493.8531474775, 344955.0739231269, 536851.9028397629, 457112.2631309969, 289516.5484459881, 604040.9194093931, 395799.2200435298, 411794.5214556533, 344955.0739231269, 395799.2200435298, 524493.8531474775, 442438.05888284335, 511777.6575392339, 524493.8531474775, 669259.8740210931, 427336.4090811684, 308532.0092987736, 624009.8205822166, 427336.4090811684, 633578.0783198251, 524493.8531474775, 457112.2631309969, 511777.6575392339, 766890.5104919646, 783322.995235749, 485227.65231225215, 485227.65231225215, 624009.8205822166, 379336.9336789908, 511777.6575392339, 471371.44157882815, 511777.6575392339, 379336.9336789908, 308532.0092987736, 269943.6869474068, 344955.0739231269, 411794.5214556533, 427336.4090811684, 761104.8551984255, 633578.0783198251, 362393.6841372837, 511777.6575392339, 411794.5214556533, 427336.4090811684, 498692.60228372074, 560534.8685972269, 427336.4090811684, 624009.8205822166, 344955.0739231269, 471371.44157882815, 854943.5556949588, 498692.60228372074, 685648.9987092523, 485227.65231225215, 548862.2083691921, 457112.2631309969, 442438.05888284335, 379336.9336789908, 524493.8531474775, 379336.9336789908, 560534.8685972269, 624009.8205822166, 524493.8531474775, 427336.4090811684, 536851.9028397629, 427336.4090811684, 604040.9194093931, 289516.5484459881, 427336.4090811684, 269943.6869474068, 308532.0092987736, 669259.8740210931, 593623.6061819658, 379336.9336789908, 308532.0092987736, 229058.50044119952, 395799.2200435298, 833294.7732624541, 524493.8531474775, 395799.2200435298, 536851.9028397629, 308532.0092987736, 427336.4090811684, 485227.65231225215, 457112.2631309969, 582906.1868112796, 511777.6575392339, 560534.8685972269, 395799.2200435298, 604040.9194093931, 715795.0498278713, 362393.6841372837, 362393.6841372837, 669259.8740210931, 442438.05888284335, 677569.5556569297, 411794.5214556533, 685648.9987092523, 485227.65231225215, 498692.60228372074, 701143.6840837477, 427336.4090811684, 362393.6841372837, 411794.5214556533, 536851.9028397629, 308532.0092987736, 560534.8685972269, 411794.5214556533, 642879.5840598383, 249796.7345675482, 379336.9336789908, 308532.0092987736, 379336.9336789908, 498692.60228372074, 442438.05888284335, 442438.05888284335, 442438.05888284335, 498692.60228372074, 362393.6841372837, 571879.6883156003, 560534.8685972269, 524493.8531474775, 548862.2083691921, 511777.6575392339, 777995.0989997863, 457112.2631309969, 427336.4090811684, 379336.9336789908, 344955.0739231269, 327006.2736927796, 362393.6841372837, 457112.2631309969, 511777.6575392339, 471371.44157882815, 379336.9336789908, 604040.9194093931, 571879.6883156003, 442438.05888284335, 395799.2200435298, 548862.2083691921, 498692.60228372074, 327006.2736927796, 457112.2631309969, 498692.60228372074, 362393.6841372837, 498692.60228372074, 308532.0092987736, 669259.8740210931, 651922.0783091742, 442438.05888284335, 524493.8531474775, 249796.7345675482, 344955.0739231269, 427336.4090811684, 344955.0739231269, 571879.6883156003, 772519.0758571131, 344955.0739231269, 379336.9336789908, 498692.60228372074, 708571.7035367475, 344955.0739231269, 498692.60228372074, 742757.8025961991, 308532.0092987736, 327006.2736927796, 411794.5214556533, 411794.5214556533, 582906.1868112796, 498692.60228372074, 289516.5484459881, 536851.9028397629, 395799.2200435298, 660713.0761934052, 395799.2200435298, 395799.2200435298, 548862.2083691921, 582906.1868112796, 536851.9028397629, 308532.0092987736, 548862.2083691921, 344955.0739231269, 498692.60228372074, 327006.2736927796, 536851.9028397629, 379336.9336789908, 327006.2736927796, 571879.6883156003, 498692.60228372074, 395799.2200435298, 685648.9987092523, 411794.5214556533, 471371.44157882815, 511777.6575392339, 395799.2200435298, 536851.9028397629, 411794.5214556533, 411794.5214556533, 669259.8740210931, 344955.0739231269, 249796.7345675482, 708571.7035367475, 848105.4575518398, 411794.5214556533, 289516.5484459881, 427336.4090811684, 427336.4090811684, 442438.05888284335, 344955.0739231269, 548862.2083691921, 536851.9028397629, 308532.0092987736, 571879.6883156003, 777995.0989997863, 498692.60228372074, 427336.4090811684, 457112.2631309969, 560534.8685972269, 289516.5484459881, 485227.65231225215, 427336.4090811684, 749043.3981033978, 442438.05888284335, 722819.6559693115, 344955.0739231269, 548862.2083691921, 511777.6575392339, 362393.6841372837, 498692.60228372074, 651922.0783091742, 427336.4090811684, 308532.0092987736, 471371.44157882815, 362393.6841372837, 427336.4090811684, 457112.2631309969, 289516.5484459881, 308532.0092987736, 536851.9028397629, 411794.5214556533, 249796.7345675482, 582906.1868112796, 511777.6575392339, 379336.9336789908, 327006.2736927796, 593623.6061819658, 511777.6575392339, 825276.1198014528, 524493.8531474775, 524493.8531474775, 442438.05888284335, 582906.1868112796, 560534.8685972269, 651922.0783091742, 411794.5214556533, 411794.5214556533, 411794.5214556533, 582906.1868112796, 693504.8805373413, 411794.5214556533, 411794.5214556533, 511777.6575392339, 442438.05888284335, 604040.9194093931, 269943.6869474068, 379336.9336789908, 379336.9336789908, 269943.6869474068, 362393.6841372837, 362393.6841372837, 442438.05888284335, 633578.0783198251, 442438.05888284335, 362393.6841372837, 457112.2631309969, 624009.8205822166, 362393.6841372837, 362393.6841372837, 548862.2083691921, 442438.05888284335, 560534.8685972269, 471371.44157882815, 571879.6883156003, 344955.0739231269, 471371.44157882815, 442438.05888284335, 344955.0739231269, 308532.0092987736, 571879.6883156003, 427336.4090811684, 362393.6841372837, 457112.2631309969, 633578.0783198251, 269943.6869474068, 308532.0092987736, 362393.6841372837, 685648.9987092523, 511777.6575392339, 582906.1868112796, 344955.0739231269, 344955.0739231269, 536851.9028397629, 471371.44157882815, 548862.2083691921, 442438.05888284335, 511777.6575392339, 485227.65231225215, 582906.1868112796, 582906.1868112796, 308532.0092987736, 269943.6869474068, 614166.8381974853, 642879.5840598383, 362393.6841372837, 289516.5484459881, 485227.65231225215, 604040.9194093931, 742757.8025961991, 536851.9028397629, 427336.4090811684, 362393.6841372837, 471371.44157882815, 427336.4090811684, 362393.6841372837, 777995.0989997863, 736295.5211959844, 633578.0783198251, 362393.6841372837, 593623.6061819658, 560534.8685972269, 524493.8531474775, 651922.0783091742, 560534.8685972269, 571879.6883156003, 560534.8685972269, 511777.6575392339, 289516.5484459881, 485227.65231225215, 395799.2200435298, 327006.2736927796, 722819.6559693115, 729651.2822358714, 669259.8740210931, 498692.60228372074, 669259.8740210931, 471371.44157882815, 498692.60228372074, 344955.0739231269, 524493.8531474775, 471371.44157882815, 327006.2736927796, 457112.2631309969, 457112.2631309969, 742757.8025961991, 593623.6061819658, 471371.44157882815, 498692.60228372074, 471371.44157882815, 442438.05888284335, 344955.0739231269, 457112.2631309969, 379336.9336789908, 327006.2736927796, 536851.9028397629, 524493.8531474775, 289516.5484459881, 457112.2631309969, 614166.8381974853, 624009.8205822166, 614166.8381974853, 471371.44157882815, 379336.9336789908, 344955.0739231269, 511777.6575392339, 524493.8531474775, 660713.0761934052, 633578.0783198251, 457112.2631309969, 327006.2736927796, 427336.4090811684, 498692.60228372074, 442438.05888284335, 395799.2200435298, 498692.60228372074, 411794.5214556533, 395799.2200435298, 511777.6575392339, 411794.5214556533, 498692.60228372074, 511777.6575392339, 344955.0739231269, 411794.5214556533, 685648.9987092523, 344955.0739231269, 269943.6869474068, 289516.5484459881, 471371.44157882815, 471371.44157882815, 457112.2631309969, 651922.0783091742, 249796.7345675482, 524493.8531474775, 701143.6840837477, 344955.0739231269, 427336.4090811684, 379336.9336789908, 362393.6841372837, 427336.4090811684, 685648.9987092523, 749043.3981033978, 427336.4090811684, 755157.4259088933, 471371.44157882815, 736295.5211959844, 457112.2631309969, 485227.65231225215, 524493.8531474775, 916473.4748133803, 593623.6061819658, 379336.9336789908, 614166.8381974853, 427336.4090811684, 411794.5214556533, 604040.9194093931, 471371.44157882815, 511777.6575392339, 471371.44157882815, 511777.6575392339, 524493.8531474775, 289516.5484459881, 560534.8685972269, 362393.6841372837, 327006.2736927796, 457112.2631309969, 485227.65231225215, 379336.9336789908, 593623.6061819658, 327006.2736927796, 411794.5214556533, 395799.2200435298, 457112.2631309969, 511777.6575392339, 362393.6841372837, 571879.6883156003, 471371.44157882815, 289516.5484459881, 289516.5484459881, 471371.44157882815, 442438.05888284335, 457112.2631309969, 471371.44157882815, 498692.60228372074, 604040.9194093931, 344955.0739231269, 344955.0739231269, 344955.0739231269, 511777.6575392339, 651922.0783091742, 411794.5214556533, 249796.7345675482, 289516.5484459881, 379336.9336789908, 395799.2200435298, 411794.5214556533, 471371.44157882815, 427336.4090811684, 624009.8205822166, 395799.2200435298, 362393.6841372837, 536851.9028397629, 308532.0092987736, 524493.8531474775, 485227.65231225215, 457112.2631309969, 708571.7035367475, 395799.2200435298, 783322.995235749, 442438.05888284335, 327006.2736927796, 485227.65231225215, 344955.0739231269, 379336.9336789908, 524493.8531474775, 548862.2083691921, 395799.2200435298, 614166.8381974853, 642879.5840598383, 685648.9987092523, 548862.2083691921, 669259.8740210931, 289516.5484459881, 427336.4090811684, 362393.6841372837, 485227.65231225215, 395799.2200435298, 442438.05888284335, 755157.4259088933, 442438.05888284335, 524493.8531474775, 442438.05888284335, 485227.65231225215, 471371.44157882815, 536851.9028397629, 642879.5840598383, 715795.0498278713, 511777.6575392339, 548862.2083691921, 344955.0739231269, 457112.2631309969, 604040.9194093931, 593623.6061819658, 498692.60228372074, 593623.6061819658, 536851.9028397629, 642879.5840598383, 511777.6575392339, 427336.4090811684, 511777.6575392339, 229058.50044119952, 524493.8531474775, 207711.2780547128, 289516.5484459881, 536851.9028397629, 536851.9028397629, 344955.0739231269, 379336.9336789908, 677569.5556569297, 411794.5214556533, 807886.3180777268, 471371.44157882815, 524493.8531474775, 715795.0498278713, 485227.65231225215, 362393.6841372837, 457112.2631309969, 471371.44157882815, 327006.2736927796, 442438.05888284335, 379336.9336789908, 604040.9194093931, 471371.44157882815, 427336.4090811684, 457112.2631309969, 498692.60228372074, 560534.8685972269, 362393.6841372837, 344955.0739231269, 633578.0783198251, 411794.5214556533, 327006.2736927796, 524493.8531474775, 536851.9028397629, 308532.0092987736, 498692.60228372074, 571879.6883156003, 524493.8531474775, 560534.8685972269, 327006.2736927796, 511777.6575392339, 427336.4090811684, 411794.5214556533, 593623.6061819658, 693504.8805373413, 742757.8025961991, 660713.0761934052, 457112.2631309969, 511777.6575392339, 582906.1868112796, 485227.65231225215, 485227.65231225215, 582906.1868112796]  # Truncate for embedding
baseline = 511777.6575392339
mean = 483076.31377675483
std = 126910.54501263644
p5 = 308532.0092987736
p50 = 471371.44157882815
p95 = 715795.0498278713
display_name = "Personal Lifetime Wealth (Age 30, 1% Treaty)"
units = "usd"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('mc-distribution-personal_lifetime_wealth.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 5.118e+05 |
| Mean (expected value) | 4.831e+05 |
| Median (50th percentile) | 4.714e+05 |
| Standard Deviation | 1.269e+05 |
| 90% Confidence Interval | [3.085e+05, 7.158e+05] |

*The histogram shows the distribution of Personal Lifetime Wealth (Age 30, 1% Treaty) across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
