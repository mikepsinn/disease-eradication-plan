```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Expected Cost-Effectiveness vs Bed Nets Multiplier"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples

samples = [9.002646407155058, 0.8349837631231396, 0.68585598920699, 4.094112074873307, 2.721259380531777, 85.59826482630292, 1.179369965144093, 10.621545727911835, 1.3701183870468667, 0.8196467597844025, 13.720336969710036, 0.6836525613531402, 8.03855396374445, 0.6559953882296229, 2.667081284041924, 3.281352323701536, 0.7171125555766126, 0.8283613149358241, 2.1775074744711325, 0.7521694079917839, 0.7635573266578007, 1.2679566384039413, 0.6486310053611566, 32.51702369123512, 14.206996669258995, 0.77768517211894, 0.7036144821738424, 9.09680141011123, 3.966415816787874, 0.7119736082786117, 0.5764253801658714, 3.0044493499625435, 58.8660654544865, 1.5565633737720548, 1.5324833857118956, 13.527632519761408, 0.7575699420889971, 42.834845117104564, 0.8172825784902058, 51.01132682823691, 41.390114884619784, 9.064423731960723, 0.8040445915865839, 0.7284831456887663, 0.7381521279234006, 0.7296088380638687, 9.992062653704195, 0.7291987674397278, 0.6916457855156098, 0.7422765747633786, 0.723731941453391, 0.6955191650072854, 0.8680296200621497, 4.785912124729921, 56.2589844695296, 0.8018156139727712, 0.7711831968406601, 3.8651144463655576, 14.843424856883939, 4.81128401151219, 18.38023187856271, 0.776228866529398, 0.7342894533763633, 3.1789619647589076, 1.9394072810144176, 0.6824013165702157, 1.0634264931244766, 0.786982157014014, 27.74248879161177, 5.193466225634356, 4.008424105727451, 5.943890117074652, 1.2506218546408217, 0.7065031014479795, 35.61221894957419, 1.9573365895299903, 2.7580804133658248, 0.7346424575538583, 0.6959835478328659, 0.7740722112351718, 13.38185520346111, 3.567357345660475, 1.3263869498123873, 1.9233152437526062, 0.8475500022105406, 8.306834576886363, 12.841148615404201, 0.7469105284589609, 0.707854433492106, 10.641551422061411, 6.544862191316739, 3.546863696715058, 0.7836901001257713, 1.1148332304506734, 0.8852897864462872, 5.743907510956333, 0.8575950760970206, 0.8315004439871138, 0.714541669081353, 0.8239736392189133, 31.29005946834474, 0.6427652550947938, 25.406263756858525, 0.6869003190080885, 0.826288045065855, 8.752241699087788, 82.76347356192862, 2.4521577204847747, 3.107712595807571, 0.8881998803404834, 0.7116759302081, 0.8843455418731034, 1.2655741217543506, 0.8671774006277246, 6.88003651109978, 15.805474238525496, 0.7284401391418145, 35.136680088529204, 0.6201809638898519, 0.7681602168872149, 0.8336417746362046, 15.253165478412187, 0.729499513688074, 8.325446087511732, 0.679050585870861, 2.3730299213963266, 10.466465708672429, 0.8469845118611775, 0.8018887823967875, 0.8257093769259857, 2.486917044666198, 5.853657625637206, 0.6952044637548209, 16.382247387686554, 2.4687639967062793, 0.8329964340280174, 3.7134643702492633, 0.6788091639447382, 0.5909300483577737, 2.949919654221024, 8.14777589316391, 0.8308705911436237, 8.650838569269261, 9.177576200182203, 0.816326019571307, 1.2078681648469394, 0.7995714284593118, 0.7598358358146925, 8.06460059884463, 4.237362305404259, 0.7613424440000992, 12.478458793741822, 4.381399266322895, 0.789000081160488, 13.683103311029486, 3.1886731184491013, 0.73701204633667, 0.6673127835150441, 0.8892410555306612, 0.8466790985226382, 57.47025025366625, 7.677112114072773, 0.577724718026398, 11.158832690754794, 13.73379539228185, 3.449512867289906, 1.4330057288545233, 0.715769478860816, 0.9542162265055595, 0.7513969400586765, 0.8031475396028187, 0.710713895079404, 2.7567740910112923, 13.031605164462546, 0.8540713988256162, 0.7334656990803465, 0.6218423856230323, 0.7345208053441488, 0.7579658511270179, 0.7240062924307992, 9.223149496321009, 0.8007830128308906, 12.615433838817465, 0.6576253273766002, 0.7121442279433021, 4.925663496832896, 24.064632643025558, 2.1220705073141493, 0.8611489895523756, 4.189724338806847, 0.6113481110693412, 25.95632605895157, 0.7803063078458767, 8.951126723046594, 0.840418451559616, 0.8230878538264981, 0.6945386816923831, 25.236329135864047, 8.599598473470001, 8.515882027056408, 0.7197006976585548, 0.6345800452599232, 7.683930420208357, 4.281973360347091, 42.04244064507019, 0.7520676065826106, 0.8188350198245917, 21.90572270644825, 2.311530665660377, 1.5200722458996883, 0.6726058411718073, 20.83671172947291, 0.7453839547450258, 20.269669155965097, 0.7756198847136897, 10.83560949479416, 6.917027946775338, 0.639866292359303, 16.173696865702166, 0.8065881435092641, 0.7668511643472525, 0.7276200486527972, 2.042939605552852, 1.079841104380243, 1.3850656256340448, 0.728811690816328, 21.022960370543434, 0.6004754556773956, 22.52609883801497, 40.42052970602578, 14.17050251878107, 0.797777195722497, 0.7215271883881347, 0.6499146438222899, 46.02103045140332, 5.46164087479873, 0.9294154314346259, 0.7616828334286477, 42.692823200766256, 2.9318838473648454, 1.0645043758405022, 0.9581730889082392, 5.964252609848687, 0.8687875887808298, 0.5776479594679643, 30.563989432850555, 59.48171016254163, 0.6032848648774956, 0.48840296950048057, 1.039639013725114, 5.815901746181247, 31.093221969289544, 5.281753037901515, 0.8306514221342122, 2.6109071381787925, 17.726965960884563, 12.011304721315497, 0.779712920009811, 0.7592475940982262, 0.8616734494109999, 0.8868809748794173, 4.017840409107345, 1.0681441009804153, 0.7948061725179795, 0.708613162480532, 1.405562444289298, 0.7349030872798676, 0.718522811308473, 0.7434892448212803, 0.7479554353161191, 0.8087259016809281, 1.2404930371877896, 0.7561639790849668, 0.5812247357629362, 0.6276555033698362, 0.7156952661745157, 0.8121826468173623, 11.74602139394691, 0.6510483082950735, 1.137432145219877, 0.7079041269266029, 3.0181211727669184, 0.6716897291540536, 19.25838650068791, 0.8406917095687773, 8.304890812839618, 0.8512455782461769, 0.7435471475501391, 0.7726215811479135, 50.83011192568419, 14.387837598183216, 0.7658474308063962, 14.002603151059352, 2.2801149779282466, 3.067968797350863, 0.7331370789151211, 0.7231593878442681, 56.64770060100384, 3.3214865503228346, 0.7204968109225146, 0.6110835771253064, 3.4162855371515226, 29.695426902090823, 45.65042811075499, 0.753130484070979, 0.8360333911377689, 12.144132711619536, 2.7385674529329616, 1.3326909114447179, 18.423144707822527, 0.6521082464593332, 5.201122592749668, 0.6098946954898865, 0.7112984567390088, 1.3532087464149098, 0.77299319900934, 2.126240946570871, 0.8067118392966667, 10.822705856092163, 27.910607437751032, 0.6832857109820231, 0.7640462288965759, 0.6525846747699509, 0.6858222785784651, 27.230122595922097, 0.6874449892402582, 0.8767474666273132, 6.36497195781804, 48.24285995793589, 1.9536412112578898, 1.3035061387623643, 0.730386784014613, 0.8672607236958156, 0.8328446311958824, 2.6832738359048975, 0.8492027845626923, 2.8114020707065017, 0.721826315816312, 51.607601638021215, 0.9225977575317296, 2.357680915764133, 4.849486471599669, 0.7419021715322482, 1.654406754949897, 1.1061029807325926, 0.9182375104687914, 1.607135746569036, 14.731512976208851, 5.561869409027539, 5.549668563446931, 0.835699585427512, 1.637301424932893, 0.7961180444073154, 0.6807617042045158, 0.6605768402643498, 11.612587872904403, 1.3556500127812348, 0.7252967260835869, 2.080257166179938, 1.2749541476616213, 0.7608263372972845, 8.926860363813374, 1.3970505695398807, 8.814993330405068, 21.280826193676354, 1.0765608897617727, 1.6856338623399594, 21.423020935008687, 14.393386939316644, 0.6783082829704747, 2.5204618040283076, 0.6405059167011269, 0.6773160708346563, 0.6785135359058325, 0.701825846933456, 0.7344512474969405, 0.7652718413843573, 2.9202759289112223, 0.9119172471589048, 0.7865901295632257, 4.544504611386167, 0.641979910704661, 1.6558718335510576, 0.8519910685367168, 0.8789342180061, 29.68806180845723, 0.7112453121699599, 10.31873961859806, 15.690754971540269, 0.864610823349229, 21.451021569723714, 29.664611514641326, 8.741947047897575, 1.3385946643403124, 8.377865118565078, 8.626208867710709, 54.930536535474594, 0.7287295660120902, 0.7037987308312795, 17.87304479852445, 0.7631138552358093, 5.7174889206562725, 5.449539673387687, 0.7811968585856681, 61.01129307057527, 12.49370836998616, 16.49538823899013, 52.18470488883132, 3.0072025851270165, 0.8555333056992082, 4.637681003399586, 39.955891210746074, 0.805111097386029, 0.6859380748795502, 11.416480320506896, 2.2740862964212125, 1.3777830836973377, 0.6406025893085955, 7.4460998010170965, 0.6386410555132853, 0.740213999649864, 5.9223305244965525, 8.343175595235392, 1.641034831930601, 1.240274793209728, 1.1411944664831486, 1.8829288915643803, 0.611556129458733, 1.520434578576251, 0.7151169346941542, 1.583241103518642, 3.2142010957541145, 4.846888892014848, 10.881186130413699, 0.67162159404063, 3.7052886778707403, 0.7930050204900707, 1.3696448158904317, 17.00654886147304, 2.561920612128015, 0.7639274182835998, 1.031822155111551, 0.7176790828950653, 0.6411357004059831, 0.7768959966330174, 0.9338715116848005, 23.349491267586902, 2.250117127814055, 9.07083496506749, 0.7158999034546522, 0.7590208974863487, 1.2182651205140558, 8.758235734593542, 3.152123030233922, 1.2749461704280964, 31.447990323418832, 31.285437487852825, 81.9036136208025, 0.7200749870785196, 0.8712952367578559, 0.7216683457925932, 2.334662583188235, 0.87805998939152, 73.12118365852525, 0.8412526930137728, 49.30540522283518, 0.7727077671805171, 0.5962607384590345, 0.657648330489937, 1.26997914937028, 23.90570253075967, 0.7823220450962916, 2.1024006829814326, 0.7628443124140218, 0.6965069735093496, 0.7765981459838205, 2.06810538862598, 12.251126773727185, 13.067332703798582, 0.5251323538376147, 0.7292418682730635, 18.507834623980628, 1.3410552329157976, 0.6996429632009161, 75.27475646136514, 2.0295708799419265, 2.6957907949209012, 0.7120165500678369, 0.8195221681212028, 0.6927282960140146, 14.380614758017579, 0.717296649693382, 0.7721213393840799, 44.640134374359114, 0.7740153316765157, 35.44667670405102, 0.8956381532431538, 0.9100492519449902, 0.9086270048785017, 2.3966444515667837, 8.541449034255379, 7.889794364080906, 0.8085526100232303, 9.389978792493059, 1.1948080087945323, 1.054889418850098, 16.645013613663853, 0.7817054325196485, 0.7951628543419599, 0.7091455851343214, 18.051677661703863, 14.917987960465824, 0.7395966784471844, 4.011508395021823, 0.6826056012630949, 23.175488706816985, 8.174323666904165, 20.177993965252686, 0.6740443037725564, 0.6181992530388688, 26.900666446457524, 0.8225081744466793, 0.6399885746206319, 0.7641047529847503, 0.6348549589233091, 0.7853120852286394, 0.6310198965702676, 0.7369104463351471, 25.84729420734379, 4.549040712829817, 2.9497316691493096, 8.857993266074532, 12.919700356977069, 1.693908498917909, 1.297588000339073, 0.6950154997439107, 0.7934145966388814, 3.181630480462647, 0.9970367132349788, 1.203979452112156, 1.981022607462404, 0.8174274219513608, 0.7271885406419886, 0.7630813590009357, 0.7693446959750871, 2.6560489697430576, 0.7703896977893888, 3.0119543785277982, 6.132253790966936, 20.01169358691214, 0.7157622721671755, 0.7016277804316791, 1.2538289832974736, 0.5870460360296619, 1.0053431616195374, 0.7902559513385872, 0.8113896146480372, 0.8343555286698396, 6.360517361770969, 4.6002356383715055, 2.399520674948585, 38.88737004318909, 0.7436585519316087, 81.23887882681234, 0.6738557408067202, 37.29468435344968, 0.7614280227322046, 7.4095182285317795, 8.295702887867368, 49.48702533828561, 10.689250194206112, 3.1917362225096335, 2.68458558260301, 11.668173765987678, 0.7320211978011975, 5.619557644097092, 3.490031015240759, 18.03971120158634, 0.7692720297179982, 31.695454099694494, 1.002030635328837, 4.2331750849847065, 32.328526068615744, 0.8375940473207325, 5.021040855808558, 0.5908725076095629, 6.385959880467233, 0.8183577400164513, 0.728208605722293, 2.3678881268899055, 0.8496657397215639, 3.5779378188266677, 45.38906340699883, 0.8826774101679281, 0.8543186801060166, 0.7837160985690904, 5.960149589077584, 0.6808549729789712, 3.0443498969399996, 5.198134536661337, 5.7519377261682925, 23.086108863640735, 14.634256337723839, 0.8008698357235021, 0.8016261192151809, 19.448729274751994, 0.684849932749963, 0.7105465470278544, 0.8851627292397248, 5.561289819040804, 1.9777547940223803, 0.7282229919771394, 18.45658860072802, 0.710693259701395, 1.8707225884870011, 0.8544422507736787, 0.6888163194831283, 18.675066390563103, 15.946473569221551, 1.006097200047279, 57.314854426987544, 0.7452597409904814, 0.7254159415504022, 0.8002059678687662, 1.5573924492986486, 2.190531699020306, 0.7827066977112435, 2.1572249057006085, 6.555192787979598, 1.0029445963553183, 0.6195118369709872, 13.121633777905135, 10.74731644919942, 0.9029564597646866, 0.7741682721723635, 0.7721191629522169, 2.5398750295272574, 1.1639006914079038, 0.6997424286787283, 0.7042550555931674, 1.3237976700033764, 10.972608674988827, 0.585273208617523, 10.009022843030326, 10.677416995827164, 2.608603426196143, 0.6968262763240884, 14.012309625870142, 10.722029321961612, 0.7809203358261606, 0.6025154119362182, 0.7626545462827862, 2.0342492280925932, 0.8401515557634258, 3.289280996563141, 5.176691414957299, 0.8209692024466027, 0.7330630901441693, 0.7825422117435414, 0.7752921220215235, 1.7623282600031729, 0.7494418877830685, 7.357449579786829, 0.7768584065546235, 1.160222057102003, 0.886626407590304, 0.8800047623324775, 10.451426784513174, 8.866047145079886, 1.052680006518242, 0.8317364007832323, 3.964817602873288, 0.8080850072500966, 0.8571343811659383, 2.188431834408968, 0.7187225608205314, 3.578776545497032, 0.712852528533147, 29.43181944659361, 4.6955190217104645, 3.041677080502711, 5.823651453577315, 18.72826156896769, 0.7919471826825679, 4.309154697096578, 6.658950630397583, 30.977175563686156, 0.6277964111553781, 0.7866862845124583, 0.7838145204659273, 18.834970626258105, 37.87786545771288, 0.6697384681586309, 5.414104578751236, 0.8174668229623875, 4.553388368577025, 20.55126991556738, 22.257760768133792, 5.353718141016999, 3.466135640373532, 10.866884273947555, 1.6571125365991726, 0.8342375828379249, 7.940938656582862, 8.670497654111623, 10.6966641467392, 0.824393176755631, 2.775917135338879, 19.60889337095393, 0.6942002564517249, 7.4419903087169414, 4.959087157458488, 1.6293542083767696, 3.2072378293437684, 0.7657388016536777, 1.8205455451833936, 0.8761045403651031, 23.536324631715633, 0.7775854534091013, 51.45853521666789, 44.69021071574727, 0.6559349670696232, 11.90934414659225, 1.2447365470689604, 45.67379460401694, 0.6305624578547239, 0.724276180219715, 5.87571260177675, 0.8430870872533199, 6.671516574677482, 0.7105701274689266, 0.7430588074419094, 0.7022666662056767, 7.45807613831542, 0.7246464645646742, 10.26646954553234, 19.217990431387744, 17.19273438274117, 0.8803178142136593, 0.9512952127694156, 0.6658142282854843, 0.6513119825037204, 83.34075675409974, 24.55432844916083, 53.73787084509875, 0.6714199429946526, 0.6060684641953814, 2.344328445836468, 2.671795480869851, 12.953344526940691, 36.744262446441304, 0.7732207158826796, 13.80682390523829, 0.5856681329135927, 0.6069517111258178, 0.6553113852542978, 1.1773169583976297, 0.677457902944051, 0.6948399616776839, 40.425471954474695, 0.646550056665, 0.695186527258017, 0.686698503669038, 0.6950614862823892, 0.7194334376345635, 74.88813280256069, 5.7394403890300065, 0.7948788331295344, 4.811572764457206, 0.6143629893817593, 61.09655095422875, 0.6382151632776265, 0.7265586762889968, 0.6388649641754518, 3.4877516051363338, 0.730937477722542, 1.2893910523889094, 13.173750652175002, 0.7428812699878422, 0.8560198411360882, 21.78298259609163, 27.083787808494645, 3.9206767333404273, 0.8700700573319452, 0.7469988151011349, 1.61050649357912, 0.7442413829087672, 0.7650819873445796, 1.014197237683894, 1.8209670127555986, 1.0418287245987914, 34.36620762881405, 2.1292878402911857, 0.7152463844122686, 9.193723046702246, 0.7583073783782636, 20.77286366527391, 1.756843762024085, 1.5333383716761586, 3.6603497906486115, 22.029135461721328, 0.8385309211304438, 40.06551737482414, 0.7162394846150457, 0.6436716617583524, 0.6581168725179192, 6.712088657671022, 7.731540143251255, 41.716499899152616, 1.1182423602597336, 13.669033309744291, 0.7967016817666395, 3.1128114254373784, 14.609240263245288, 1.5479066901127554, 7.415060580336743, 0.7818930212584377, 17.514834205422574, 7.4515931900428924, 0.8852354289669613, 4.917363259761696, 3.7370175068415272, 48.83898804339626, 2.09770271893231, 0.8977741705385502, 0.7455119901058161, 0.7453599067726211, 14.843679139979617, 0.6492730941190183, 1.0894567672382005, 14.252061568229129, 1.5177470185457602, 42.45338058169999, 1.5671708558111181, 1.5432765674695048, 0.8230564547374103, 0.7755007264860708, 0.6330800526617132, 8.4513084331772, 1.4394682039315911, 0.5985010325340467, 24.449498396683047, 0.6091966729719499, 0.7558274974446036, 0.7369463442542893, 24.585602874476233, 0.4441755911922261, 0.6777563825359754, 2.7953462648234364, 0.6683981049699412, 1.0761091522174402, 0.7892899352369607, 0.6731861941644484, 10.114805450616274, 23.587037565852555, 0.7467849979522861, 0.8880554345999786, 25.22061587198763, 0.9905929957491568, 3.627398030638396, 0.8302558172090663, 3.822337795940502, 0.7528848418817046, 0.7408982456083261, 0.8634641415593884, 1.9528273695255358, 0.8591207431256185, 0.7823107000390475, 9.378817185641104, 7.672174804877544, 14.160661869559268, 2.31392425869806, 16.15922189345265, 10.3581399313266, 2.9582403058446722, 0.9044376139567188, 0.749000151119332, 0.766606916714201, 1.4424057248488424, 0.7503198327575467, 0.7290346370816086, 1.5423588536973012, 46.39505864518611, 10.460657630872744, 14.777490548836244, 39.519949423597865, 0.6469115243107267, 0.7843681579918993, 6.253535458722149, 0.8865055689304163, 0.8179912419317175, 36.603591321182215, 2.6547850901403893, 0.7799161663035614, 11.930645808121936, 7.95740485981978, 39.016084053189225, 0.8204133189834766, 9.962211686176957, 6.397362132294056, 7.715783629792316, 0.7393384250354459, 0.7603974145183838, 0.621169130673748, 0.8004189829008982, 0.5845090285341018, 0.7669840058291457, 1.0176799044722118, 1.1074559695225328, 19.904211025925925, 5.7996413479012885, 3.9671251131241143, 0.7017057382863988, 2.605278577289558, 15.031380273187478, 1.2361966615982678, 0.6324201910400837, 1.0737387835064216, 22.627546574190827, 19.47638193700545, 3.302691292975335, 0.8208005521565876, 0.7379389785991122, 4.134624082524524, 0.7619777051977269, 60.01017810715055, 3.3379792766300596, 0.713381549432631, 0.7675616153377421, 0.7415929302108416, 0.7474558922523458, 0.7105279980001098, 5.380198450003937, 0.6168568813389131, 1.1770235472624115, 0.6989258550560349, 1.626568359053136, 0.7553700608530777, 0.6706704224897834, 3.393517945495802, 0.73020057350715, 8.534326921965535, 21.21703574953201, 4.483357075611615, 0.7237119698667924, 0.7779861118070079, 14.083982928908167, 56.92234142174723, 0.7159406267545025, 12.064168232658412, 22.97492018558421, 14.948353126612094, 8.04849509775002, 0.8448756669634431, 0.8079370916843654, 3.01593559720553, 0.7888082674921475, 30.326283746563213, 0.7481242244317231, 0.7138578014122536, 3.829510346968095, 4.318731113869062, 0.8319166622347302, 1.690039465069311, 1.6255600939224997, 27.97485128292627, 12.337417342279165, 0.81044570787688, 26.705875454732983, 1.9477941681406639, 19.663912685295227, 2.201415974855996, 0.7292383359204968, 0.8084106645520194, 1.5767041777817663, 0.8351141664738104, 0.6577506923507777, 0.7827656197779872, 1.6821369159816386, 0.7109004467354485, 70.92866289188085, 0.8736340749774111, 0.728706981102947, 6.378327671185126, 1.8833672774663666, 0.6954626774073347, 4.738768637947818, 0.7202437252769771, 0.7735040845215589, 0.7887038434253739, 5.970750844095796, 0.6292150342325905, 0.6062974959274751, 0.6415803234975717, 0.7572143651628575, 16.362396736662102, 10.575979604647358, 0.7377751794419923, 0.7369709752565989, 0.6799605789651143, 56.77911460310334, 6.38901855990339, 14.807713106331525, 0.6953055250761232, 0.7477104743846542, 3.6987617028754127, 18.65858553739856, 0.7796019710973346, 0.9132620174614717, 0.8655754345850408, 0.850654966796052, 34.709803763083414, 0.7902155418588663, 34.63832955219007, 8.998709391678851, 0.8334419679110988, 13.008558351541488, 0.7710740836599831, 0.7763932611305859, 0.6964636789318631, 7.80493768144505, 2.251115163559518, 28.29950135227467, 1.0686628208622633, 7.5612300371748775, 4.260228102529126, 0.9341623972046539, 0.7449272026656991, 0.7483527252004109, 1.0253275909300188, 0.6513189811047394, 6.2713933165062254, 8.467521888590557, 0.7074908572668169, 0.7925018952089684, 0.7480798252220924, 9.252916150774842, 2.264439522644796, 0.6814106384101233, 0.691768545540185, 44.5283576864568, 2.152114534245172, 0.6900517582564357, 24.464266768482453, 1.602855121145034, 82.01561557289932, 0.7933213743856612, 14.940132611447645, 0.8280942653361895, 0.7114207778052577, 0.8512063567242254, 0.7651795103527208, 6.269272409109555, 0.5417929338346185, 2.3264146218808595, 0.629755223417349, 1.5424360462368987, 1.469515117130593, 0.7380126496517583, 0.7108249709512529, 0.7609245006096749, 0.6310941709665124, 0.7864866220310827, 2.797886195289176, 3.787654130264296, 2.150624152905034, 15.529604597077665, 0.7099750867975548, 8.793048576640299, 0.7544825744228016, 9.95949725257938, 0.8410295007353176, 2.454963222961117, 0.8783010971301948, 1.575981824904207, 15.909941673970705, 1.4922438167532963, 0.5024322603499498, 0.7974312598542734, 0.6324951159498168, 5.579003218765331, 0.7607186942053749, 5.156471446229875, 0.742752591917256, 0.7386800489448534, 0.7824279031829597, 0.8634762342069315, 0.8746094914415394, 0.6937315993976089, 0.7713147876055672, 0.798228787485632, 16.866134673657086, 0.7170235040187892, 3.5259166409348337, 1.1646477829090423, 10.291394175157778, 0.6218354728462263, 0.706717389650292, 8.408959548117663, 19.378310640655837, 0.6557733484119681, 1.7927728053600451, 0.6982067373592542, 0.7046531813320362, 24.518422856333636, 3.256986732132208, 3.551340865086997, 0.8148041303402026, 0.7288639622166608, 0.6786415798839869, 0.6286112009231595, 0.7708902654173059, 0.844058603818784, 0.7682515790966217, 1.6352496386076443, 39.052801279116345, 1.5641661871467147, 7.6036422904514, 0.7184997248893952, 3.7197498041078685, 2.230147803016701, 10.38463470350476, 0.8110803998066548, 0.7678623415661049, 0.7634993373806382, 9.875450064782891, 3.0632975326099885, 45.257257208359, 1.9912315297003715, 0.9227697599709266, 0.8230450221512075, 36.692293485217014, 10.420918687532499, 0.636518577398097, 0.7618746765678803, 0.6435867992226648, 17.80826738859014, 0.7448289431940054, 0.7554476515240095, 14.172851056211378, 0.6116980381820957, 0.9735540843224987, 3.663366788133162, 0.7937844639628998, 0.7467393151143246, 11.633962390561114, 0.8496512251675843, 0.7803956401173717, 1.4344903520283734, 6.690636450115809, 0.7325054073603745, 0.6688993801327673, 0.7251047999105542, 26.246184443019906, 1.5914392384000378, 4.536780875162803, 0.7478497097768809, 0.6296853252800751, 18.885017878079, 10.365351446956563, 0.8468491785897502, 0.7786244901395828, 0.7694486479797368, 5.388455823533402, 24.64190081198141, 0.8202913303772873, 0.5404315558902668, 0.6057740418345329, 0.7827160686468484, 0.7786517255691441, 5.2474113680292325, 0.9009864120981117, 5.512531326060052, 3.174898479948461, 0.7551147623533238, 1.8570683353674624, 3.304412586308286, 0.7354731833516386, 1.6103897003212102, 0.7130771887745575, 0.8574216115823905, 10.421955293839485, 0.815270003483477, 0.6953912686080782, 0.7488585810954314, 0.8617895016715069, 0.7746508155122438, 0.7173935164597742, 0.6970132343290512, 9.205462079768076, 0.6253242447778724, 0.7680107846137272, 8.424220421117871, 2.40817694114629, 13.733401413051757, 4.485951625379075, 0.8501133351269681, 5.0524885659354615, 32.69817491862589, 2.1605384463597703, 2.9290099157431624, 0.7889904994463214, 0.7128493765062712, 0.756595170716396, 2.4686150527147177, 30.583461614278495, 0.8079567014301026, 0.8218328944435085, 3.0624847054496467, 1.1478643995629394, 0.6749248613972189, 0.789233290414288, 0.7636497480795172, 3.8696926342479503, 10.187242296356345, 77.24360711392306, 0.8941689850016004, 0.9520610016778892, 0.847511609151784, 34.39091796568203, 0.7517066087476716, 2.921869362600274, 0.9832906777948895, 0.6832689359830776, 0.8235962486876738, 0.7043007541828192, 0.6876115393537028, 6.315804704403898, 12.892266526780105, 12.086144581876637, 0.8393713945750654, 29.40140258027171, 27.353393631019678, 14.9360124973528, 3.6926106594238055, 81.46319545140578, 0.7457244434460111, 0.7004808830734696, 18.481750208532695, 0.6238421138179304, 7.257323022387902, 0.8318307306691602, 0.6142351251258705, 0.7927591525514526, 0.6624248491666548, 0.7422423173597171, 1.0932925125694124, 0.8939618127159091, 7.718914457270194, 0.8757966733001242, 0.6685323704993636, 27.557489769834294, 43.087750073288994, 0.722661774914585, 0.8090455703444173, 0.8193550191625463, 0.6839180088995337, 4.83878933640099, 16.203429106635905, 0.7886568774234085, 0.6660040107090303, 0.9230951979027969, 0.6822059466202833, 0.7857016837568523, 0.7521384603040648, 0.7577008806526949, 13.971038323209957, 1.4858611523329983, 0.6939753220548495, 0.6985982919151412, 9.310790725453812, 0.9414293026207835, 0.7796106835474654, 0.7167558140601024, 9.057532233698367, 0.7459962821727334, 3.9537613055068657, 1.6991132770048913, 0.7175316992458729, 2.1082967006584594, 36.76675739201506, 0.9327798926718719, 0.9117196003108725, 0.6822010724438253, 6.336012134475686, 0.7269564810037008, 0.8578850046034091, 3.4040277086658066, 0.5902409619067708, 1.5814530359239, 0.7337070059748766, 0.7850185687671075, 26.539596163929307, 17.786157067526965, 4.017347897003119, 63.36961422663499, 0.8770158754000502, 5.249466200656979, 5.490048589778338, 0.8288913837700166, 6.355693229352069, 0.9210417994469227, 0.696906748260051, 12.647541309173125, 0.7691525201917727, 6.1654402845387954, 0.8863766530056757, 3.2127846088313734, 4.346925071957711, 24.980639267827804, 0.8462836066941107, 0.6814996355420122, 0.8048477271900195, 1.0520553279427964, 0.7008965238533129, 0.6033334034898578, 1.0893394854020433, 0.7165077247699334, 0.8701644413149126, 3.0828388025075255, 21.460148643774094, 0.7952621504022075, 0.7498366107876846, 2.9915836981068553, 0.7287664352018657, 3.3075482469911948, 1.69727139328266, 22.23504639501788, 0.7601728101249037, 9.212594210120894, 2.0090420634470267, 35.82808887154072, 0.6757392832867315, 1.0811195053617906, 3.666987305325148, 0.6016939479339553, 0.708859279263126, 22.282551633045625, 0.5131052955180792, 23.0334045333681, 51.01841597161526, 0.7122235756197658, 20.906366926481834, 49.78040247205469, 0.8343664625169975, 1.3542092020042704, 24.213838482717662, 1.3197133621936499, 8.372114740047545, 2.038245579570167, 2.302164959001362, 26.344675547071358, 13.551053933193494, 9.943254666553553, 24.620578850043263, 3.44305003155832, 10.880649662335697, 7.912966650019428, 0.7825971839976795, 13.06999731763568, 0.7798522126083137, 9.46472986826868, 7.214055325535855, 1.5472721936985712, 0.7800108732318374, 19.75878074872744, 0.8420267609993568, 1.6626634890328273, 0.6468588316271652, 0.6691419824179111, 0.8724247297298147, 0.67953038968643, 0.7141210699575155, 0.8792318308092597, 0.7500093101184181, 0.7174623120894082, 17.528109488653154, 0.733074371169781, 17.444276577372502, 0.6296363630694062, 0.6483626742303595, 21.982886540680962, 0.7747556066125182, 0.7618504630227849, 0.8899888686222075, 0.7400412878896496, 0.7465550791021046, 4.3578861543599725, 0.7197982127429511, 4.8905305326086355, 0.8045800155672231, 0.6293549330812727, 0.793732932145084, 0.7093820718941634, 17.880412293220637, 0.6014954748948915, 4.892599728327584, 0.7633577962607981, 0.7000708901555176, 8.095722329915038, 0.6517129094326964, 13.373502032150663, 1.352668103820638, 12.434561301443322, 3.8150049397257835, 10.762675880562245, 24.967204970131796, 13.290581128523336, 0.7487032556015825, 0.7051840878281525, 0.9177992466836657, 0.56618101571622, 1.7944472289591238, 0.6456872654924588, 2.3514194343241366, 0.8195735715783007, 0.5662339842522605, 0.6663070972625835, 2.6658427514195746, 0.7456035272986353, 10.185628864020503, 0.7656305823566136, 0.7153071912164689, 0.6350529471495452, 20.966042357330785, 0.8244646814308741, 0.6799065583130559, 9.236988637473686, 0.6936165351617549, 0.6862556630416482, 0.7708272287084045, 5.249937406657632, 0.8208986868591723, 1.1995936478679776, 4.556292452027317, 0.7549965121315658, 8.785938948968152, 1.1914534446744975, 36.27308174282584, 2.7091918723322594, 1.164535992374054, 0.9638272539718602, 0.8629004288139096, 1.6519668338400137, 8.629785430271738, 3.9484510360805865, 1.183659686873365, 0.6264580119329838, 1.5565499558983975, 5.319989257161694, 0.7754401809220459, 2.7591400195499522, 0.915209261855134, 1.3226950878137518, 1.1426321143630183, 18.018111909762926, 0.5581600405896332, 5.199583993983672, 0.6069410392105923, 4.2939892809780424, 0.769894495894336, 4.390686416697014, 25.01870942506702, 1.4534559284308062, 0.6668540745678373, 0.7445741483786094, 11.67517629195923, 18.790809650656456, 0.8657205244468726, 29.083226832789702, 7.864453041372663, 1.7414764914702665, 0.749092519080474, 11.984038463731492, 0.7640554693952644, 0.761694070668738, 0.5809430695924847, 0.8680282459929819, 1.3830506395970998, 0.6126290924852253, 19.68384678722126, 6.03095499225602, 7.227051099337982, 1.0748907120866846, 1.2114057693210352, 0.8160395064495869, 0.67561845259156, 0.8615261501575492, 0.9029498186807157, 21.69169532708697, 0.7999232403965186, 0.7498734735807011, 0.800446868045164, 0.8375590551853871, 10.218581634460227, 0.840171579598029, 44.56766188218375, 0.8438848395524079, 2.1509939764292056, 0.8464019118931673, 0.7957276009004816, 35.493583284941614, 0.6407952593856225, 25.87955714374916, 0.7658269672462034, 10.647843105507532, 0.9240591913931305, 6.765936691543209, 7.397625789121354, 25.608003820490516, 15.55596261122633, 2.752813320836493, 0.6742202512784605, 33.17502460585317, 0.8849233478172286, 0.7303108037406284, 1.597580878550066, 21.383833815190208, 57.26622004481157, 12.344584511722767, 0.8532870643232294, 1.1163311686230681, 0.767718414825214, 0.7638547655439861, 0.7837882928014546, 0.6597633410927266, 19.127263403121603, 0.7623349640192632, 33.48687202514984, 0.6966610953514695, 21.36939968731824, 0.7220441442538121, 3.773609392745068, 8.434933416706505, 0.6252096474551507, 82.8405999728451, 1.3418739980215322, 23.50456327307554, 0.8336305417915016, 0.6264632989546259, 0.769980121293289, 16.087057832670936, 7.527484449228421, 0.7568113188327689, 11.392289167835612, 0.7679324088344622, 7.293023095720133, 3.415513102500779, 6.444055312219221, 16.251278653243872, 0.8763735164154459, 0.8089581026132852, 2.2894638541174768, 66.9906693095222, 40.85292114097943, 5.45312137412121, 15.82733994228678, 0.8670436761265347, 26.233187365168376, 33.30115171888754, 0.7810533031124508, 1.224641422061571, 14.321540835691945, 0.84362342893528, 3.661334603059783, 1.8958581574203492, 0.8449594851546458, 3.243096446794711, 19.052956323165603, 0.8778753756241587, 0.7458470307011897, 3.5985892887597757, 2.742322564873007, 0.7490523348196425, 0.8677566967758461, 0.8528420187797404, 0.7454855982131993, 0.6636876943696967, 4.887017016283938, 0.7190235103094706, 0.6511656295843349, 8.1739685245026, 0.7021466675850069, 10.853056004971489, 0.7580272861864379, 3.5645600575113563, 0.9812759339444864, 0.6704741566516873, 50.807626409535814, 0.7864071295578788, 0.862571013027512, 86.43945782334796, 0.7626262536937932, 14.327251920085603, 4.729490477146898, 0.7101801662392475, 32.08948368812003, 0.7279453494221586, 0.6219394387835729, 8.897359745733755, 0.752591718180546, 0.655572159612073, 2.011169321887909, 7.072678960485726, 1.2829292436409496, 0.6382982444337417, 0.7056050462996665, 44.731684284198224, 3.016663623531514, 0.7803580892523424, 24.896935983336395, 0.7692599323035095, 1.017030686477718, 10.901500445490683, 9.173505748017073, 0.7036292418105006, 0.6460004402224112, 0.891774478574651, 0.720827954736959, 5.871927188197799, 0.6999190217898548, 2.536917036721053, 8.801901141122656, 2.5074340784533264, 8.303265116971714, 0.6556216670207307, 3.8527344268244215, 1.3498991474521318, 7.6977764792286205, 12.004989221744234, 0.8494668329841584, 0.8178035184494026, 1.2711151535924516, 0.9676612440251607, 27.971212989265624, 0.9455865348082916, 1.9851089717992751, 66.80171487923897, 2.0827337115565, 2.142298028942171, 0.8690991352133312, 3.1080955279221034, 54.944041121867116, 0.6941262583928719, 0.8707021704796486, 0.7434638011803629, 0.7580106277452093, 0.6527168075658161, 0.7630330971897894, 43.93780826302144, 0.7907085913169196, 1.3508054563119203, 62.304195732802356, 0.7805124359621248, 0.7679144673938016, 3.8145362787627413, 0.7154775517790884, 0.8905437608246587, 0.685747447636118, 2.8620326270974794, 2.860957381494474, 34.8545865972214, 5.200291480481402, 12.651295987144207, 0.871484547357245, 6.674127102313064, 10.223428421708185, 0.7477941727259342, 0.7243287688109783, 14.16480121900599, 6.017207452067748, 0.8786936334311461, 14.099657074788674, 0.7103879572154046, 2.739844543864258, 0.8799596107577934, 0.6668557608786572, 0.7174630966385094, 0.8090975618298732, 0.7716442447621853, 64.07003964348591, 10.511247272131575, 0.7933338833723443, 13.102850124594863, 0.8018680000398316, 0.6947921429829195, 0.7933763306030823, 0.7271650321358332, 0.7598868809596473, 10.186766574563732, 19.224145389103178, 27.007799827069206, 0.8622219359536658, 3.4567971834757696, 0.8517859260008334, 0.7136777574308624, 0.7872700044196251, 4.838569531125192, 30.92788620630888, 7.103590739940035, 0.8421045022225716, 29.55491208927787, 0.7360774159017199, 0.9753475072782548, 0.7280935465849778, 4.006108348933727, 1.345682278169501, 0.726175364429075, 4.222817548060253, 67.0330187972021, 0.7969590971888605, 0.9599965939492727, 0.8039922158683784, 5.288146885193333, 1.6740725172944226, 0.7373205572926929, 0.7971874454292659, 0.7925446612307551, 1.3021599992521586, 0.8588239917016441, 26.476202168156068, 0.8634434095473976, 0.8038096813981127, 2.542152686030139, 0.695824855914706, 36.416562704967646, 3.0402930594695254, 0.7926158286366989, 18.57592415026972, 2.0842471240964984, 72.8411846640384, 13.127975968769883, 4.071363773417576, 1.155204073183119, 0.7915423354890861, 4.116623528878911, 0.8611626303226733, 0.7639536990851761, 7.546625437419661, 5.571162043947033, 0.7807658555287394, 57.752320105277796, 0.7057280514254813, 0.8567394786933961, 0.6922698530747671, 0.813146893136524, 0.7966263064107707, 0.8351125196779525, 3.110989633730685, 0.6744391819318042, 21.376713573745246, 1.952322816119578, 3.103122878535, 3.503692961840651, 0.6581782973567962, 13.253491237629413, 0.6123345761753298, 0.5618145963218962, 0.954531388370729, 0.7420378608698489, 2.0692009147997683, 56.10185496869628, 3.0444910134659113, 0.8363790217914456, 0.8359512532378558, 0.7601307776959974, 52.95127267655531, 0.6784889766033579, 32.89671938256023, 0.5023790364337786, 27.155044609959948, 0.7419035104895904, 0.85544420208817, 22.00787452638186, 0.6565970929785965, 1.9850030997753196, 0.8594825588218309, 5.915358851686433, 0.8415789827890733, 0.630474762366773, 0.8907194662893673, 0.7399358064615275, 25.95111146352386, 1.6122864746103887, 0.6909278447762985, 5.559698545072972, 0.6574009727915417, 0.8782427338303965, 12.107733918685268, 59.704946420386335, 0.8831619484785432, 0.7486282747449704, 2.8433824562272587, 77.3347396445395, 15.741942240169836, 0.7754531087511491, 0.7755888383858984, 20.171851542988293, 2.394797073034417, 2.744337276851977, 5.278969571212327, 0.7110125901812484, 18.255288073638962, 0.782538892856538, 0.7401949012302161, 0.901865953278568, 0.7081601997159729, 0.8913417195255036, 22.567790593989333, 5.131624782038984, 0.9040453347340744, 32.32984125948349, 2.5754910369255946, 0.7485619313063898, 0.7336676081720718, 0.7869632225420551, 0.6928283803618515, 7.255881478740677, 0.7075879348608981, 24.329538026583812, 1.856390813513816, 8.02485862198314, 0.6486934569333356, 1.1846088901946688, 0.8218438517587554, 3.191802349327318, 0.6770175882386877, 1.086197553370046, 0.8215523189367866, 0.7670704322761579, 4.78293237325353, 11.001687164970926, 0.8412481364807866, 0.7133133882877289, 8.161873591128204, 1.7321944689688409, 0.7295339264036442, 0.769794795725192, 0.629289080540015, 0.8235793773528823, 0.7974930056717217, 54.223790660532785, 0.6755470407341518, 6.7551533975933085, 0.8566210812335234, 0.9148547877893136, 5.076302194649301, 0.8413270214535722, 0.780421310404786, 14.436737483917538, 0.8020387780088003, 0.768381822501942, 0.7732268995772573, 5.628012710671655, 0.7083173380820392, 0.8062533100887446, 0.7621883067086949, 0.6625134110863674, 40.866330974550486, 0.8633872773903177, 0.6935385774144606, 0.838604729408656, 14.779905962474082, 0.6640555376002797, 0.7236681283579595, 51.645754886395174, 37.04911747629495, 0.6916774123340089, 23.463352162664396, 15.83927806753098, 1.105176877237438, 25.683709474554476, 3.0624153723513743, 71.20390327816249, 0.8369728897850455, 0.8954258840636878, 30.625908536910178, 0.6052653135166963, 2.8104402223871987, 0.8807788426819458, 0.6879235920959658, 22.05987071071012, 2.6253878138828934, 36.861543064966384, 5.042491297827004, 4.153858404079546, 48.52287161973212, 0.7312019775889318, 0.8759335211828904, 0.7027489041608344, 0.6640230181458499, 1.8211275832696339, 0.8428265805080652, 2.360337007225485, 0.7704458755859398, 0.7970122991071535, 4.333394178445404, 6.372319247403984, 0.7859387556395359, 2.5634295699498173, 0.7947427439708121, 0.8368254089018826, 12.364541366260873, 0.758927072849329, 0.6965123645241482, 3.5204694412402517, 0.7452376594422677, 32.237810205649296, 0.7876127561280033, 1.8470407086326648, 5.719464790737573, 0.7054618566838361, 28.444932837266037, 1.177074745637808, 0.6511128884986722, 1.434753864599504, 35.58659916333047, 0.6639573777260952, 5.33935056895738, 0.8687217857985807, 0.839343091489029, 10.67129744246936, 39.91580745464777, 0.655859434369546, 2.8788356249126363, 3.6874936990233125, 50.725681827177276, 0.8331305624496278, 0.6765627228189106, 6.6201453234549525, 9.228604004711123, 14.454298714641503, 32.41127855001686, 0.8890678763657452, 0.8597401571702086, 23.630374759060878, 0.7507675183092555, 0.8448360108913349, 8.543271337257055, 7.554471643695519, 0.8538091875308552, 0.7399872183627353, 13.280395208937334, 35.718285108330285, 0.7800100255516026, 0.8936182261766532, 0.8112758434956081, 6.58051628911392, 0.8211483011044494, 0.5904996909038175, 0.7432154332559622, 7.697457252863234, 4.894213321799984, 35.202592794374354, 2.1765761115292226, 30.109297644613253, 1.1897279256760858, 0.8480974474255656, 1.0248868043212949, 8.983350239990685, 2.36594587443139, 0.8019506293377671, 0.9067795660584067, 1.2629682263955795, 3.6425322488951153, 2.4706572548180694, 40.950060183144515, 17.797299495458596, 0.7842938648754372, 0.6821443871640025, 3.938967792529931, 16.434281419766663, 0.7391590203342507, 8.887245855501456, 46.468579363474774, 0.6842915127510776, 1.4741747976551949, 0.7297271431894262, 42.54274639858346, 29.854457199039572, 5.0939758020594015, 2.8690898596197436, 0.7453489730803349, 0.7692336341707109, 12.209244827759505, 11.140093598869818, 0.7313068618165237, 0.812528673769695, 0.815773688588333, 3.104498214772681, 0.7152910863446478, 0.71285625248772, 4.401314347579879, 65.41634219101594, 12.790201185454631, 0.7151845679371115, 0.7225063895363238, 0.7556791206966292, 2.1627855123100983, 4.029379474994631]
thresholds = [0.6847541914800482, 1.2250755278428442, 23.01274732952009]
display_name = "Expected Cost-Effectiveness vs Bed Nets Multiplier"
units = "ratio"

# Calculate exceedance probabilities (1 - CDF)

sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure

fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve

ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds

for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('exceedance-treaty_expected_vs_bed_nets_multiplier.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Expected Cost-Effectiveness vs Bed Nets Multiplier will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
