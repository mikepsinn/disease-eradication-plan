```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Annual Cost of Combat Deaths (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata
)

setup_chart_style()

# Simulation results
samples = [2561621155220.1445, 2445040431139.063, 1277732595680.8948, 2640293091226.3364, 1737079734989.6135, 2450090109911.324, 2330761451944.9644, 2477698089081.2876, 2503140524063.596, 2597284956514.628, 2380649431329.9385, 3532439885772.8906, 1983159103540.5715, 3047959370348.7354, 2701018032222.356, 3105777626481.619, 2008422802352.8374, 2378191719738.642, 2433142034810.8145, 1717164443164.881, 2728104867484.075, 1406077930841.4446, 2136360143056.171, 2281052734958.9653, 2739903719228.252, 2620857452353.9956, 2626694780932.0044, 1457637540075.7756, 2047280396990.1665, 2182960496461.325, 2208022309619.3555, 1214462579784.2163, 2207356695510.2427, 2490433859264.403, 2185175462001.3125, 3344659513933.8794, 1460012821028.7134, 1500532171742.6616, 2106346644467.9282, 2141083201316.8213, 2977854340334.2197, 2763085328590.897, 1840337125989.912, 1570540221886.4521, 1970312286541.4395, 2667066171641.6675, 3062722862716.6587, 2027599661475.7344, 1396939109964.057, 1470548845982.181, 2628885972902.6367, 2169254144563.9863, 1663285667834.9243, 1598353552343.4824, 1558593985369.8345, 2642503951136.6147, 2467131801859.827, 2265668931373.6562, 2051102509167.426, 2734274000290.7207, 2789317833570.189, 1547422404097.6675, 2452183843636.86, 3096056068117.4478, 3735353224782.984, 2037047859430.4414, 1901820452691.1345, 2551350306073.6606, 1546822142334.8354, 2407318335078.2124, 2941529457867.8213, 2192919978978.638, 958512180149.3923, 1851315620271.1033, 1888078285805.3628, 3346350706849.5957, 2023850164606.7397, 1311311382622.1348, 2398088922272.64, 2244590716777.4272, 2040088355339.9465, 1512396687107.239, 3313540906810.717, 2731279292693.6255, 2520747582436.877, 2281687769738.6997, 1719142372754.207, 1952683488038.6138, 1576579869322.3618, 3682745803362.263, 2363007167882.8643, 3222557618193.8286, 1870817717987.0176, 2526671941518.8057, 1905208074401.9287, 1187616425557.1445, 2923539364889.288, 1751174659260.2312, 1655195484533.609, 2413646101455.5293, 2135201473506.588, 2944987898021.483, 2204378155590.553, 1228143281605.7642, 1520628558620.8499, 1652826082759.9402, 2591580219720.3677, 2169601432142.603, 2898948499247.875, 1620223092704.8035, 2789173420831.4673, 2210133386927.9653, 1940532886073.1873, 1962231538773.9766, 2331045797993.9424, 3242352289051.1836, 1764687858193.102, 1390598467628.8452, 3043800031318.4727, 1728930141178.6926, 939994429715.4926, 1633008771803.7556, 3575476854825.6587, 2028067800351.8438, 1389130347295.0334, 3639910286961.0454, 1908306060675.5032, 2975083556865.637, 1843500933739.4678, 3078629196487.037, 1979695574984.577, 2137031578283.582, 2342700867924.5327, 2027958445984.1423, 1988625464270.6697, 2264256125200.863, 2453098187895.076, 2547164141919.448, 2316126793015.388, 2824614448007.383, 3667341856751.4136, 1550250130570.1428, 1888609216137.158, 3276937541572.6597, 2330746066476.4634, 2787787917502.9175, 1448777466195.0374, 2387790286477.8154, 2358962301660.446, 2121679637901.2173, 3341790572672.8584, 1824488355534.1448, 1973431004848.2866, 1169552956023.8765, 3449997864232.2725, 3641444980472.8403, 2242807728146.324, 2302640464500.1, 2501130020079.588, 2700998316545.1387, 3063185268796.633, 2603872673663.1445, 2969385473728.518, 2689935732880.734, 3152498220644.99, 2040129083691.8306, 3162758897497.845, 2928306927651.092, 2156667192564.0586, 1900225693580.8352, 2489778942438.1475, 1719131024865.7239, 1425557546260.9912, 2102453940045.7913, 2276496445846.4404, 2517573439721.935, 3123691355563.107, 1133276465921.716, 2634743637263.8496, 3545519099462.5107, 3411907404462.0713, 2933688624575.429, 2284063385103.0386, 2815282180908.825, 2270811229312.627, 3078470015959.3716, 1636017063253.5002, 2915575796416.1855, 1446869391813.2793, 3566780809348.85, 4112835432041.9365, 2806932050122.165, 3304847065176.3115, 1374183049127.8635, 1685817201541.1091, 2907313820406.042, 1625248499476.4402, 1658259460473.6455, 2623120135830.4453, 2235915392570.7495, 2691993647907.7085, 2814945903888.3003, 2435875284098.1216, 1955765168494.0837, 1852757919128.261, 1975283143254.015, 1854003410583.7366, 2442501442696.1157, 1311856212979.555, 955616322443.0507, 3155016449759.504, 2005792829204.8508, 3296461865675.4937, 1652431189878.6357, 2088995140825.5432, 2633324135551.19, 1999574599638.33, 2014696291185.0447, 2786001383205.128, 1303434398286.2332, 1560924059902.2063, 2227572944492.748, 3012370564173.5063, 1649983657155.5732, 1849747992710.5198, 2183748293625.1973, 3242739791470.784, 2580798661093.008, 2736756707538.441, 2985006132812.256, 1782990750992.6206, 3216556383443.175, 2390995145279.371, 3589232974296.174, 2257159644196.641, 2266494618477.0933, 1029709768088.002, 1532617916995.0469, 1786344295639.9692, 2885396753562.127, 2223614339713.3315, 2032514625147.5718, 2144733621120.9753, 2523768270285.6953, 2915622544452.198, 2031281209275.6326, 2001903442099.3499, 2806157935968.928, 2272309709133.9185, 1470063711432.4902, 2566156954964.9414, 3214401210407.917, 2576822772194.2886, 1795289387449.722, 1173812333464.5603, 1262947144926.1113, 3508817827961.8364, 1703712108445.6565, 3414152484422.706, 1575508612513.04, 1297853344271.3044, 2236374642005.574, 2919647589812.893, 2544587673306.9854, 3104087242393.956, 1878580536415.2375, 3357871512975.2725, 3508257947137.437, 3420481219483.7407, 2428132144977.8237, 1827668274638.7556, 2035868125320.098, 1319638044068.4363, 2458082944589.616, 1196257369714.5608, 1344954436015.4539, 2191101603886.6394, 1797004033956.886, 2790495343495.438, 2862474840677.374, 2683628502451.819, 1955757373379.8574, 2469065604380.8784, 1877574215674.0195, 1296047192222.9927, 1798967042864.4966, 2275664517638.9624, 2297568378538.804, 2811521921385.635, 2110522087095.5703, 2557819422008.7676, 1422284561407.3376, 2945425557749.1294, 1848924683796.2712, 3190658189221.5166, 2126716121638.4917, 1006227243026.767, 1954411008198.3271, 2204087679526.13, 1600926872268.2654, 3021461426771.1772, 1235852410256.752, 3888839956576.2705, 1886289290743.2056, 1467305449263.8435, 1663890572694.8167, 2313002866460.632, 3102268530801.154, 3492290357285.078, 2304922019059.3555, 3277019820867.0957, 1354764162420.6887, 2022177264071.0566, 1489348190346.708, 1937058351046.5288, 2666274926142.8516, 1868334581864.6292, 1788079152453.2068, 2771559049151.412, 2216425441945.4507, 2189060418809.8447, 1567680074831.748, 4048010165756.077, 2184503243737.471, 2588148017207.9053, 2331258141616.167, 2172486199412.6602, 1359406211720.49, 2981595518293.166, 1891341787193.4756, 3282001405066.4175, 1613200748224.3398, 2155291295545.546, 3043820622269.425, 3489188789753.5293, 2280675969190.173, 1560117795525.3074, 3315116352795.2646, 1484007391834.4888, 1823216501583.1687, 1702966959425.5107, 1365664529794.184, 1925650210281.858, 2984683504125.014, 2213623967103.126, 2229304812116.938, 3216390005059.6016, 2724825064635.57, 2321240661128.836, 3900042639513.908, 2058310782148.8137, 3163362133142.8955, 1807312346587.948, 2745131998595.7017, 3406601768403.762, 1780399081091.6326, 1034662738994.9811, 1737018073791.554, 2767655275060.844, 1581779262736.839, 2983941093667.809, 1765545438669.5874, 2390927123211.2373, 1948736348208.75, 1584133752387.173, 2554627097857.024, 1213912808203.809, 1809989094291.193, 2239886911160.848, 1138164761360.549, 1674956593649.7844, 2908816208057.5845, 1737016114909.6055, 2865407032177.271, 2841779660382.672, 3163574120406.4443, 2747572059583.4624, 1018416853797.0671, 3703946928622.5513, 1524309801880.2844, 2347991136800.0107, 4121727702512.275, 1624131247342.9365, 1914828866750.7122, 1315485018070.2268, 3132295851950.4805, 1772423604496.479, 2905585290249.2456, 3333048807679.722, 2322078190366.9526, 1933589760344.4302, 2320826931088.4023, 1391383610898.4868, 3688928322510.8193, 2658634731666.87, 2296015772259.429, 1742980310051.7302, 2357765320764.55, 2370258268796.8877, 3169076112014.286, 2202326768652.5835, 2336330063780.0093, 1763427239878.3533, 1684982378019.016, 2799068605246.4443, 1190356598293.8494, 2953684712107.7437, 3370154868186.487, 1334031122178.3945, 2103213410464.4177, 2676723336311.116, 1676615666477.0757, 1862931244447.6992, 2328126562248.8135, 2335791157321.212, 1891921127492.0337, 2285488215768.1416, 2900259570980.709, 1915838249216.7676, 1839390206967.6514, 1212728354473.0044, 2033176851512.321, 2946653614046.0205, 2084474342630.8357, 1389213994811.757, 1689068006817.237, 2255251643643.7827, 4348937835063.4766, 2900935615660.728, 3657028453169.135, 2040808567037.8848, 3696305966526.843, 1766145745775.009, 1581327431172.2231, 3304650513976.7456, 2257367368718.571, 2317783149718.9937, 1012994931339.9818, 1505280846754.3867, 2333703861628.188, 1760719324445.3643, 1511108436476.6448, 1960167235031.5671, 2902466120250.449, 2658127408700.732, 977077972835.8234, 2572742084127.639, 2084529726150.5535, 2781081308591.1797, 1649358016691.3396, 1551693283084.8853, 3360441992131.99, 1203128801297.236, 2232293223789.1396, 1996650979851.2212, 2083138730019.2026, 2088776266606.2324, 2319961489503.282, 2636210380733.146, 2140076055716.1138, 1924469475950.9866, 1879972570356.9392, 1865016903513.9717, 1375928365612.0547, 2289408138053.9624, 2818609565724.3633, 3253100162852.3135, 4268306108691.04, 2352205530252.996, 2054483349896.472, 2234002884262.535, 2022229223805.1082, 2015290645952.2197, 2305925751807.288, 3406692581902.605, 2358574606019.0513, 1778015478838.4233, 2544702289453.902, 2396642741440.231, 3367050962628.4927, 2522994509665.3335, 2995400075702.4873, 2549323700028.869, 1360929790818.4084, 2570495578839.4062, 1754319029908.568, 1744678701170.7332, 2375081257003.7056, 3108922174779.555, 1775926354924.008, 2560538354867.48, 2177849357230.721, 2832721156671.0195, 2184316205882.7031, 2308030404477.9043, 1841243830330.3406, 2433696537857.7197, 1349474960808.3564, 2004214076742.9338, 1980756163518.5354, 3002245706905.529, 1591678896332.961, 1862572589364.209, 2380977808977.2217, 2700000000000.0, 2023714142934.4246, 3644004680981.3115, 2473869906871.3525, 2051020450294.7817, 2098391626647.358, 1834353987598.244, 2633029606973.1895, 2841659416159.7925, 1486385944085.8782, 2129985475415.2961, 1678546208851.3625, 2490606222259.0376, 1850113567967.366, 2796595049849.2856, 3140343266323.2173, 961138674468.5946, 944582684795.084, 2670751069089.055, 3083466517361.7456, 2307649566118.216, 1797587796829.9004, 3616874556423.7944, 2893640584454.9683, 1711293544930.0884, 3384556799711.3145, 1682994731195.048, 1679083215451.323, 1560085044107.478, 1590722237351.1301, 1893390017474.0544, 1553826956748.8777, 2191229645542.4094, 2704934156950.0728, 1665533169998.8125, 1758500763114.0715, 1471689676133.216, 1427544534095.818, 3499180485126.635, 2065765041569.0, 2025335224148.6826, 1643595935981.8599, 3363773974200.858, 1638280448781.9858, 2651291303917.433, 2786803996307.309, 2442812550661.257, 1526208794399.919, 2831499198037.9795, 2412962283400.127, 2803772812950.829, 1755217427072.234, 1994989182984.2454, 2274483248500.3877, 2727443258094.004, 2398747315266.3706, 2597372274010.8286, 2884295797672.6025, 1757302201150.2844, 2599125264225.9697, 2323360998095.424, 2297461857788.567, 2253758728835.1274, 1844403762933.1895, 1757131308061.9014, 2304681134648.684, 1729435947217.4238, 2048600104014.8113, 2255838935166.8477, 973969184170.4604, 2123396106890.0217, 2755175343589.3916, 3867689503895.752, 2674141272900.3706, 2176401653912.054, 1052546463706.5817, 1472759918616.901, 2367296056084.3887, 1918887300958.009, 2632720770551.997, 3262378367613.851, 2440137508750.8457, 1992596188035.3562, 3059694282075.333, 1453438285364.007, 2476771826041.207, 1163736796964.2336, 1763981582071.5059, 4406362342994.97, 1617832805917.2024, 996258147463.9724, 1542984443201.871, 1233208815093.5762, 2612836183016.9556, 2626214077136.9155, 2287624404814.0464, 2896644190396.8594, 1326448672783.9387, 2959570350684.3804, 1982420847228.5195, 2769275386182.4663, 3005023138313.831, 3837973331508.1763, 1770995906297.453, 1282089716990.092, 2070515093278.4922, 1902461644783.432, 1872796500001.8438, 1409252444710.2659, 2603842508782.673, 1735706773763.5212, 1516600863943.85, 1568999133270.1782, 1065039362423.9774, 3028304835494.0254, 3928404480712.986, 2668032348652.0273, 2635713708469.458, 1941685199915.3413, 2450509862318.602, 1661682191877.5557, 2151344412093.645, 1655460854995.4565, 3177886586665.1606, 3033167537163.276, 1265779697070.0293, 2347649927734.226, 2970680108642.0337, 1159789344482.9346, 1041040554640.2529, 3315715397102.2363, 2369592765109.432, 1798340879067.0083, 1920184785831.8445, 2084408842075.1296, 2477960858388.9907, 1608127135318.2478, 2375753946738.448, 3537202931837.4434, 2738653864887.347, 3245647398708.215, 2465689492903.2974, 2451883942893.17, 2771973412346.6885, 2146330563387.1853, 1011689695397.6061, 3609991429180.075, 2368064371276.8555, 2773254064528.5073, 2475750182581.066, 2115492200876.161, 1127936309537.866, 2568044217457.7607, 1866492870781.0674, 1931330675226.3147, 1055293461056.1276, 2247794391249.718, 938576189218.4257, 2844953654446.2695, 1929047071644.7925, 2813417007605.4956, 2028891157930.2432, 2813888560696.264, 2677231444795.0513, 2955208905222.8115, 1464427230932.8608, 1482168276171.4558, 3083641729746.0493, 1207446671560.546, 2352672125550.3423, 1771583213119.013, 2550316818035.9966, 4500000000000.0, 2881419246360.7065, 2212703245741.063, 2497381841484.929, 2119452488362.523, 3769558167287.2524, 2098069801417.4182, 2029946025841.3315, 2507313290703.8037, 2345464422825.1475, 2861651218629.819, 2331245115079.304, 1956625236744.0984, 2775748496726.539, 3010656322622.7783, 2435313044441.048, 3718565653361.337, 2307685864863.85, 2570438044190.2324, 1189593079530.2036, 1947137754417.1765, 2090155041779.4617, 3029359851969.188, 779642775498.4596, 2469754684572.576, 2239028334810.1387, 1383011951642.0237, 1664021566543.7834, 3918367145379.246, 2269828050869.3633, 3085063929884.359, 2284711232028.9805, 1373137235580.8352, 2211364294425.724, 1923331947525.842, 3020723421749.6714, 2378890721589.304, 2612418432876.2524, 3380078891789.4585, 2751711179551.136, 1396485453751.0461, 3279906828124.997, 2164513675481.5605, 1843373299105.491, 3306753006443.9497, 1945137764942.5515, 2283151771419.8403, 2300373830444.475, 1479669486165.582, 1576750725798.002, 2272349708548.9395, 851419626491.8618, 2675225565304.73, 2162480191756.8735, 3585649987171.263, 2469814191935.418, 3708764213377.999, 1819588706208.2065, 2710658896698.604, 2028354098656.0864, 2401190461730.3013, 2565840904664.34, 2023859197429.4045, 1388282031409.7583, 2935981024099.2344, 2655647764613.106, 1259095595483.4553, 973700751744.1957, 3148365193093.648, 1160375279175.1228, 2702097739679.3438, 1486624325213.9958, 3309797399290.7065, 2362650450183.8813, 2483867556404.613, 1670493777777.841, 1254341859815.1924, 3071328233973.359, 2816493244025.029, 1844298814668.2798, 1394648212690.2283, 1730683459198.6934, 1664564773709.6245, 1955521386917.1707, 2919730066061.575, 2830820038798.3706, 2442111038024.7637, 2541160307750.2236, 2763278866166.5547, 901886055665.9681, 2419982007465.592, 3040644827340.8926, 712009063794.6719, 2640546673857.9854, 3845589286034.116, 2545874668487.0835, 2787482369890.1206, 2940265043239.892, 1542540339436.6792, 1696304835654.4194, 2993343296464.143, 3024625739066.5957, 2192855763299.1628, 1762122813285.693, 1729031501755.3442, 2502226674041.0474, 2258849355856.002, 2254008115265.089, 1846289179915.6223, 2910113604179.343, 2160824776775.5898, 2282590472881.2505, 1345579033693.1548, 1803766662875.9292, 2140570849047.5552, 1126552643017.935, 2244365893689.7144, 2355089865968.384, 1179180007912.543, 2978796886944.719, 2837427799027.9956, 2461338298610.3135, 2056778493402.7122, 1316645383371.6206, 2647042949129.158, 1692134164456.312, 1478339263069.3035, 1873981136018.5654, 3041103889773.885, 2786576804342.451, 1565190648111.204, 2647711910430.94, 1350017043915.5889, 3405381609763.149, 2320989869819.183, 1849310507906.7285, 2148112444659.2368, 2154488235356.8643, 2423889722308.779, 1288137887975.7332, 1675364151775.124, 2352475500880.715, 3265372995925.1235, 2683692934308.423, 3262831382905.1216, 3701144017150.7417, 1482100317511.548, 1736954264139.3823, 2410686758962.978, 2992563104726.1904, 2118647070968.1099, 2569126866753.546, 2279905256036.851, 1066594094211.9478, 2280993907910.127, 2607254524371.175, 1655133738043.37, 2506713799782.524, 1893302577701.2886, 2245262373458.8755, 2684715225479.5283, 4185647814564.402, 2767070132328.168, 3028922944462.099, 3081795074344.926, 2456623963022.9565, 2748270174873.551, 2312137100622.4478, 2130770447887.57, 3139606201214.7363, 2312735400450.8706, 1529004928158.1267, 1731028332466.8997, 2084445328165.8757, 1810544722180.4937, 2018145303738.8394, 2139417098078.5034, 2150837200106.7654, 1972432177240.0376, 2543935375592.361, 3630286970778.7637, 2525187222570.276, 1496516756237.1396, 1092501028902.754, 3056436564095.956, 2012498565750.2068, 2120144159884.9348, 1032698520225.0394, 1982387338637.0051, 2601851194421.157, 1598218728142.0076, 1374641395738.8477, 1315210778961.9438, 3453238583916.409, 2399930938420.7114, 1669020959462.6113, 2497738140507.5625, 2244049191017.5947, 1091633502063.6234, 2279003473654.513, 2116063554071.8904, 2257732824746.5024, 3371221784209.6704, 1457900822824.5015, 1809664243555.795, 2793299362188.0747, 2521411093125.597, 1586960778571.619, 1631272077976.9746, 2809019341775.7, 4087127726169.415, 2169629076680.5435, 1364232261024.6218, 1279507513172.9211, 1928015413076.6514, 2671997536813.5547, 3293997019970.9585, 2050831697288.6135, 2204818339735.0103, 3984125990822.2915, 2248717992235.5605, 2139213627221.7488, 3622889853403.389, 1892720782417.1455, 1724148470638.3745, 3226055275879.084, 1298602784244.6614, 3710322180137.759, 2066523817748.666, 2651461580216.197, 1972229772145.8738, 1817361773555.901, 1974901669194.7334, 2227464264425.681, 1793057222906.7666, 1234158478508.4434, 2415225419433.5337, 2738792161579.736, 1306476917444.1423, 2607363877657.287, 2346001406128.929, 3158120758226.9004, 2476529565907.7275, 2202641939451.476, 2606900273768.163, 2446987734751.449, 3528769253209.2764, 1944715348512.9512, 2237193576247.1133, 3250394786593.6646, 2256908044305.6533, 2189352821475.0596, 1634665308737.5566, 2276618735617.843, 1370949942806.1282, 1188331748592.199, 1822019328350.5632, 3385207134959.7656, 2508045994799.083, 2957787476251.727, 1553884041656.4749, 3004722598380.4897, 1605234294798.6367, 1772589231078.6094, 3107595776984.294, 2644935349870.2056, 2925247204184.412, 2820752784977.9946, 1956235622746.3638, 1455314448313.0059, 1267710317840.4778, 2700000000000.0, 1374493738054.2407, 2616795856182.085, 1850246683669.3772, 2582055601181.808, 2539534230068.4688, 2267651037062.7974, 1596744439594.9412, 1280317613761.4602, 1757171041895.6548, 3330308091471.612, 1587607918529.1194, 3229984059137.5938, 2666002060946.949, 1568795122436.8826, 2061050734871.7688, 2521723942928.863, 2601863840435.5913, 655493169084.3745, 715571394169.3389, 2744871319532.676, 1562861789266.0234, 3038997251797.391, 2998577000888.6323, 1504504753982.3547, 1667850298993.909, 3019672989704.1675, 1739314588771.8467, 2839847244174.1157, 4013000135903.6724, 1460899373663.7078, 1447587829979.3933, 2450093120030.7207, 1126623236565.0693, 1003191538323.6737, 1731295507370.7761, 3824303889794.291, 2539952472945.685, 1985383521348.5222, 1345408951898.15, 1587156296508.5032, 1796667675533.5105, 1724160467321.9568, 2340260060211.269, 3147891431340.8423, 2763497169610.787, 3368110067166.4595, 2014239271076.976, 3637939290012.9785, 3112156963470.789, 2436938047946.7847, 2642712387181.0894, 2098436287600.8782]  # Truncate for embedding
baseline = 2336000000000.0
mean = 2308624602043.413
std = 703301856717.3721
p5 = 1252612253333.4854
p50 = 2244262033821.966
p95 = 3571706665029.458
display_name = "Annual Cost of Combat Deaths"
units = "USD/year"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG (same directory as the QMD file)
output_path = Path('mc-distribution-global_annual_human_cost_active_combat.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 2.336e+12 |
| Mean (expected value) | 2.309e+12 |
| Median (50th percentile) | 2.244e+12 |
| Standard Deviation | 7.033e+11 |
| 90% Confidence Interval | [1.253e+12, 3.572e+12] |

*The histogram shows the distribution of Annual Cost of Combat Deaths across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
