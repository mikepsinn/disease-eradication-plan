{{< include /knowledge/includes/setup-parameters.qmd >}}

```{python}
#| echo: false
import graphviz
from pathlib import Path
from IPython.display import Image as IPImage, display

from dih_models.plotting.graphviz_helper import setup_graphviz_style, render_graphviz_with_watermark

dot = graphviz.Digraph(comment='VICTORY Incentive Alignment Bond Money Flow', format='png')
dot.attr(rankdir='LR', size='12,8')
setup_graphviz_style(dot)

with dot.subgraph(name='cluster_machine') as machine:
    machine.attr(label='The VICTORY Incentive Alignment Bond Money Machine', style='dashed')
    machine.node('Investors', 'You invest\n$1B')
    machine.node('Campaign', 'Fund AI campaign\n(lobbying + viral)')
    machine.node('Treaty', '1% Treaty passes\n$27B/year redirected')
    machine.node('Returns', f'You get {VICTORY_BOND_ANNUAL_PAYOUT}\n({VICTORY_BOND_ANNUAL_RETURN_PCT} returns forever)')
    machine.node('Cures', f'A 1% Treaty Fund allocates\n{DIH_TREASURY_TO_MEDICAL_RESEARCH_ANNUAL} to efficient\ndecentralized pragmatic trials')

    machine.edge('Investors', 'Campaign')
    machine.edge('Campaign', 'Treaty')
    machine.edge('Treaty', 'Returns')
    machine.edge('Treaty', 'Cures')
    machine.edge('Returns', 'Investors', label='Attracts More', style='dashed')

png_path = render_graphviz_with_watermark(dot, 'victory-bonds-money-flow-diagram')
display(IPImage(str(png_path)))
```
