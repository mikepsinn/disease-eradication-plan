```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Annual VICTORY Incentive Alignment Bond Payout (10,000 simulations)"

import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Simulation results

samples = [2787979357.697967, 2446000000.0, 2914737215.0583844, 2970539974.646197, 2446000000.0, 2446000000.0, 2739220531.7879457, 2620527219.463294, 2699982285.983074, 2483897430.329495, 2952470510.87548, 2922697356.4265795, 2722383548.583048, 2990000000.0, 2833622238.184467, 2482349699.9527006, 2805844426.620047, 2457811502.996783, 2952191421.975331, 2691075622.9536285, 2655096182.257587, 2526910757.817306, 2990000000.0, 2663141994.342559, 2591391198.7832203, 2611162057.4292507, 2851997732.742985, 2804919072.1882195, 2818181400.5188985, 2823270952.0837936, 2990000000.0, 2597061739.3722224, 2569790168.4330215, 2493646821.6870775, 2875900740.632284, 2990000000.0, 2673944540.3406587, 2487092634.499727, 2490984565.142459, 2885847610.701983, 2912645438.601758, 2855084726.423566, 2530800515.0674143, 2767874105.386491, 2736174335.157166, 2764156795.340515, 2950124412.167723, 2765510112.3535385, 2894011759.00988, 2722804059.1373553, 2783644942.234235, 2880295808.0097537, 2446000000.0, 2619631126.5680103, 2580545589.380232, 2537532686.2684064, 2631292948.1253605, 2990000000.0, 2480731141.5425487, 2978763312.6361413, 2446000000.0, 2615658593.747381, 2748776730.5750117, 2867376833.120436, 2903354981.0309024, 2927235915.31811, 2612050004.2265277, 2582611088.766104, 2946168163.9450345, 2653390580.625965, 2446000000.0, 2446000000.0, 2467497669.8789744, 2842015840.1797657, 2743208742.286417, 2897354250.5038333, 2591669141.0025296, 2747621690.6965423, 2878659209.807139, 2622330475.4588304, 2830589785.369335, 2531705401.2903075, 2608319230.1093597, 2603462479.3367825, 2446000000.0, 2839128986.66667, 2580795372.8260365, 2707883830.3791265, 2837366338.120947, 2827698799.298711, 2890108977.656212, 2678071887.8011303, 2592691626.9687095, 2683090096.89538, 2446000000.0, 2446000000.0, 2446000000.0, 2448423719.8176928, 2814540926.618204, 2470939385.9918914, 2604391156.729267, 2990000000.0, 2610086441.0732975, 2910978620.3557954, 2464013515.6257463, 2649652442.3512306, 2459984803.366157, 2614576528.30682, 2940980465.22771, 2446000000.0, 2824285728.3241425, 2769413587.2064404, 2548879607.5190797, 2446000000.0, 2724040254.0232234, 2565372110.299356, 2768016269.2637405, 2710412754.458181, 2990000000.0, 2640702828.12009, 2446000000.0, 2753310858.4376864, 2764517495.6208754, 2990000000.0, 2939456265.1118107, 2802521418.2514563, 2990000000.0, 2446000000.0, 2537311546.8741937, 2465744903.151453, 2601367057.24773, 2446000000.0, 2881405833.2729993, 2645219734.673642, 2446000000.0, 2446000000.0, 2790426853.7295194, 2940340534.870605, 2990000000.0, 2990000000.0, 2818652823.6707687, 2450307168.956394, 2446000000.0, 2777706893.246448, 2493853694.4906316, 2594746190.990224, 2544320629.774684, 2666794181.6887474, 2990000000.0, 2747213035.4759016, 2662051621.8767886, 2446000000.0, 2446000000.0, 2576446907.7551484, 2690040551.7880898, 2990000000.0, 2739885713.2958374, 2983063338.402626, 2573111180.2813177, 2446000000.0, 2456283548.764483, 2515769887.1272197, 2990000000.0, 2491753611.348207, 2940446898.9469633, 2471568451.5582156, 2967876789.3276787, 2810382308.607458, 2662581948.4282207, 2693536551.9896083, 2533508743.077231, 2827569340.799159, 2584510003.2677503, 2446000000.0, 2446000000.0, 2751474713.0851684, 2990000000.0, 2748019660.922323, 2672693639.7235193, 2782730645.5036106, 2990000000.0, 2764348131.148264, 2595893066.313038, 2990000000.0, 2822689578.8053436, 2990000000.0, 2754398344.1800213, 2446000000.0, 2446000000.0, 2990000000.0, 2990000000.0, 2656511689.671739, 2603086091.9364166, 2990000000.0, 2446000000.0, 2473590964.538776, 2883756727.5608525, 2600123017.9545574, 2703129665.78541, 2660775179.8215456, 2797132165.2977247, 2990000000.0, 2729059697.219968, 2883932779.599254, 2446000000.0, 2691399784.2909164, 2486330171.4408374, 2446000000.0, 2477684043.610433, 2615857311.716519, 2963241175.227555, 2446000000.0, 2712787442.647124, 2576996563.2927365, 2617540976.2825894, 2989026031.0271106, 2853650035.2059035, 2990000000.0, 2663148317.616419, 2523129355.011138, 2644788056.419711, 2770729191.0397477, 2752568787.7770014, 2446000000.0, 2729033801.6391563, 2766788422.3048944, 2990000000.0, 2990000000.0, 2483848019.367162, 2628081923.396563, 2446000000.0, 2549755140.1467805, 2791008985.311843, 2990000000.0, 2514801959.673051, 2533670806.895784, 2446000000.0, 2660981410.125609, 2446000000.0, 2565385745.08574, 2478003283.3288536, 2679200244.405775, 2446000000.0, 2446000000.0, 2990000000.0, 2446000000.0, 2446000000.0, 2990000000.0, 2990000000.0, 2446000000.0, 2606967899.0921783, 2798243155.9212284, 2990000000.0, 2450962560.6295424, 2639143295.5744715, 2922564894.1387315, 2824382201.7682495, 2604912476.119481, 2668648406.8624535, 2446000000.0, 2641014170.7295284, 2633591857.844015, 2767876470.6074376, 2558769587.946654, 2834761345.6337466, 2990000000.0, 2746769337.763457, 2801091955.304947, 2718889344.5888424, 2704533850.538196, 2516690553.1725554, 2791256571.8793774, 2678392178.910653, 2990000000.0, 2990000000.0, 2810633388.0046825, 2506293998.0043707, 2446000000.0, 2990000000.0, 2776332296.8028946, 2837195603.180915, 2446000000.0, 2966653014.9390874, 2829924945.5289536, 2446000000.0, 2580249027.344176, 2776600384.696701, 2718702607.59173, 2626827072.409448, 2676735771.2444077, 2637380178.6817684, 2745983959.984335, 2990000000.0, 2446000000.0, 2641362857.417429, 2752552056.1848173, 2785554480.573638, 2606014832.9859233, 2446000000.0, 2794460713.150673, 2990000000.0, 2446000000.0, 2947888515.509771, 2617318492.1637487, 2688017584.030085, 2446000000.0, 2615770491.7279224, 2990000000.0, 2866356738.9638066, 2990000000.0, 2990000000.0, 2825599733.6086216, 2990000000.0, 2825573374.376025, 2937368418.253592, 2625674456.271891, 2722523438.433984, 2522756582.9915533, 2985100691.8447666, 2446000000.0, 2924026630.234228, 2653563492.598299, 2990000000.0, 2914858690.4471264, 2990000000.0, 2909021902.553584, 2446000000.0, 2686508731.2977247, 2446000000.0, 2568243080.5370193, 2990000000.0, 2882090807.259765, 2522377476.7280807, 2446000000.0, 2713369466.535409, 2446000000.0, 2529379472.495752, 2790008143.8722982, 2990000000.0, 2873830836.6164207, 2446000000.0, 2787881925.2205896, 2724014186.1898947, 2818506861.5359344, 2990000000.0, 2446000000.0, 2549654318.311958, 2868716883.3812065, 2446000000.0, 2990000000.0, 2805734105.439648, 2942822166.9333744, 2554786739.019967, 2933203507.3715243, 2990000000.0, 2768071991.922818, 2768492517.766256, 2778436201.7236767, 2481346357.2164445, 2665002420.852105, 2663675197.885208, 2809945825.511008, 2988151485.1141796, 2446000000.0, 2670995719.0530357, 2990000000.0, 2511166093.297386, 2491539032.9264092, 2759643390.5632887, 2942176780.3032722, 2707595345.806501, 2990000000.0, 2945820843.024042, 2941424048.5118585, 2858208461.9904494, 2990000000.0, 2649725357.295834, 2446000000.0, 2990000000.0, 2583809903.362366, 2733772079.84665, 2990000000.0, 2446000000.0, 2446000000.0, 2446000000.0, 2498536067.012097, 2825754738.8649254, 2849688222.602286, 2780080464.399315, 2446000000.0, 2446000000.0, 2719214341.5265217, 2580184366.726147, 2831326979.083634, 2900670649.5722995, 2742063993.4367795, 2917553574.135772, 2767059746.766778, 2851359270.747337, 2520932932.8522477, 2656487257.504007, 2758121496.051568, 2935183490.6478705, 2600347106.8308506, 2848829719.157114, 2633736007.154087, 2672985896.8784585, 2937817005.890573, 2446000000.0, 2446000000.0, 2446000000.0, 2446000000.0, 2527582620.618171, 2914441452.2904124, 2628737207.068884, 2758400484.209989, 2990000000.0, 2990000000.0, 2685923316.368389, 2990000000.0, 2729479436.469022, 2487777025.9723873, 2548815943.9595394, 2446000000.0, 2475218323.7494864, 2609630144.204073, 2930226831.4317265, 2990000000.0, 2446000000.0, 2812591270.285949, 2446000000.0, 2835654638.007676, 2669376916.4930267, 2446000000.0, 2966907082.649397, 2546122249.8025784, 2564244474.456341, 2446000000.0, 2533636223.4453125, 2822445752.872405, 2653935871.715428, 2794646512.1879015, 2803933750.3594913, 2990000000.0, 2613597881.313616, 2446000000.0, 2990000000.0, 2616545036.6696324, 2990000000.0, 2809941130.230776, 2669363368.6384125, 2800259285.5577736, 2990000000.0, 2990000000.0, 2723293550.2282734, 2748074205.5238476, 2990000000.0, 2485727379.50588, 2795875702.7215385, 2697542832.000879, 2790536626.6495266, 2488777163.6896033, 2446000000.0, 2446000000.0, 2446000000.0, 2583558400.4488173, 2626559710.858734, 2990000000.0, 2990000000.0, 2457024997.1061945, 2799961133.365164, 2596889931.0246143, 2628873624.9220586, 2754972974.9926662, 2876816503.629566, 2614517740.869314, 2990000000.0, 2446000000.0, 2706221767.278418, 2990000000.0, 2765367823.999902, 2990000000.0, 2729314315.540848, 2865819784.049247, 2689235494.094282, 2658927284.262435, 2502190961.6465616, 2823124611.0819354, 2484270786.1356215, 2890166673.3950357, 2990000000.0, 2805223321.18954, 2628379388.299004, 2829796575.0857735, 2622506652.0350842, 2969053557.4090786, 2446000000.0, 2615470131.348766, 2446000000.0, 2446000000.0, 2990000000.0, 2957123651.061813, 2517212224.999301, 2446000000.0, 2446000000.0, 2561791305.021504, 2990000000.0, 2824415502.304706, 2557686303.355434, 2832935708.457959, 2446000000.0, 2625477396.7530346, 2731481571.1538057, 2681382432.2815003, 2926494015.081329, 2799105705.3216844, 2890956943.364936, 2525035417.109086, 2957899668.328814, 2990000000.0, 2455050744.155593, 2475326519.9907956, 2990000000.0, 2653380082.986525, 2990000000.0, 2587721135.0931168, 2990000000.0, 2740216789.1362414, 2775080685.9048834, 2990000000.0, 2608653162.762912, 2462169705.476289, 2586165475.234818, 2829336042.9269266, 2446000000.0, 2882072721.6715326, 2562998819.165203, 2990000000.0, 2446000000.0, 2500423596.7241354, 2446000000.0, 2490550199.332542, 2772158218.495798, 2656589223.8327727, 2637011839.1163435, 2661905567.9879136, 2759941271.017217, 2446000000.0, 2902087636.840199, 2889325177.3558064, 2810406690.2667866, 2858897639.5706825, 2785672299.9853973, 2990000000.0, 2681116707.365545, 2622922584.1502094, 2508677597.1364727, 2446000000.0, 2446000000.0, 2475054516.8023386, 2685510088.8936205, 2796217298.6479435, 2718343369.5207977, 2505674542.2776175, 2958598780.8891773, 2911529542.1732454, 2661782515.280528, 2533981767.23322, 2856587050.090004, 2755700756.9505386, 2446000000.0, 2686233504.7343335, 2776134729.1610394, 2472365501.236804, 2756214786.063368, 2446000000.0, 2990000000.0, 2990000000.0, 2637238129.6585884, 2804362412.9928064, 2446000000.0, 2446000000.0, 2626405832.306322, 2446000000.0, 2904273173.0510316, 2990000000.0, 2446000000.0, 2487760850.95057, 2768781804.6372423, 2990000000.0, 2446000000.0, 2772537146.878874, 2990000000.0, 2446000000.0, 2446000000.0, 2592611895.7123375, 2567651725.878, 2932863418.668354, 2770497847.572946, 2446000000.0, 2847194237.462406, 2553106541.901139, 2990000000.0, 2540392125.828538, 2538105456.5909286, 2854508734.6254425, 2918366649.4302607, 2828141167.5773335, 2446000000.0, 2853626979.0416737, 2446000000.0, 2768734229.5120916, 2446000000.0, 2827639839.9255877, 2495431910.458269, 2446000000.0, 2904106207.4000487, 2770493647.403543, 2543843531.0379224, 2990000000.0, 2588207311.973359, 2713186932.934263, 2778039959.3085938, 2542400312.8370967, 2834647609.0743523, 2564359041.690599, 2595708940.120756, 2990000000.0, 2446000000.0, 2446000000.0, 2990000000.0, 2990000000.0, 2597358575.0323257, 2446000000.0, 2622032960.5753245, 2628386148.395021, 2653755991.2581635, 2446000000.0, 2865472201.4430714, 2849779054.4252896, 2446000000.0, 2899873063.3973866, 2990000000.0, 2751302469.34598, 2615022003.03328, 2666471702.173277, 2875693436.3006134, 2446000000.0, 2749225798.020556, 2601197318.4500184, 2990000000.0, 2657928834.4144235, 2990000000.0, 2446000000.0, 2867673408.999569, 2792065811.976385, 2479935417.1235824, 2752794703.2194595, 2990000000.0, 2618554615.9956765, 2446000000.0, 2699777155.8592367, 2471692732.52633, 2613713955.12121, 2682589771.3867397, 2446000000.0, 2446000000.0, 2837740013.7774587, 2567106161.381895, 2446000000.0, 2924754070.428738, 2778997912.973181, 2518620110.517252, 2446000000.0, 2939660540.3588276, 2800419828.863137, 2990000000.0, 2820278187.7674522, 2811153957.6991057, 2659850357.776127, 2934084975.727028, 2878514147.3081474, 2990000000.0, 2567463606.217729, 2589561792.2130175, 2578299220.1358175, 2926492730.4768724, 2990000000.0, 2583515824.425902, 2592310076.4198666, 2790583673.304358, 2639015972.797159, 2973946274.554111, 2446000000.0, 2490432050.9320054, 2501458767.1148586, 2446000000.0, 2456645789.349787, 2468555339.5410247, 2650797903.9400325, 2990000000.0, 2639200474.470087, 2446000000.0, 2689189529.8700314, 2990000000.0, 2453628490.867292, 2469683687.7486944, 2859472480.109659, 2645400905.139225, 2884953030.230852, 2700831975.0812626, 2900586746.831562, 2446000000.0, 2701252866.816486, 2648264548.1269474, 2446000000.0, 2446000000.0, 2895985706.717254, 2611469730.82469, 2446000000.0, 2678688132.7503037, 2990000000.0, 2446000000.0, 2446000000.0, 2466652544.5191436, 2990000000.0, 2781831661.9906535, 2919645127.3694844, 2446000000.0, 2446000000.0, 2828060584.537009, 2720278033.2731724, 2856675641.3613734, 2654352423.128769, 2780598969.5084147, 2747506413.81296, 2922690200.12075, 2931227601.6320276, 2446000000.0, 2446000000.0, 2988724181.4810386, 2990000000.0, 2446000000.0, 2446000000.0, 2731360964.8837085, 2967659263.9683456, 2990000000.0, 2847446214.827284, 2606066274.320277, 2473984897.4178157, 2707602161.742096, 2624969018.618788, 2446000000.0, 2990000000.0, 2990000000.0, 2990000000.0, 2467153567.9306083, 2945299406.571326, 2882692476.3202333, 2826574831.0526075, 2990000000.0, 2881469123.6203785, 2911704259.040133, 2881910403.489973, 2798029869.9635887, 2446000000.0, 2727164610.4811854, 2558548880.6080437, 2446000000.0, 2990000000.0, 2990000000.0, 2990000000.0, 2774246092.548678, 2990000000.0, 2707764728.9725375, 2759778578.858294, 2446000000.0, 2813759717.831691, 2720851078.5425715, 2446000000.0, 2690734405.454184, 2683087058.3724904, 2990000000.0, 2956837049.4690027, 2707600581.037253, 2772468335.073853, 2716464977.6945276, 2650319522.8114905, 2446000000.0, 2664065987.1650968, 2510537429.6179423, 2446000000.0, 2846004878.874389, 2812152843.327574, 2446000000.0, 2671615091.423128, 2986922827.817563, 2990000000.0, 2990000000.0, 2715029435.233362, 2485880051.0617304, 2446000000.0, 2799094446.9984674, 2808792972.490105, 2990000000.0, 2990000000.0, 2669072847.4194045, 2446000000.0, 2619778672.3803864, 2763754977.5103188, 2650539156.9286256, 2553016077.378156, 2773601762.255193, 2571914820.211498, 2540270861.235727, 2789853232.094265, 2598207670.2274113, 2771173540.8932133, 2779229188.893736, 2446000000.0, 2577749421.1766496, 2990000000.0, 2446000000.0, 2446000000.0, 2446000000.0, 2712375737.154009, 2712864778.488316, 2672967582.3633637, 2990000000.0, 2446000000.0, 2813462937.9074984, 2990000000.0, 2446000000.0, 2603964105.461016, 2508836673.041387, 2473684969.10675, 2617909442.2031045, 2990000000.0, 2990000000.0, 2615383552.4181314, 2990000000.0, 2714125906.258444, 2990000000.0, 2679457863.9848785, 2740099804.506347, 2804927580.268773, 2990000000.0, 2944202644.2822075, 2520281400.3240995, 2978977114.0671625, 2608637013.8604913, 2575562381.327746, 2961083824.1640396, 2712910325.4905863, 2780718847.4401574, 2708286629.7397757, 2796855554.6395993, 2821622488.9805336, 2446000000.0, 2890451362.184623, 2452145589.779012, 2446000000.0, 2688798797.376923, 2727262525.883699, 2523742648.0560217, 2938260371.7797637, 2446000000.0, 2596924769.359381, 2551239115.0518975, 2691971991.6034374, 2780798836.827225, 2446000000.0, 2907138667.348793, 2721561295.394667, 2446000000.0, 2446000000.0, 2701189642.3851514, 2645551005.1064525, 2676753969.100254, 2696972540.5429616, 2766052041.2745886, 2972640079.402406, 2446000000.0, 2446000000.0, 2446000000.0, 2783588649.870096, 2990000000.0, 2590612828.7369246, 2446000000.0, 2446000000.0, 2488859607.643441, 2558156657.7554393, 2596550505.272163, 2714939499.1526747, 2621702810.8499885, 2990000000.0, 2528149253.612257, 2481600646.416595, 2836836802.2631245, 2446000000.0, 2811711638.960327, 2732319735.425562, 2665025333.5769424, 2990000000.0, 2541755847.3474927, 2990000000.0, 2644373195.2607226, 2446000000.0, 2723439824.1566787, 2446000000.0, 2509121001.693679, 2813771505.003315, 2858626346.3416905, 2541765924.4667134, 2984451988.9501233, 2990000000.0, 2990000000.0, 2851174029.9435587, 2990000000.0, 2446000000.0, 2620092295.530755, 2480440610.097965, 2736867697.341225, 2554657904.22486, 2660054688.2259793, 2990000000.0, 2659109712.7499576, 2818479317.9306417, 2642570115.5722103, 2725014236.811365, 2706134741.9148173, 2828204559.1784263, 2990000000.0, 2990000000.0, 2789343239.0947475, 2868327895.552433, 2446000000.0, 2680907420.7377534, 2970458414.5168104, 2948518045.9291387, 2762205640.7700143, 2954531637.7577214, 2840203741.783177, 2990000000.0, 2783711517.26637, 2610233719.084427, 2796648588.000895, 2446000000.0, 2809803402.946543, 2446000000.0, 2446000000.0, 2829176488.7365055, 2836455882.1151037, 2446000000.0, 2519065536.144116, 2990000000.0, 2577032372.295274, 2990000000.0, 2703993197.2444725, 2816861460.2748446, 2990000000.0, 2740091410.636891, 2447179140.4041963, 2675070377.638137, 2694921110.704656, 2446000000.0, 2636366272.3945312, 2511515838.5259113, 2965741483.5481277, 2713864764.469294, 2629284862.805156, 2676016638.4279733, 2765379485.7631474, 2876140227.260557, 2447821660.1737723, 2446000000.0, 2990000000.0, 2595528074.046385, 2446000000.0, 2826932114.178636, 2832452408.2303863, 2446000000.0, 2767134366.8328032, 2910417533.5760307, 2807422218.796301, 2880494997.174831, 2446000000.0, 2795309547.863188, 2624090663.7932634, 2577351142.461782, 2949867468.3025656, 2990000000.0, 2990000000.0, 2990000000.0, 2675068581.8100796, 2801361253.522539, 2919501151.713381, 2737400681.4725223, 2740019545.9694242, 2936127784.844345]  # Truncate for embedding
baseline = 2718000000.0
mean = 2709597600.639848
std = 194269355.30860633
p5 = 2446000000.0
p50 = 2700961104.0683985
p95 = 2990000000.0
display_name = "Annual VICTORY Incentive Alignment Bond Payout"
units = "USD/year"

# Create figure with two subplots

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---

# Handle edge case where all samples are identical (zero variance)

if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax1.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Mark key statistics with formatted values in legend (use format_parameter_value for full units)

ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {format_parameter_value(p50, units)}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {format_parameter_value(p5, units)}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {format_parameter_value(p95, units)}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {format_parameter_value(baseline, units)}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---

sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax2.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Mark key percentiles

ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"

exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title

fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark

add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('mc-distribution-victory_bond_annual_payout.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Simulation Results Summary: Annual VICTORY Incentive Alignment Bond Payout**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | $2.72B |
| Mean (expected value) | $2.71B |
| Median (50th percentile) | $2.70B |
| Standard Deviation | $194M |
| 90% Confidence Interval | [$2.45B, $2.99B] |

*The histogram shows the distribution of Annual VICTORY Incentive Alignment Bond Payout across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
