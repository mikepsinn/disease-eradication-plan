```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Annual Savings from 1% Reduction in Human Casualties (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Simulation results
samples = [26834022326.63006, 25488066331.043148, 13408946820.89419, 27730312607.182434, 18094580572.808475, 25518664660.289387, 24398860766.414062, 25893880744.41805, 26188892685.23502, 27092243841.43451, 24996845974.38222, 37074815387.1147, 20755169053.811848, 32037728739.490147, 28312587916.029205, 32395632035.18127, 21044371056.681393, 24797965963.34875, 25547916448.844242, 17963438412.34024, 28524603903.32033, 14675503058.270376, 22465127855.87142, 23852988960.253258, 28622508998.792656, 27386430100.716377, 27540716365.69857, 15273010611.535757, 21455278301.143612, 22878844450.8332, 23331435738.31119, 12687931533.983267, 23052309505.326626, 25981178147.31808, 22919223932.24734, 35156670907.49964, 15269678194.46388, 15652720806.628359, 21973422564.140705, 22459951146.548344, 31249648546.691593, 28972035609.71212, 19208983737.715866, 16447368773.843332, 20624723754.45545, 27929190345.06227, 32157540710.771767, 21233181346.29108, 14655593102.387465, 15390429599.976517, 27536959088.104782, 22753660362.007584, 17315158714.493793, 16703834477.714836, 16279454779.175554, 27584375528.98383, 25787330263.10282, 23854109572.247997, 21394087498.948917, 28720770254.39232, 29018201836.799126, 16170674624.743519, 25673393574.613274, 32469051794.55955, 39193641868.55002, 21381280059.598682, 19873159346.74947, 26649522332.5292, 16240179614.140787, 25169913304.48361, 30639837175.094345, 22852770999.472504, 9995966398.799006, 19408161092.147167, 19765879372.935257, 35108973168.39469, 21142309955.455692, 13728687071.570498, 25153358034.624638, 23458316915.12708, 21383674873.121044, 15786220422.068296, 34623195464.0713, 28537210956.656513, 26263700939.57493, 23918960623.485256, 17956438948.171284, 20432052034.602657, 16526891648.645313, 38599996761.204895, 24789441345.234238, 33705365191.474182, 19543922659.030754, 26428819854.983746, 19820945486.33053, 12363736004.351097, 30447803888.9846, 18257551452.627037, 17345374332.287743, 25172210058.65872, 22309502947.198296, 30978895007.501667, 23034119176.29559, 12887846657.55214, 15857307304.975365, 17280354201.55932, 27023827063.083427, 22672147710.383545, 30433969415.70099, 16859507824.264769, 29232771122.845943, 23145965499.899582, 20259878976.802116, 20427971329.247677, 24396619457.508366, 33859104391.69292, 18480602969.792603, 14551150107.474293, 32062459306.752235, 18073762774.83001, 9799413661.577324, 17098048997.53342, 37442146581.86587, 21339370337.7755, 14583158553.69043, 38137395077.48176, 20088707573.441025, 30998153674.7286, 19243742728.298046, 32105101321.492447, 20683838885.495102, 22252682441.217144, 24573360721.714436, 21201061683.11004, 20701116360.997005, 23605428588.084087, 25698090691.233032, 26740593545.00647, 24445719725.36407, 29846759333.94468, 38433605311.91049, 16163153718.003958, 19673012668.095394, 34322262387.48469, 24315322229.742832, 29124093456.824306, 15124814660.739317, 24970421850.917194, 24788930805.30914, 22212655423.117207, 34944600469.18917, 19019462099.285187, 20530362763.723507, 12215239825.612745, 36090267260.38833, 38387794299.83495, 23478364372.46236, 24188396988.71301, 26121507512.465515, 28142742968.718266, 31939883192.16825, 27172924378.8619, 31376506505.73134, 28061725902.64709, 33095551591.66898, 21276939970.95258, 33216362136.18113, 30684945314.447014, 22552111345.16784, 19879148298.325443, 25988671801.824577, 18018710354.106773, 14890715388.461514, 21903357337.5385, 23712483856.30327, 26359000208.861053, 32900549172.65995, 11864828997.850784, 27555225185.81672, 37137993870.5551, 35891597221.18737, 30721311067.46517, 23862051143.426018, 29589306500.026093, 23799380713.845837, 32417765371.57879, 17129809572.530142, 30374570784.88548, 15066510150.989777, 37579981516.98368, 43348072454.24846, 29349389065.714706, 34529834974.777214, 14465880515.169928, 17569698767.860447, 30321839497.31314, 17048338856.136951, 17325177418.563984, 27445382777.933144, 23380212453.395535, 28203383047.46072, 29625374972.519478, 25495562088.11663, 20515404966.817783, 19299561657.586052, 20663739402.303944, 19339733524.0937, 25446536674.385456, 13682781224.672302, 9986286491.179914, 33132838555.846474, 20889493766.97054, 34495157643.60671, 17258729015.713947, 21830721640.422882, 27664485752.227463, 20965897151.444412, 21196599591.455593, 29133244095.289116, 13603480746.691412, 16318405134.792252, 23329037808.882206, 31540014328.137592, 17197533612.831993, 19360739814.04162, 22868795040.589542, 34264950463.207954, 27220717363.82633, 28547052302.639538, 31198936044.224083, 18560942797.357082, 33582442756.128, 25047720026.138813, 37740188704.68504, 23554457039.397186, 23658050935.919647, 10726143417.583353, 16026114450.247847, 18620163002.339138, 30131509374.759953, 23192604655.48108, 21258807389.90211, 22320850749.40423, 26272139409.156845, 30808411553.04489, 21157616265.30563, 20864681187.289185, 29591999246.31851, 24010739259.848408, 15317834779.842781, 26813273999.9969, 33677054125.380733, 27159596944.34442, 18718140724.117058, 12270445583.491333, 13255269692.95741, 36775271218.870705, 17801245884.46469, 35704577165.453445, 16405697959.652685, 13567462900.174288, 23376125823.1667, 30575799037.34779, 26570080195.344093, 32538163418.82268, 19736343885.745155, 35154589173.33085, 36757254379.73131, 35796005788.854866, 25405748808.392406, 19073023394.33465, 21327535402.765244, 13802416353.158562, 25971198582.767334, 12599349658.23081, 14093468114.72328, 22862422130.48434, 18728162022.603943, 29339692662.925293, 29980645406.475826, 28131736722.32797, 20352756520.179676, 25930504264.99754, 19680058043.043842, 13507338199.04273, 18790064703.324364, 23834672251.13009, 24044439827.23448, 29385184435.712135, 22073952869.831837, 26737502924.583908, 14890169363.223127, 31007606681.271698, 19259632122.877827, 33354575692.552696, 22267061664.510868, 10540277356.963497, 20420988530.99483, 22938447355.858105, 16771898774.4867, 31845865967.113205, 12862359471.372128, 40830175718.11564, 19712314223.350258, 15348978261.05929, 17344303455.972378, 24171082853.95578, 32633479233.165783, 36623919206.11435, 24294189694.69742, 34453003565.50267, 14199278386.644428, 21315192637.398624, 15609847261.656467, 20334724330.101353, 27866657947.25441, 19553487355.34414, 18661449197.42561, 29115070286.3306, 23094295632.776516, 22975778678.436684, 16391046614.57909, 42557670792.6163, 22924936625.05803, 27290878686.66486, 24462989302.037827, 22607828559.46617, 14219980293.95069, 31067715587.629787, 19751614730.44405, 34557152441.597275, 16921559265.927454, 22493773775.463814, 31732778904.054737, 36512208406.149734, 23760777305.55903, 16283803162.459198, 34728188213.05584, 15600623419.623322, 19122250776.088024, 17739239160.682404, 14305871052.9835, 20153760251.24815, 31279306528.756897, 23319202272.87854, 23221925126.218105, 33580658714.218746, 28576412954.20717, 24155106984.522846, 41058056754.95033, 21567066474.957783, 33210735490.598423, 18870554047.2034, 28815945046.04401, 35798336982.38982, 18645152628.021393, 10835525330.796598, 18193512809.952507, 28868358088.632763, 16541110978.233564, 31203331859.527252, 18500564023.277905, 25117658115.29285, 20313137847.92439, 16567123614.865967, 26894747933.500397, 12667078836.352095, 18881963139.964836, 23454326130.14835, 11948976126.384396, 17525964495.03704, 30602468308.345337, 18236946718.856464, 30082033292.282463, 29798502515.945744, 33428433205.628098, 28725990778.649223, 10608508893.71945, 39016693504.57569, 15922080737.103662, 24577337099.996315, 43359247449.30226, 16899808605.073835, 19946983123.976208, 13688249265.595299, 32679539983.770958, 18576806423.193886, 30463862708.13129, 34911137452.36945, 24176755215.682194, 20141560003.587814, 24288019397.149467, 14532875779.30214, 38666791135.151886, 27894972847.259922, 24036099856.049404, 18292147423.621403, 24691242469.527534, 24851771033.790085, 33073513541.142982, 23027605201.944286, 24463676871.979073, 18511410679.661808, 17604428301.978466, 29346720573.157986, 12442450888.046806, 30890967767.04932, 35379218860.10948, 13896157522.691608, 21906211125.465214, 27863043675.74239, 17464746525.80287, 19443948970.80358, 24432023692.482857, 24413640207.274582, 19810355642.70467, 24019257658.396408, 30512273134.753525, 20040336816.886948, 19353613229.573772, 12693332065.166555, 21209175559.28574, 30764123253.580048, 21698209497.782402, 14489137282.648779, 17649397477.318348, 23672607754.33504, 45835896093.94807, 30206600535.67837, 38322224293.612404, 21274154032.581158, 38746506032.69276, 18470215097.352623, 16463502162.923782, 34706071541.551094, 23566846470.712437, 24203672346.52715, 10558809612.951628, 15712366396.808136, 24458446233.947834, 18409485055.80782, 15830969470.793955, 20538190000.217922, 30534526384.835537, 27776822870.852203, 10170952851.149525, 27035560851.146793, 21783753854.00787, 29230904812.57782, 17283073482.23674, 16227484810.668673, 35208119022.379875, 12694434047.751568, 23582955047.404594, 20896638809.883625, 21809421242.728996, 21950683195.635014, 24200097716.67574, 27618463236.284004, 22389594605.951694, 20160329597.09277, 19611288988.98452, 19407102801.243843, 14332587141.792236, 23859545690.56628, 29441503292.86569, 34000300946.268448, 45032672136.77841, 24722225472.561592, 21422350412.355885, 23406060054.10508, 21126912406.56193, 21063815707.202816, 24144240492.552727, 35731579388.07005, 24646880858.56097, 18683934076.616726, 26517992545.610733, 25076867492.04759, 35578505171.77441, 26420941606.348106, 31528210734.27352, 26683087674.080475, 14272066765.9951, 26889530882.63544, 18343847267.578644, 18203317818.54198, 24892343123.04396, 32429291750.91387, 18630607261.29571, 26909427763.21365, 22819431389.509262, 29607394208.24519, 22895175561.734673, 24121387209.118282, 19337692044.349636, 25337745192.903618, 14102072635.474564, 20877229966.072227, 20617611279.358784, 31590354627.357353, 16713764174.82044, 19437415138.50628, 24782917833.03405, 28125000000.0, 21132108624.884403, 38504982795.70252, 25928185581.881435, 21416026994.753647, 21995527952.49859, 19089743961.682213, 27519117721.558907, 29743795252.04649, 15547125331.650665, 22356534919.264843, 17586224864.870007, 26128352788.85657, 19309486133.392307, 29366571189.140152, 33083595186.590225, 10021638652.035263, 9851764139.215315, 28098741919.47593, 32239431066.409718, 24286026525.36781, 18777610460.435223, 38073347925.6804, 30291613612.116558, 17923223671.56268, 35645767218.930984, 17585697126.022804, 17509247754.519306, 16296302823.723291, 16673239184.419731, 19703822268.71329, 16298757719.523582, 22881729398.313828, 28434678202.774662, 17349303854.154297, 18347083886.79544, 15310743920.748674, 14892065003.163712, 36647133465.06511, 21599741866.810123, 21171208288.5236, 17186799890.1507, 35222931712.461464, 17079881366.13321, 27818487788.748352, 29235011015.478596, 25597588404.603893, 16003768267.039454, 29660135781.563213, 25479307620.680645, 29326464656.156425, 18344006601.1754, 20816829252.94411, 23710723462.04306, 28412741930.88979, 25018248286.549366, 27169263070.93938, 30217695658.385616, 18390370373.962276, 27119595914.11396, 24397465749.89402, 24109214363.714478, 23567126615.35932, 19252278743.84431, 18424606605.079327, 24131456630.64711, 18004315081.635876, 21429165432.4998, 23626869055.348755, 10157843322.719881, 22233450060.6194, 28682176348.508755, 40691701423.32904, 28123388328.161484, 22750405902.423813, 11028411377.667738, 15341249152.259384, 24668093138.85235, 20055516978.826748, 27441575499.760582, 34231346073.946667, 25754770605.013145, 20762196771.75833, 31917331071.53399, 15221222486.414108, 26090689298.403423, 12123933825.806223, 18474387093.37901, 46463291260.53221, 16831669337.404226, 10377136663.432606, 16119119921.959976, 12878510609.605255, 27427087883.22968, 27503856739.273037, 23810053220.256508, 30369040847.316036, 13849425514.507105, 31128851473.56154, 20694768867.658154, 28907937323.92519, 31508590148.861023, 40279050336.85533, 18562472013.221146, 13338179336.935, 21709713781.484825, 19832387511.4577, 19612964181.248474, 14672182970.40101, 27291655079.835934, 18108017032.144165, 15797004419.321346, 16463088574.294138, 11153960585.935345, 31614411064.023544, 41351966779.261475, 27870466853.56435, 27581047328.80863, 20337080591.15717, 25581927860.67996, 17418324635.134228, 22465655650.270466, 17294874808.533154, 33438306795.165802, 31618871729.358273, 13185205177.812805, 24730479081.179523, 31390186481.317486, 12116790485.360262, 10844172444.169302, 34652544466.38994, 24766812492.97116, 18802795961.48156, 20011872355.99953, 21859081159.08049, 25980430604.17731, 16738965473.261389, 24926641908.04163, 37358372403.970085, 28673643115.75533, 33916945926.18361, 25784939739.12416, 25716521116.351112, 28844734123.466885, 22471373250.258156, 10570098474.380863, 38070718374.745094, 24761062975.328014, 29221617759.489532, 25802715701.62873, 22185746898.10369, 11816274823.743746, 26785769757.46195, 19542549078.126564, 20308218778.708664, 11028337570.353312, 23385610603.02667, 9819744446.29183, 29670677373.2545, 20158132895.973625, 29427947557.973408, 21109649228.134182, 29278535796.944473, 28064895400.12963, 30861278566.9149, 15254450322.217302, 15556594527.19189, 32298294385.623043, 12600904561.802471, 24502854578.548027, 18598222034.54576, 26720313160.3814, 47550000000.0, 30197862620.55277, 23186579490.680744, 26113940696.635605, 22248401431.326218, 39538504605.48536, 22065333895.86517, 21198853579.98213, 26192077216.951088, 24497521202.489532, 30036169239.80688, 24544914798.232246, 20437720403.429207, 28997333762.59975, 31539011121.213993, 25457496197.04849, 39057044453.78204, 24038394425.665108, 26814622649.0291, 12411638758.8005, 20282684941.84559, 21794189719.674793, 31592525738.364307, 8151322962.134112, 25958483079.230007, 23405698265.982574, 14417504724.539953, 17407044308.472782, 41172792460.08854, 23666669239.56211, 32173951679.346664, 23957592644.659214, 14355343937.77521, 23196903060.09307, 20122935487.150467, 31694047969.17932, 24798902620.761993, 27332691342.363068, 35338156363.71543, 28668228516.16812, 14532821183.432756, 34411189353.54732, 22618001117.230785, 19217189588.99233, 34586280229.32946, 20445813142.738773, 23782830952.290005, 23944378970.060394, 15430742040.653645, 16598269068.029543, 23801715250.24196, 8935706201.341227, 27878321375.09894, 22536578886.259064, 37582498691.00795, 25847594310.66558, 38888731617.17044, 19025114279.36972, 28392287361.476833, 21235683434.431786, 25201754828.68455, 26933143898.435753, 21057995861.545063, 14461271160.518316, 30843924843.742138, 27921464542.222164, 13126160160.950193, 10138898919.977953, 32954044402.68764, 12186614942.541626, 28489295264.888115, 15586145140.241106, 34582993498.53194, 24641404852.44887, 25990033974.757988, 17459047385.741882, 13076845693.387299, 32436493124.912422, 29693656624.62011, 19386550902.049057, 14544197609.55692, 18170324052.21183, 17460488704.704777, 20496096637.26792, 30706428316.365116, 29693430245.1662, 25627204901.127792, 26655259144.34181, 28950589734.189346, 9387426524.77154, 25328536011.715595, 31749713404.236393, 7416395919.693827, 27825104363.55334, 40532396300.522644, 26787748638.532543, 29194336947.36508, 30936336832.22738, 16140461012.48527, 17762397999.32845, 31198228616.57368, 31695763162.24167, 22949298562.431942, 18353183043.22117, 18087494324.190666, 26173122873.20073, 23815946806.295048, 23668596070.99565, 19318710179.686367, 30477933245.61912, 22612683055.602207, 23864785513.511868, 14024861109.048174, 18862248304.185974, 22336483954.025234, 11735473889.143703, 23530016568.79191, 24678976883.657135, 12273880107.371538, 31153003681.9469, 29807800637.972023, 25863982225.841232, 21609710872.300907, 13778203488.091888, 27612024295.141785, 17636902504.55141, 15488642744.422626, 19636504554.352657, 31988259586.932926, 29286801381.523415, 16368572546.26716, 27582176199.669342, 14108585448.391235, 35660536764.47481, 24266330851.678425, 19308591810.629715, 22497773555.137264, 22500847369.202847, 25303281748.308605, 13494125734.733553, 17503416963.44816, 24637278332.331226, 34201873175.610176, 27966626828.71762, 34078824274.172253, 38957356260.40083, 15443737004.639114, 18093273584.785233, 25102130650.854122, 31314889274.805626, 22170177352.273033, 26869081365.42517, 23973707352.382706, 11110355148.041122, 23902969970.902824, 27458891998.402763, 17248728515.973045, 26191067583.977875, 19755817981.950176, 23417002005.785126, 28056346761.426613, 44055067635.47078, 29179869641.283356, 31652339633.773903, 32509349719.113876, 25707327946.820583, 28970068212.48859, 24183567615.736237, 22305592822.80179, 32896548897.416138, 24437904064.7642, 16052662510.084595, 18065414245.30599, 21895047733.28544, 18918469178.38252, 21077990188.359924, 22466685375.747, 22507039224.555126, 20659905320.24178, 26618811820.95682, 38033512006.57823, 26464983361.31403, 15588716210.803537, 11461083585.6722, 31867698753.47742, 20951531435.535072, 22178342922.777985, 10808666198.702757, 20689646510.591576, 27313892724.112915, 16643931380.851656, 14361350388.576694, 13731735057.5616, 36125147761.56632, 25137696823.817955, 17400403906.96591, 26209235924.169323, 23485297363.36284, 11368794609.486364, 23739619517.234512, 22139508693.122486, 23603321217.746754, 35259621408.80828, 15252517239.076939, 18951089815.87, 29338184639.038506, 26277959962.559963, 16535861954.951311, 17002000482.731642, 29423790102.184563, 42982900983.70939, 22664867558.71336, 14210752719.006477, 13312556134.098518, 20112479869.211582, 27900231329.6134, 34413337876.32872, 21461162627.86353, 23042452194.777203, 41863792803.84721, 23470700339.979267, 22313400893.867447, 37977560400.03438, 19698726233.92584, 18067231537.399933, 33767685213.675972, 13579859194.474215, 39080951774.09975, 21573139404.07093, 28006104820.164055, 20618208517.894173, 18930093597.528088, 20669056466.368736, 23217157061.38104, 18709873325.261967, 12933038582.94785, 25325865415.916065, 28591179471.388252, 13724337447.153997, 27410169087.043198, 24693283846.91168, 33112293295.448315, 26058591523.951305, 22938042018.645573, 27243979170.136105, 25523278156.872463, 36938612599.092224, 20305173337.82654, 23393341995.88592, 34284095742.203316, 23599175230.6551, 22944279060.367058, 17088790068.26262, 23827315028.647583, 14344686174.63645, 12455361762.845884, 19154812712.01406, 35666313135.92264, 26273308099.77415, 31019417944.925255, 16192334559.955791, 31428235557.10038, 16859339099.255543, 18611150124.064312, 32541465463.65635, 27772673735.873173, 30665870759.72044, 29659021481.202393, 20491124993.576626, 15206989413.38712, 13281411247.68396, 28125000000.0, 14402834087.326626, 27258290168.563385, 19252679872.001644, 27063890859.404972, 26620956234.250927, 23629281705.20087, 16663715912.81889, 13472216528.217564, 18352687925.123947, 35190255499.88336, 16611147621.719114, 33849251220.480587, 28084821311.41401, 16422651777.056194, 21487916794.419357, 26374097726.925785, 27219841791.866, 6825842853.846373, 7479934280.099477, 28642641666.945713, 16413198066.170479, 31801453208.58424, 31341303635.892704, 15735458248.491863, 17465825807.377934, 31671963725.80388, 18133749440.2674, 29603529622.24683, 42177320409.14686, 15262220222.931293, 15071637243.423819, 25679903368.217735, 11809283997.436502, 10441002673.427357, 18130677323.918266, 40131022967.17621, 26614365375.84762, 20825070635.74993, 14008360296.838232, 16627833103.297304, 18777514707.082966, 18007990391.94461, 24571838110.858715, 33140219431.975567, 29136206567.930294, 35432265854.14187, 21066438375.353287, 38116116985.224754, 32662229119.567974, 25509683474.17543, 27664734986.60377, 22028434919.34992]  # Truncate for embedding
baseline = 24460000000.0
mean = 24172985281.049488
std = 7403235934.248766
p5 = 13089858573.473236
p50 = 23479220724.198936
p95 = 37518615043.24933
display_name = "Annual Savings from 1% Reduction in Human Casualties"
units = "USD/year"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax1.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Mark key statistics with formatted values in legend (use format_parameter_value for full units)
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {format_parameter_value(p50, units)}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {format_parameter_value(p5, units)}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {format_parameter_value(p95, units)}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {format_parameter_value(baseline, units)}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax2.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('mc-distribution-peace_dividend_human_casualties.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 2.446e+10 |
| Mean (expected value) | 2.417e+10 |
| Median (50th percentile) | 2.348e+10 |
| Standard Deviation | 7.403e+09 |
| 90% Confidence Interval | [1.309e+10, 3.752e+10] |

*The histogram shows the distribution of Annual Savings from 1% Reduction in Human Casualties across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
