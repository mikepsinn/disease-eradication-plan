```{python}
#| warning: false
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path
from dih_models.parameters import *

# --- Import centralized style ---

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, PATTERN_DIAGONAL, get_figure_output_path)

setup_chart_style()

# --- Data calculated from annual parameters ---

scenarios = ['Conservative', 'Baseline', 'Optimistic']

# Daily opportunity costs (annual benefits / 365)
money_lost = [
    float(SENSITIVITY_NET_BENEFIT_CONSERVATIVE) / 365 / 1_000_000,  # Conservative daily benefit in millions
    float(DFDA_RD_GROSS_SAVINGS_ANNUAL) / 365 / 1_000_000,  # Baseline daily R&D savings in millions
    float(SENSITIVITY_NET_BENEFIT_OPTIMISTIC) / 365 / 1_000_000  # Optimistic daily benefit in millions
]

# Daily QALYs foregone (annual QALYs / 365)
qalys_lost = [
    float(SENSITIVITY_TOTAL_QALYS_CONSERVATIVE) / 365,  # Conservative daily QALYs
    float(GLOBAL_DFDA_QALYS_GAINED_ANNUAL) / 365,  # Baseline daily QALYs
    float(SENSITIVITY_TOTAL_QALYS_OPTIMISTIC) / 365  # Optimistic daily QALYs
]

# --- Create figure ---

fig, ax = plt.subplots(figsize=(12, 8))

x = np.arange(len(scenarios))
width = 0.7

# Create bars

bars = ax.bar(
    x,
    money_lost,
    width,
    color=COLOR_WHITE,
    edgecolor=COLOR_BLACK,
    linewidth=2.5,
    hatch=PATTERN_DIAGONAL
)

# Highlight base case with solid fill

bars[1].set_facecolor(COLOR_BLACK)
bars[1].set_hatch(None)

# --- Add value labels ---

for i, (money, qaly) in enumerate(zip(money_lost, qalys_lost)):
    # Money label - ALL bars get white box for readability over patterns
    text_color = COLOR_WHITE if i == 1 else COLOR_BLACK

    ax.text(
        i, money/2,
        f'${money}M/day',
        ha='center', va='center',
        fontsize=28, fontweight='bold',
        color=text_color,
        bbox=dict(boxstyle='round,pad=0.5', facecolor=COLOR_WHITE if i != 1 else COLOR_BLACK,
                  edgecolor=COLOR_BLACK, linewidth=2)
    )

    # QALY label ABOVE bar to avoid overlap with x-axis labels
    ax.text(
        i, money + 12,
        f'{qaly:,}\nQALYs/day',
        ha='center', va='bottom',
        fontsize=20, fontweight='bold',
        color=COLOR_BLACK
    )

# --- Styling ---

ax.set_title(
    'Daily Cost of Delaying the dFDA\nEvery Day We Wait',
    fontsize=36, fontweight='bold',
    color=COLOR_BLACK, pad=25
)

ax.set_ylabel(
    'Economic Waste Per Day\n($ Millions)',
    fontsize=28, fontweight='bold',
    color=COLOR_BLACK, labelpad=15
)

ax.set_xticks(x)
ax.set_xticklabels(scenarios, fontsize=22, fontweight='bold')

# Set y-axis limits - extra space at top for QALY labels

ax.set_ylim(0, max(money_lost) * 1.35)

# Remove y-axis (data is labeled)

ax.set_yticks([])
ax.spines['left'].set_visible(False)

# Clean up chart

clean_spines(ax)
ax.spines['bottom'].set_linewidth(2.5)
ax.tick_params(axis='x', length=0)

# Add watermark

add_watermark(fig)

# --- Save figure ---

output_path = get_figure_output_path('dfda-daily-opportunity-cost-column-chart.png')

plt.savefig(output_path, dpi=200, bbox_inches=None, facecolor=COLOR_WHITE)

# Add metadata

from dih_models.plotting.chart_style import add_png_metadata, get_figure_output_path
add_png_metadata(
    output_path,
    title="Daily Cost of Delaying the dFDA",
    description=f"Baseline: ${money_lost[1]:.0f}M and {qalys_lost[1]:.0f} QALYs lost per day. Ranges from ${money_lost[0]:.0f}M (conservative) to ${money_lost[2]:.0f}M (optimistic)"
)

plt.show()
```
