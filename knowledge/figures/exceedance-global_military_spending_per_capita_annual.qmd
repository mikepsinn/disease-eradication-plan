```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Per Capita Military Spending Globally"

import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples

samples = [347.1738372877555, 309.85786061201367, 360.90077218068546, 366.91943907957443, 313.4794335132382, 310.89581972486087, 341.87252320380867, 328.91657455121333, 337.59757546092635, 313.90932424364917, 364.97213327249915, 361.76021652325124, 340.0391248815962, 368.4448252740553, 352.12563382688927, 313.73872877329546, 349.11324417180117, 311.0322318074603, 364.9420445566322, 336.6261053381289, 332.6975437735721, 318.64497816302475, 367.99724770011494, 333.576646239216, 325.7248784023769, 327.89116807662685, 354.11630441988626, 349.01282784486943, 350.4516068392239, 351.0035226619252, 364.6341463414634, 326.34641403340294, 323.355639503671, 314.98361924747513, 356.7033351788661, 368.4366903683477, 334.756421536344, 314.2614662210281, 314.6903159748165, 357.77907719551337, 360.67487649651486, 354.4505662393774, 319.07271955912853, 344.98933745617234, 341.54092639062543, 344.5852180010278, 364.7191878563301, 344.7323490209953, 358.66166573823364, 340.08493237388376, 346.703060014595, 357.178714987969, 311.51096228821984, 328.81848021333946, 324.5356299091452, 319.81283156228176, 330.09475262209304, 366.72091564192164, 313.56031187648887, 367.8051479579464, 312.40905941211753, 328.38355956866343, 342.91246720456843, 355.7811063145224, 359.6713280045083, 362.2501038082936, 327.98841093673417, 324.7621663262508, 364.2925853608267, 332.5111424009408, 310.7907828163611, 310.22682405816505, 312.1010007478392, 353.0351412072028, 342.3065926261067, 359.02291523614474, 325.7553470951176, 342.78679570894235, 357.00170790118943, 329.1139620727353, 351.79696100547494, 319.17221430258786, 327.5798094236093, 327.047776804029, 310.4744311480238, 352.72236858551526, 324.5630264757676, 338.45907200941195, 352.5313765866654, 351.48357915394155, 358.2397937605233, 335.2070193141262, 325.8674308639528, 335.754756164657, 312.4268500237184, 311.4710606910898, 310.97719970514163, 309.9958724032353, 350.05675220210156, 312.4806294786739, 327.1495185475001, 367.63748180974915, 327.77336705526216, 360.4948581632103, 311.71662202866514, 332.1025560600358, 311.27207995093727, 328.2650783015961, 363.73308445750706, 312.58622980264175, 351.11355074683263, 345.15667862245556, 321.05970577042336, 311.4668710555099, 340.21958960095236, 322.87074608163545, 345.0047911214147, 338.73472983555007, 366.2215368078493, 331.12404477052735, 309.7927105863106, 343.40572746315405, 344.62443380766297, 367.35643646645025, 363.56867326659943, 348.75262285436924, 366.86893017904066, 310.446409309431, 319.78852424098096, 311.9076407711274, 326.8181946764772, 311.19140480656273, 357.2987629990676, 331.6179562911775, 311.56520297361106, 309.7614243298727, 347.4396277497095, 363.66405829218525, 364.6341463414634, 364.6341463414634, 350.5027337675213, 310.20383546562937, 313.5897435897436, 346.05795382268997, 315.006408939104, 326.09263279011054, 320.5588208330051, 333.97557985252774, 368.73282516908074, 342.7423312864173, 333.4575297491916, 309.84074706071493, 312.3764394968986, 324.0860328278119, 336.51318111579815, 365.4462666298612, 341.94492593539957, 368.2681651652255, 323.7200590494953, 310.4312867696672, 310.8635886357468, 317.4193937341861, 364.6341463414634, 314.77504662356154, 363.6755313992293, 312.55000946042765, 366.6325289147624, 349.6056184782124, 333.51546544440964, 336.89456554772204, 319.3704831624505, 351.46954494105745, 324.97041188434173, 310.59232652069755, 310.7997069189689, 343.20598877557984, 366.3275261551597, 342.8300967198199, 334.61983853684944, 346.60374281863517, 367.60572207718104, 344.6060203619851, 326.2183325270622, 368.5433017622693, 350.94048442958393, 366.53005985957174, 343.5240177868886, 310.58782341696076, 311.1575621940315, 365.99203342813047, 365.6526453684204, 332.8522297745544, 327.0065401616576, 366.87762715058625, 310.1230085750637, 312.7730582155472, 357.5529901101637, 326.6818819842168, 337.94076933837204, 333.31807837358764, 348.1676511417468, 367.1302243160665, 340.766271301865, 357.57202741584246, 313.5897435897436, 336.6614695584928, 314.1774407766505, 310.56541855710964, 313.22438384326995, 328.40531760543394, 366.13304659513005, 310.99184832645795, 338.99354570053157, 324.1463315527553, 328.58965700226776, 368.91007346631056, 354.29522262878197, 367.45854473237677, 333.57733699983083, 318.229071369797, 331.5707581044618, 345.29967489999495, 343.32500593801166, 310.03339958041647, 340.76345127131606, 344.87131690750965, 364.6341463414634, 364.93895516561616, 313.90387822969967, 329.7434096322672, 311.53593950071763, 321.15588551217434, 347.5028410412853, 368.07558236881346, 317.3128812871064, 319.38830042527735, 313.5897435897436, 333.3406096266671, 309.94652028158026, 322.8722426992276, 313.25958097781955, 335.3301907145374, 312.7074870597182, 311.5502573579466, 364.6341463414634, 310.8373089063019, 310.08242749588055, 365.12486749233614, 364.6341463414634, 310.37832555898166, 327.43179063616265, 348.288254423113, 365.6291785021656, 310.27619644781583, 330.9534890234548, 361.7459172226736, 351.1240107091744, 327.2066299363602, 334.1780927618876, 311.1842988225433, 331.15809270750793, 330.346260394841, 344.98959456403645, 322.1459028991385, 352.249084524504, 368.98341460062284, 342.6940530486755, 348.5974770855193, 339.6584556165145, 338.0938667573249, 317.5207005900944, 347.5297257953407, 335.2419829641135, 364.6341463414634, 366.35432941735644, 349.6328584042758, 316.3764243574722, 310.14423362844, 368.1446502946726, 345.90859334142044, 352.51287577556394, 312.6550735815008, 366.50067826803263, 351.72489623067247, 310.13639820626975, 324.5031021668574, 345.93772389613804, 339.6381101570269, 329.60609179069667, 335.0611602572831, 330.76065308345454, 342.608594551095, 366.8306133346684, 313.5897435897436, 331.19622392479465, 343.32318586411327, 346.9104737450258, 327.32739011576166, 312.703472272596, 347.87762731218623, 365.63546222677354, 311.8158774769608, 364.4780999734123, 328.56529875117576, 336.2924632812732, 309.90890393558715, 328.39581153335473, 367.6336541621185, 355.6707155922462, 365.61232537204626, 368.2091305863898, 351.2560155171698, 365.55812900334416, 351.253157726079, 363.3434453882311, 329.4799540773354, 340.0543636084932, 318.1880668178313, 368.4875130492014, 310.40499675544964, 361.90370700925854, 332.53004025984865, 368.2380837868787, 360.91388994647747, 365.20063275004645, 360.28351351747074, 311.9677548568117, 336.1278246306523, 310.38006964403354, 323.1858547023848, 366.6447426179395, 357.372839231767, 318.14636471073555, 309.7540690094924, 339.0569757198129, 310.5564946061747, 318.9164628157673, 347.3941592748631, 368.312933948474, 356.4794178007856, 313.5897435897436, 347.1632558062208, 340.2167501437734, 350.486903954158, 366.15413674451224, 313.5897435897436, 321.14481016290375, 355.9261138428164, 312.00577329020075, 366.80976029113185, 349.1012727135293, 363.93172911965223, 321.7085390997788, 362.8940916730673, 368.7211085692705, 345.01084832385374, 345.0565601077151, 346.1371949633113, 313.6281300708287, 333.7798720053957, 333.63489317853754, 349.55826312615903, 368.81593526782893, 309.93118869696525, 334.4344333540201, 366.7839990063199, 316.9127372809866, 314.7514055080286, 344.0944593756177, 363.8621199772822, 338.4276245178934, 367.49809165145456, 364.255130227793, 363.78093049507913, 354.78875945940024, 364.6341463414634, 332.1105265206573, 313.5897435897436, 366.20997406143863, 324.89363730047177, 341.27939317093507, 367.5890826737684, 312.0880211348882, 310.6955062279122, 312.0841138331723, 315.52216769589097, 351.2728206658454, 353.8661988071813, 346.31583834794026, 311.3346424455212, 313.5897435897436, 339.6938644137512, 324.4960099484081, 351.87686598938217, 359.381292057981, 342.1820085493276, 361.20488444738197, 344.90081213025866, 354.04716553965164, 317.98745594523535, 332.8495599278694, 343.92895521820435, 363.1077229384765, 326.7064366137336, 353.7732216061335, 330.36202983586855, 334.65175016394153, 363.39183880611665, 313.5897435897436, 310.87318960635673, 311.6104254941371, 313.5897435897436, 318.71886629985323, 360.8688333470869, 329.8151137302134, 343.95929571139555, 368.6235557217646, 367.5040654486941, 336.06394382572375, 367.3826839805719, 340.8119804580823, 314.3368851651791, 321.05271198315353, 311.60387213419637, 312.9525113058246, 327.7233917515606, 362.57288706102906, 365.66615131471707, 311.2132173271411, 349.8452608954864, 309.8600731400038, 352.3458905914348, 334.2576534740639, 312.99948811647334, 366.5280523429907, 320.75677459742207, 322.7469680039958, 309.9755305025409, 319.38449834008713, 350.91404591985855, 332.57073770533, 347.89779956633566, 348.9058994026292, 367.53699318356064, 328.1579154867323, 311.589251951538, 368.72698317396186, 328.48061638553924, 368.5042711598545, 349.5577537160999, 334.2561739349362, 348.5070991865689, 364.6341463414634, 364.6341463414634, 340.13825298629996, 342.83603136358306, 368.6845755469353, 314.11100918015444, 348.03124881178877, 337.3315394329624, 347.4515480490044, 314.4470941151035, 312.0375038594632, 313.5897435897436, 310.1639048289284, 324.8660562566738, 329.57683343935435, 364.657985465481, 368.544690045603, 310.94542535329134, 348.4747369391396, 326.32758504466983, 329.8300409001797, 343.58652034645644, 356.8023937034956, 328.2586411637824, 368.74283664331404, 310.2610563915335, 338.2778858535892, 364.6341463414634, 344.71688003316734, 367.00974858236555, 340.79399907249154, 355.61260634917033, 336.4253470684701, 333.1161805093385, 315.9246648808554, 350.9876550816072, 313.95047460195735, 358.2460309238818, 368.64203594403295, 349.04584438273, 329.77595986820336, 351.7109813713597, 329.1332457348024, 366.75930850001384, 313.00148524331604, 328.3629242399975, 313.5897435897436, 311.661602603301, 367.33453412698555, 365.4737371285135, 317.57810142115454, 311.6911892926812, 313.5897435897436, 322.4776650074022, 364.6341463414634, 351.1276212502658, 322.02695409473984, 352.0512281467689, 311.92366287489966, 329.45838796085775, 341.02999842292076, 335.5683795159284, 362.1700305192215, 348.38188401392654, 358.33146098428864, 318.4387242041604, 365.5573811905497, 366.094703410933, 310.727511903747, 312.96444184899826, 367.4661082014321, 332.5099950900691, 367.14736520396895, 325.32251801186084, 366.9075703400312, 341.9809615702935, 345.7725879615251, 366.3946891657186, 327.61638540970586, 311.51318116738474, 325.15194421381165, 351.6610608031604, 311.9427629113357, 357.3708834021328, 322.61022710312517, 368.34816528407873, 313.5897435897436, 315.7300422868613, 312.42339801504164, 314.6424576884268, 345.45498963912087, 332.8607023676175, 330.72036490064175, 333.4415737858039, 344.1268521429651, 309.7335993915652, 359.5343986039133, 358.15505992013306, 349.60826368936733, 354.8633673437367, 346.9232706739491, 364.6341463414634, 335.53937660238665, 329.1787715291575, 316.63882400511255, 309.8273461677967, 310.6670728083413, 312.93444857497957, 336.01885114043586, 348.06833344583475, 339.59896977471, 316.30822605549264, 365.6327335730774, 360.55435982607486, 333.42813054784057, 319.4224869326793, 354.61322216982325, 343.66567875459276, 311.4750921448074, 336.0977919756414, 345.8871253197481, 312.6379132581476, 343.7215863703125, 311.5016916386091, 367.4642251892151, 367.87800769015877, 330.7451161546067, 348.95241903505627, 313.5897435897436, 310.3180833719682, 329.5599937744863, 309.98494264643926, 359.77052870552023, 364.6341463414634, 310.3983103118763, 314.3351027319291, 345.08800550486944, 366.1779250476338, 310.57952546898974, 345.4961719890785, 365.1975925297516, 312.2851191398028, 310.8121213363801, 325.85869101594693, 323.12095316852964, 362.8573957806227, 345.274530228047, 312.7762303024914, 353.59608658941977, 321.52400749342246, 367.7537002219252, 320.12711262447147, 319.875788385722, 354.38820095574516, 361.29267385731214, 351.5315343701407, 312.41992790924405, 354.29272610220806, 309.8354290439458, 345.082834131726, 311.3782009920923, 351.47718755294267, 315.18026170770474, 310.8183272529323, 359.75249017400904, 345.2740737100513, 320.5063964059263, 366.9256661153528, 325.3758232717949, 339.0370830640617, 346.09414259076067, 320.34780546129434, 352.23675861717226, 322.759544111991, 326.19815242150923, 367.3402481932198, 309.86023957775865, 313.5897435897436, 366.17876177543127, 364.6341463414634, 326.3789447625524, 313.4226742018013, 329.0813967745968, 329.7766995893946, 332.5510785976727, 310.1480967292493, 355.5749902287973, 353.87603581929045, 311.65899807820364, 359.29510806235095, 364.6341463414634, 343.18725096511866, 328.31385652653404, 333.9403577699604, 356.68091040962713, 312.5995909407687, 342.9613251469664, 326.7995964363465, 365.0740560747027, 333.0070841451271, 365.91287292230135, 310.1099360192394, 355.81319968953505, 347.6175968564003, 313.4725921419058, 343.3495810339309, 368.044292838301, 328.7006300704593, 312.44529342385084, 337.575206063638, 312.56371620853963, 328.17062595175116, 335.7001515851074, 312.49985261002627, 312.1413603145661, 352.57186752502594, 323.0610754379395, 313.5897435897436, 361.98222811782176, 346.19822444430827, 317.7330069283819, 310.95392027362885, 363.5907084969201, 348.5245248097581, 364.6341463414634, 350.67899987117295, 349.68933468730876, 333.2170361625533, 362.98920040944523, 356.98601797426966, 367.8602952129255, 323.100306520597, 325.52432403749293, 324.2892300267568, 362.1698918696172, 366.70485797014777, 324.8613871270741, 325.82560638037074, 347.4566568517178, 330.9395640055468, 367.28635850427315, 313.5897435897436, 314.62943995072175, 315.8440375995326, 313.5897435897436, 310.90357102068475, 312.21767120100054, 332.2277652377543, 368.51191623048527, 330.95974252815813, 309.82162037669235, 336.4203321415253, 368.8118756887901, 310.5705130086496, 312.342131085498, 354.9255957524809, 331.63776454124775, 357.6823488201572, 337.6902315660621, 359.3722260035359, 309.8384722081277, 337.7361271954062, 331.95083755702353, 310.55384380366587, 311.93368713417266, 358.8750123285554, 327.9248631876997, 309.78790108599975, 335.2742894314086, 368.4411708329159, 313.5897435897436, 311.6678748382994, 312.0077712421383, 366.87886917724603, 346.50608498138655, 361.43070742254775, 310.2540232221947, 310.172417341767, 351.5227987855581, 339.8097510927573, 354.6228135667009, 332.6162618915095, 346.3721693110942, 342.77425289826056, 361.7594440023375, 362.68088197286966, 312.1581363078985, 313.5897435897436, 368.87758206255097, 368.1606993133331, 309.7813529552272, 313.11500146334646, 341.0168658522132, 366.6090930283817, 365.3080226356986, 353.62337848829986, 327.33302521370223, 312.81649959286494, 338.4283675229717, 329.40275030141277, 309.75940474456036, 364.6341463414634, 365.36592488787517, 368.4034380936667, 312.06304183716355, 364.19889739306274, 357.4379046300839, 351.36173034190847, 367.8699594509536, 357.3056076023004, 360.57322961508874, 357.35332975797616, 348.26510169962626, 312.8107362046041, 340.5598871851594, 322.12166890894684, 310.8072522518744, 365.84787109302613, 365.62779021280124, 367.35628172830405, 345.68189312822005, 367.39655785073785, 338.44608890442174, 344.1091603720565, 310.06932017260453, 349.97201189286534, 339.8721806065644, 310.8976937928684, 336.58887979577526, 335.7544245499473, 365.3081780520834, 365.4428446817434, 338.428195210372, 345.4886935005395, 339.39430092099127, 332.17547475114304, 310.02564569817247, 333.6775818946612, 316.8435424099185, 310.6902291213472, 353.4672619030989, 349.79769942466515, 312.82309030101453, 334.5020677336514, 368.68367372759695, 368.7646025462165, 368.92166920959954, 339.2378725652204, 314.12783477454303, 310.0306740791158, 348.38066194861904, 349.43318214257675, 367.6932726967505, 368.572959424094, 334.22444635492576, 310.6660191656083, 328.8346321917979, 344.54153107008386, 332.1994824844193, 321.51407157365077, 345.61187169832687, 323.588787622311, 320.1137853493008, 347.37733689836006, 326.47199593696246, 345.347970437611, 346.22335193091186, 310.25112691837126, 324.22891946555023, 366.9883921960693, 310.34077074633495, 313.5897435897436, 313.1230277938624, 338.94867623818817, 339.0019740010479, 334.649750410859, 368.03644886458216, 313.5897435897436, 349.9398184012648, 366.41001677850176, 310.2050368290496, 327.10273329589216, 316.65633481694425, 312.78342475202624, 328.629997211342, 367.0365683779416, 365.12266404528094, 328.35344438240617, 364.8076452001211, 339.13941129347734, 365.51264174395754, 335.35831153614794, 341.9682285531461, 349.0137511322295, 364.6341463414634, 364.08061602105016, 317.91577952569503, 367.8281716384007, 327.614616617634, 323.9889943913286, 365.9005603308814, 339.0069378406484, 346.3851927897766, 338.5029801554513, 348.1376227956369, 350.824775692142, 313.4231894580801, 358.2768068022316, 310.40680696668744, 311.4519394136814, 336.37770082806554, 340.5705510954855, 318.29653131022457, 363.43966797597574, 311.0544568376467, 326.33140309445616, 321.3188947199651, 336.72389290241773, 346.393882756939, 309.7310588509887, 360.080088544024, 339.9495517293246, 313.24326725495143, 313.50964712707815, 337.72923302225286, 331.6541755709032, 335.06314691452155, 337.2693415413933, 344.79126430869985, 367.1456642794837, 310.1390651893436, 310.37992871311934, 310.06873678968924, 346.69694527154735, 367.8920965816434, 325.6395493871331, 313.5897435897436, 312.4932388202513, 314.45617867287643, 322.0786016035981, 326.2903858969173, 339.2280720480719, 329.0452587883161, 368.8110948699445, 318.7811798326185, 313.65616096920303, 352.4739957009206, 311.82295940739687, 349.74983569758336, 341.12126237271525, 333.7823747893603, 366.2846137859987, 320.2769833528571, 364.6341463414634, 331.525397711735, 310.7960554724512, 340.154186471456, 310.0012015128157, 316.687632889875, 349.97329050883343, 354.83399838969194, 320.27809077323707, 368.4176737315734, 368.302619298387, 366.99529727569154, 354.0271054916652, 367.336565249389, 313.1987316557057, 328.86896442582855, 313.528284444951, 341.6164071794781, 321.6943900643662, 333.2393608443976, 364.9141455031059, 333.1361131274993, 350.48391679692384, 331.3282406928098, 340.3256788751692, 338.268398582919, 351.5384062986342, 368.26598130372486, 366.0085304749047, 347.3219542470919, 355.884022162034, 310.296381940343, 335.5165334651449, 366.9106529356065, 364.5459821097517, 344.37307457668834, 365.1943331492197, 352.83881636661164, 368.1016262198684, 346.7102916893048, 327.7894972437708, 348.1151546282844, 313.5897435897436, 349.5428110741409, 313.5897435897436, 312.5708526172357, 351.6437652738689, 352.4327180732678, 310.34215324313425, 317.7820134956458, 367.30324414624766, 324.15025984180784, 364.6341463414634, 338.03492085748655, 350.3084504568537, 366.15103243464995, 341.9673149323009, 309.8584396050056, 334.879342170405, 337.0455918422295, 311.1439993217866, 330.64975247693127, 316.95123158875293, 366.40246446737996, 339.11095281707463, 329.87503894025184, 334.9826512510918, 344.71814785455905, 356.7292409522355, 309.9293910263667, 309.86419798608716, 368.5508674566508, 326.17832944446184, 311.3508292612866, 351.4004638910271, 351.99884697507883, 311.8033652420945, 344.9089238864244, 360.43425716554844, 349.2844510674015, 357.20025751250387, 311.3009040162663, 347.969784139824, 329.3066185954897, 324.1852289906711, 364.6914838052761, 366.7942024254443, 365.32304687401705, 367.5644354666577, 334.87914610442516, 348.6267059544664, 361.41516317361703, 341.6744272318112, 341.95949289248, 363.20960153324313, 336.35220128139815, 317.3072747597256, 326.11771746696854, 357.26020343480053, 338.17943721264396, 348.24748598181515, 358.3861195937897, 327.24405360834095, 361.0828266330034, 349.4198846905464, 310.62880324938345, 366.9671989141845, 323.6792499293913, 312.29840770930684, 309.87785735555246, 309.7830208952123, 339.6294387010463, 330.1318499927218, 328.32794356753277, 356.8188719682251, 348.2373484778123, 347.5162298885319, 350.363075718118, 356.7081527929304, 313.5897435897436, 327.54035847599386, 313.5897435897436, 339.15367531151264, 337.95514302127435, 368.82900513338416, 368.16112521940187, 344.1084949274653, 323.69005378860953, 352.6667898553247, 322.91499084528044, 338.0504251318107, 368.3770085835424, 322.0774119274746, 362.6389314298442, 358.6144847425561, 311.1429431921675, 367.98488458051304, 359.2754042952485, 341.1026469547946, 316.3966205807595, 313.7410882150108, 322.64134657083406, 354.4333044835023, 311.12038652760987, 351.20790715655176, 310.6563100122887, 332.1421105861977, 341.3318690028198, 364.6341463414634, 311.1939034071619, 366.82816824719833, 342.527529338519, 350.4040274016234, 341.590315989439, 351.4284099507242, 333.60115105463575, 366.9122285716325, 324.92835630451907, 368.42136039947366, 319.6601417621236, 336.323842169482, 309.9842686584415, 351.7433595611197, 366.95399464683595, 335.82375718170556, 332.3497270005258, 310.1529581455815, 331.4140529639325, 312.050346358274, 312.27955570886996, 344.8280472246899, 367.5447208742122, 364.6341463414634, 321.2710708866658, 366.9999856667378, 345.3373978035818, 333.6718989863278, 351.05768117102104, 339.91743873940067, 341.35408055141124, 326.29196032545116, 311.2764488451685, 311.8547113145936, 357.86163483762016, 330.05001892300123, 321.0055533940239, 338.3416518601821, 362.3000584294875, 343.4382424086993, 319.3352758226631, 367.9796393385774, 366.32708580199085, 352.9551711125616, 367.97750180283055, 367.90611457151704, 368.43139423309003, 356.6449921075518, 356.15658613624583, 353.72685329343506, 310.08461102823827, 359.3428234817288, 311.1085717288925, 315.5094543447596, 367.6171469848027, 363.73030062989767, 366.7561988604545, 330.1943550035444, 310.30186076128285, 331.09288976410727, 341.10577498859857, 340.4226690614014, 368.41456605901936, 327.6306379966869, 348.60590997511974, 310.2284205566281, 351.59936939685514, 338.18282820847145, 316.74115510091684, 331.22564048905707, 332.7174175419635, 330.2379997446125, 365.43036638097664, 335.2081706931133, 330.9932741875246, 313.5897435897436, 312.7871988000237, 330.4415172380461, 318.50853284865605, 367.2509345634278, 333.27473336032483, 367.68805236897646, 339.9111740399524, 339.1881365527411, 335.4896893973255, 338.2030615476629, 365.6753618698488, 313.5897435897436, 313.5897435897436, 322.48677378757196, 338.51896114634576, 359.01101755177365, 352.2965461535062, 326.97642619041136, 368.9536353671441, 368.9011608264138, 343.5486261923213, 367.6253389427253, 346.2065223327443, 321.973428564468, 359.25197864015826, 341.3605365848779, 338.13079552245824, 366.8237749095803, 313.5897435897436, 311.3541732956313, 310.4397072274613, 327.573915982485, 330.68496044034697, 311.71036046320944, 310.32206223071535, 313.6964469383088, 364.6341463414634, 365.2886988340223, 326.1949997492129, 327.5647214807386, 310.28981019986065, 313.307934298357, 334.6710233789262, 309.9795526099309, 335.60487671137605, 312.0798464127357, 316.4062271118392, 342.49131623167415, 349.03607249929547, 350.59613058156253, 310.96843162712156, 364.18832790740606, 315.35544545248257, 357.2274938722581, 337.77861540767617, 311.1902194381587, 328.91785900253944, 349.010389028522, 356.609815580133, 333.96985578675094, 366.5486530343011, 369.0079115597457, 330.62610682003213, 360.8904306043978, 364.67397466135606, 364.6341463414634, 310.6018109020406, 311.90880297014365, 366.7677977185282, 309.9301805494972, 310.9765711168646, 324.0892407607133, 350.6801625534666, 335.09297995050156, 319.48786726556, 318.8312373742176, 317.77551612765774, 313.18740131353275, 364.6341463414634, 346.9562624194926, 365.2059326608779, 324.00795608057996, 332.6658718950901, 317.7418757025883, 313.5897435897436, 311.19665650543527, 312.91850869552, 313.5897435897436, 310.47252770900883, 367.5168642905145, 336.7869129593226, 367.678112606475, 350.39825557163357, 361.9102710508664, 312.60521670824994, 353.85890621560105, 360.218937371417, 321.5489477559717, 354.95620925494427, 355.16154023213875, 322.30778041299766, 310.185205988588, 310.4280581373241, 340.6453576907208, 347.8477997170884, 315.5663769527039, 338.8742402738406, 355.2959492192073, 356.7719626734991, 366.45468830797984, 367.7418163770541, 309.8868141028507, 365.83961385851285, 322.82907087114813, 368.83210742889327, 340.09699067342245, 326.1836498963937, 312.9068475041663, 333.08265435905463, 311.9173964008901, 367.77381959067714, 366.6187229997145, 315.44601303849515, 347.0908995734822, 317.4148247484231, 320.102126735162, 361.65646104075375, 336.95976223097045, 365.57811546078966, 324.20095765820315, 368.8002804789409, 340.96876634342146, 362.32671676208827, 325.1917339816464, 336.6368553952041, 334.7112429598661, 314.3735616613519, 358.1368503391642, 357.76837691956365, 356.00812859522875, 366.5244048084946, 366.93424952998225, 327.24111483559506, 349.24391362424603, 320.2381656646465, 338.7790294025477, 320.90334354117584, 366.1361075042932, 348.9598207078381, 331.73896152142015, 368.13302613202325, 313.5897435897436, 313.5897435897436, 362.3286283883916, 339.8746205393791, 345.53856037585655, 310.9918617555995, 337.4087048909922, 364.6341463414634, 363.2237099589639, 343.11996808339916, 325.4210749115548, 326.68279913562617, 313.5897435897436, 345.7548886257141, 363.89687604047265, 311.98199637441894, 319.18634934658314, 310.3225043537602, 310.8572486763612, 339.6680970393449, 313.5897435897436, 356.65030586282074, 361.0076601177625, 330.78582622098503, 313.5897435897436, 310.0182086762529, 367.94862188823834, 313.5897435897436, 328.02270081253386, 310.4117160128248, 362.6039668216625, 318.8062334578444, 350.18406597533044, 355.13906768005506, 365.12807008283386, 332.1746667910865, 349.3348332161236, 311.62183273101516, 368.1480751834414, 316.44657253616975, 321.9938451264568, 337.43764618271564, 311.9313254454733, 344.8875697101586, 367.77916400290167, 346.8181299531924, 312.0348376143254, 334.4693411497017, 360.6364326350426, 313.18750804572977, 309.99535295901273, 364.8815142736781, 346.1297329350544, 350.4284052228928, 365.01972126636656, 352.1575996847098, 358.0062176016581, 364.6341463414634, 331.860905929462, 315.4193459752037, 350.91117496748603, 351.25309265766487, 322.94876676025956, 309.8278770776157, 364.6341463414634, 347.84276426632056, 317.22451436273735, 366.1339308160946, 334.89630699349584, 330.73463945096216, 355.04059903662613, 310.85499028563316, 348.62388657237295, 364.77091374590685, 352.0848417828456, 327.20503492221917, 323.5001928256206, 326.2349992842628, 330.70353080364214, 327.15965140785414, 366.1460712280204, 312.60970830453687, 364.4201427644327, 327.1061477591677, 349.36229001230055, 310.2018998867986, 367.49963622567714, 367.888870249855, 367.52726108278586, 311.73989811252653, 363.37925760457017, 350.2115179460832, 312.10000961977005, 337.37748384998844, 348.9852115146201, 354.8492230510434, 343.3455561034226, 346.76676865089826, 366.8206971900272, 367.98085515283793, 313.5897435897436, 328.8823542511194, 333.28304738038463, 312.68503359498123, 340.87295721767464, 367.87421746586193, 310.0420193354437, 348.13210494204964, 312.1995449046102, 318.8950516657827, 366.8030018490987, 322.50397245521157, 351.96340851789074, 313.16046333680447, 365.00657968035233, 356.2900116343541, 332.76593068214964, 355.45082378313793, 311.32294245887715, 368.1850914263014, 328.6951090736652, 332.1420836959677, 323.9352923469034, 321.4369574075371, 359.1536606646904, 345.7027475177051, 357.8150401006263, 337.8328065069059, 353.5280915332273, 325.993597918463, 364.6341463414634, 311.95140215823096, 367.81707444743563, 367.31558195131146, 313.9334970441494, 364.6341463414634, 368.6769028132817, 367.89669408951187, 338.9166025143008, 331.7621362147348, 331.98783857671395, 349.77536165200195, 367.15970516808324, 343.4666359080935, 312.3185259405281, 363.23089705362304, 366.3002526023712, 357.90567941770627, 360.74531766087443, 330.2157924586474, 311.8421648736509, 313.49587754197756, 312.2202182314638, 345.1330480550536, 335.6458054076997, 325.3946397237994, 313.5897435897436, 310.6783488263886, 368.47490501800866, 319.09725070652684, 348.8655259892366, 311.24697455309234, 366.98404591518005, 333.8815493009197, 346.7308403030558, 364.6341463414634, 366.62037158218874, 329.1935945417045, 321.08567639359256, 328.6504965125287, 353.42656391825705, 335.0105649046905, 326.66372130979175, 366.85078277419257, 334.74877882687997, 364.6341463414634, 340.77094515987324, 365.36522591159564, 348.76622662654694, 367.63502970569675, 317.4363774405457, 313.889790792141, 351.8866676243797, 368.45447340573565, 339.27751900786717, 310.8332283832816, 311.12620785627587, 311.3917121935978, 312.7469501999634, 341.32704675137745, 368.4551512536789, 337.69701808532517, 313.5897435897436, 332.5268753564427, 333.33675050186434, 364.6341463414634, 311.51089114052377, 326.7935222258815, 365.73573032158924, 351.58900215177056, 355.0727295951036, 341.47849412314036, 347.93658868544577, 361.7544759198521, 315.10109971825364, 364.9296080617894, 311.1767863744988, 347.88890059008, 343.3897544189073, 320.4418178447631, 337.42480375787795, 320.2677132414367, 309.98323584791564, 327.84891912596487, 310.1109166940435, 347.72034883017744, 310.29329884704487, 359.6948103194561, 310.4175688703761, 321.8386726599422, 320.210231450356, 367.5159687424325, 347.9470743592037, 331.92069573415426, 353.0830165806699, 313.5897435897436, 336.82507983956424, 364.6341463414634, 342.0065691085472, 340.09481728686006, 354.603981384073, 365.4870995954836, 313.5897435897436, 312.4068946012467, 344.3335771953881, 317.70531835466636, 367.5774809355906, 328.947142239727, 313.41345071170906, 310.76037083192944, 313.5897435897436, 331.27474079322934, 332.59562683514156, 325.83442254548555, 368.6721666312614, 368.11001353487046, 333.1167357036351, 313.5897435897436, 356.7437460779355, 354.8271497643699, 347.3150496308218, 368.22780695731467, 310.35165056588266, 364.6341463414634, 311.01748099149006, 360.8622100477641, 312.42690286497015, 311.80756287786943, 366.6207057070448, 330.50400841063754, 363.7208850312263, 345.1332515428425, 335.01831688642665, 367.33458990372645, 331.2017399271612, 312.7992737153388, 315.27237266477596, 354.69849645240157, 349.9268871578469, 311.9479319938286, 317.44379329296595, 321.4070388446466, 327.5109717593382, 311.18833844502524, 320.105290879522, 317.3259485429144, 361.56329730132654, 362.7475585252571, 333.8297690708575, 326.75479739545864, 342.23210941095266, 314.90683625752774, 310.28042321009735, 311.537596736618, 319.9259419726243, 310.3462897561533, 342.8917789662313, 360.2503217370716, 312.027676854354, 338.8313001383352, 331.683939259891, 348.28683440660404, 337.7110324959987, 311.4968317909077, 310.7380777886698, 338.9579244800607, 368.90781628631396, 313.5897435897436, 348.41465932300275, 368.151792022418, 333.6202838677612, 354.6679723992784, 318.03183693795626, 334.5986502066578, 312.1622831076635, 313.5897435897436, 366.98970620247326, 310.3264655988462, 324.9550223120448, 311.2301303379743, 311.323539167147, 333.0167903934111, 317.2992623808756, 349.3933902848462, 351.66731623499356, 347.66143127439045, 345.1826590623304, 366.3337079734383, 309.9669961932168, 336.47944813185126, 368.4192211659954, 367.8001743014059, 311.37037411522255, 329.0278229215332, 367.3614334663621, 353.37063520640277, 343.8836862202711, 331.74890212912146, 326.98908449171716, 346.67590511652554, 330.74923684999067, 336.84134230557396, 340.41111884328546, 318.72421530463146, 354.11076501010825, 364.6341463414634, 312.7843071242215, 347.7571070022949, 316.45534805045867, 355.50822372429485, 339.4635497473721, 361.25899025049677, 368.2180787170002, 343.798675858813, 368.42221696298856, 313.5897435897436, 366.27444718249524, 349.30498391311403, 368.67703671536276, 310.56962801942274, 314.5181980127893, 342.41121106187677, 337.59062274323367, 346.5206032263635, 368.64566507405533, 312.73736967914886, 367.98248176758943, 338.3350669044784, 332.1503956422971, 311.5664306673872, 353.216022843713, 313.5897435897436, 357.71064545371485, 311.64985638402345, 339.66739628474556, 334.6043952647698, 368.2461103216872, 332.87725090200166, 318.27902024543084, 323.5143376050455, 367.76103841007216, 354.23917727017215, 326.937057495907, 331.20786010168024, 311.9484048321176, 349.7127925253529, 312.7158123350956, 360.9430123625718, 341.8957579718975, 364.6341463414634, 310.0956768378307, 335.08524355181396, 365.3047928876728, 368.14349196893835, 318.2216120406221, 344.74350209298115, 338.15019640268173, 346.48706058463057, 318.1532840068729, 335.47439732489033, 312.071274739252, 342.08920283672217, 351.5902969697723, 331.46806655214175, 312.13894192899335, 368.45378809683217, 348.9849245756353, 317.3976057576925, 329.9380458745475, 311.6838981153033, 309.800268029662, 322.6371708248876, 367.9696525344152, 319.79542776257057, 357.4561661822158, 322.62300062726314, 345.4634545941856, 333.9580133291343, 364.77084131464073, 322.7213872100221, 311.96969660150313, 311.21229450765134, 322.8037675004127, 310.6852536902571, 350.3747669454808, 324.6656570278642, 364.6341463414634, 312.6276731477021, 344.13418515847167, 310.2057183772023, 323.8860992333483, 342.2766278712218, 313.5897435897436, 345.12937011349186, 364.81766202605615, 325.01409923732604, 345.82009028112907, 368.92597541899454, 333.30327248763666, 321.4283226456975, 313.5897435897436, 357.4803316469263, 334.77911030345246, 309.7499858415961, 341.8355355365639, 321.35226697249686, 322.9007062696384, 356.40281521797226, 311.0394099390836, 368.82061747961694, 311.2747674825978, 319.15068266815416, 364.72443177275966, 368.44429164012206, 340.97441958514105, 311.5292219174831, 322.876936958939, 340.25350488606443, 339.1968532871116, 335.4291479597345, 337.1857273983564, 331.84443404290766, 311.4506666469217, 323.2355987689098, 366.0923259502935, 311.1582571048345, 332.56173485967963, 314.81976170669515, 341.3824332804062, 326.8516502546329, 366.8030017049811, 353.3246495218388, 310.9339832104533, 358.42193821245223, 316.05745739792235, 321.53918286298835, 347.4488520582821, 323.9327051776488, 365.3996887354297, 316.0613562068836, 320.3678546922376, 319.32649830182834, 321.85704515953864, 368.57666427201667, 357.1012905947305, 365.71664581908954, 364.6341463414634, 309.821238298873, 340.16896952398235, 310.3966696951253, 315.9762427574865, 320.0576350887886, 309.92572877085036, 309.90490678209943, 333.87409258210914, 310.55712151329413, 363.79064307784097, 312.14712819800354, 364.6341463414634, 325.07217731890603, 340.21627861291734, 310.868704588705, 365.73461507254603, 368.4812025904368, 346.9382973117997, 311.0728159174726, 344.34482841731585, 310.1799149551513, 366.87336440275783, 362.7498755381859, 340.9102051504845, 313.5897435897436, 310.3690960424446, 358.93783741390877, 368.04258012163143, 368.5297590589161, 312.0472369126388, 347.0782648091113, 368.9702402226995, 312.3113145466859, 337.8589700577812, 346.24258053180495, 329.3597710579069, 313.0843574749591, 328.64611921993213, 328.6001673033321, 333.7640838384984, 321.917737051651, 325.30903404556796, 336.92552414073145, 351.35894813769863, 329.2548545300275, 326.2546126898118, 340.8187222315429, 313.3590308069622, 352.4175656694774, 338.0748226176679, 339.2609026071677, 367.5638338188542, 313.4865519322481, 313.57060272475786, 346.2414192413823, 337.8821222621517, 343.13400990589616, 324.7685153893308, 358.2076498151766, 366.66652604076427, 352.6306245312597, 330.50606034743544, 313.5897435897436, 361.491051134839, 368.00106212121784, 357.5913027915191, 313.18378306234223, 358.50197091162914, 364.3735309314568, 366.4222704418009, 313.2800443450799, 331.49589012855336, 360.80096974666054, 339.78420251323485, 310.1636812710958, 350.5090412725561, 355.54716603103986, 340.6885491893465, 344.6120890620109, 330.5670957646221, 366.79886006051936, 312.61078674051896, 321.2505096894576, 338.4146542805684, 364.9580376035593, 311.67079455312916, 310.9280090729295, 313.5897435897436, 339.0544134074711, 310.1675511227138, 326.9677731465196, 358.11493707754596, 319.7386962583366, 344.96294806430006, 329.40065250689526, 358.44957559251765, 352.35910161396276, 318.3400771455222, 333.16706833537114, 368.8374205727091, 349.86198256720945, 311.27189266726236, 357.9355261458289, 310.03427962235224, 367.10666596942735, 368.9298473730432, 346.72616723930594, 342.7478259748344, 331.99871482872703, 358.64950912365913, 327.35975266028476, 345.0916532110885, 364.7352302252424, 321.96436677913965, 320.44461530397456, 310.468593551327, 309.954657475094, 312.98946585644546, 360.2538668550423, 365.25528249145606, 367.04666320457005, 312.1828720041168, 360.09800716359945, 367.06175017409777, 324.9187783117415, 341.0884491304186, 313.5897435897436, 346.0285929327592, 309.9510480284237, 344.0145067974482, 311.92463588427887, 354.44143753422105, 368.92790005560335, 315.82305853230247, 310.2412088638286, 313.5897435897436, 330.34551191384014, 321.4106015603354, 311.88412373965195, 351.6820119428872, 325.1121699736233, 309.9991880102951, 322.16705772396114, 368.707785619569, 356.29883004839036, 334.28849612363825, 356.8003419684739, 310.33614928073905, 339.0448234632761, 342.4524421411861, 324.5507675606687, 351.14515761675386, 315.89852668421577, 353.424179784972, 354.71908040421476, 313.5897435897436, 368.148581647525, 313.5897435897436, 320.44862174884685, 368.92396927749456, 328.8866983823295, 311.5468429289914, 310.0703709314796, 368.91663958059627, 313.3613833296004, 368.43660198360965, 336.4745528237009, 310.46079205609647, 321.36807079759086, 309.76792461901266, 364.55411890391946, 360.335331765496, 312.55370116672157, 326.42656899801045, 313.6324847936356, 367.66429639340464, 311.08589567464276, 366.210092032474, 337.1135080491507, 310.3401963771426, 318.74632481909407, 315.31684295220794, 310.78654959767226, 340.89204958498925, 310.6014768202553, 313.5897435897436, 327.10643387611384, 312.8875290302642, 316.67647445502706, 312.3821318133126, 313.41345149990445, 364.6341463414634, 339.754687883843, 345.38602706261963, 312.7819599778198, 319.39339377216635, 344.4837291205992, 309.79678604031983, 365.88341859093987, 310.50158562703297, 329.77259167881607, 321.2859807791749, 342.95923529586946, 319.7679783250413, 330.2167836546247, 331.2169749110456, 317.1664993354016, 352.6647267555301, 345.17628031415234, 335.495016050672, 325.664511677694, 362.35086349986915, 331.2254998219251, 329.1898237946891, 341.1846822654267, 365.77895696471745, 311.0472404406074, 361.51057130622917, 313.24816115231624, 344.54278888376933, 366.34625543606745, 352.77441671948225, 343.1473877003983, 322.00238049243353, 339.00580570538386, 330.75819462822597, 315.7462256457883, 329.6719230687614, 343.9769832175116, 316.2619502641866, 315.1889561534335, 311.126148614955, 349.7812780684534, 354.517455750289, 344.97430492979186, 367.70571648138076, 340.68572583112467, 349.820410329807, 347.14727011135335, 335.4096236516863, 322.8334150007626, 364.6341463414634]
thresholds = [311.4364570903798, 337.7059597386578, 366.8176976648341]
display_name = "Per Capita Military Spending Globally"
units = "USD/person/year"

# Calculate exceedance probabilities (1 - CDF)

sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure

fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve

ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds

for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)

    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('exceedance-global_military_spending_per_capita_annual.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Per Capita Military Spending Globally will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
