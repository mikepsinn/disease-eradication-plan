```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Per Capita Military Spending Globally (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata
)

setup_chart_style()

# Simulation results
samples = [347.1738372877555, 309.85786061201367, 360.90077218068546, 366.91943907957443, 313.4794335132382, 310.89581972486087, 341.87252320380867, 328.91657455121333, 337.59757546092635, 313.90932424364917, 364.97213327249915, 361.76021652325124, 340.0391248815962, 368.4448252740553, 352.12563382688927, 313.73872877329546, 349.11324417180117, 311.0322318074603, 364.9420445566322, 336.6261053381289, 332.6975437735721, 318.64497816302475, 367.99724770011494, 333.576646239216, 325.7248784023769, 327.89116807662685, 354.11630441988626, 349.01282784486943, 350.4516068392239, 351.0035226619252, 364.6341463414634, 326.34641403340294, 323.355639503671, 314.98361924747513, 356.7033351788661, 368.4366903683477, 334.756421536344, 314.2614662210281, 314.6903159748165, 357.77907719551337, 360.67487649651486, 354.4505662393774, 319.07271955912853, 344.98933745617234, 341.54092639062543, 344.5852180010278, 364.7191878563301, 344.7323490209953, 358.66166573823364, 340.08493237388376, 346.703060014595, 357.178714987969, 311.51096228821984, 328.81848021333946, 324.5356299091452, 319.81283156228176, 330.09475262209304, 366.72091564192164, 313.56031187648887, 367.8051479579464, 312.40905941211753, 328.38355956866343, 342.91246720456843, 355.7811063145224, 359.6713280045083, 362.2501038082936, 327.98841093673417, 324.7621663262508, 364.2925853608267, 332.5111424009408, 310.7907828163611, 310.22682405816505, 312.1010007478392, 353.0351412072028, 342.3065926261067, 359.02291523614474, 325.7553470951176, 342.78679570894235, 357.00170790118943, 329.1139620727353, 351.79696100547494, 319.17221430258786, 327.5798094236093, 327.047776804029, 310.4744311480238, 352.72236858551526, 324.5630264757676, 338.45907200941195, 352.5313765866654, 351.48357915394155, 358.2397937605233, 335.2070193141262, 325.8674308639528, 335.754756164657, 312.4268500237184, 311.4710606910898, 310.97719970514163, 309.9958724032353, 350.05675220210156, 312.4806294786739, 327.1495185475001, 367.63748180974915, 327.77336705526216, 360.4948581632103, 311.71662202866514, 332.1025560600358, 311.27207995093727, 328.2650783015961, 363.73308445750706, 312.58622980264175, 351.11355074683263, 345.15667862245556, 321.05970577042336, 311.4668710555099, 340.21958960095236, 322.87074608163545, 345.0047911214147, 338.73472983555007, 366.2215368078493, 331.12404477052735, 309.7927105863106, 343.40572746315405, 344.62443380766297, 367.35643646645025, 363.56867326659943, 348.75262285436924, 366.86893017904066, 310.446409309431, 319.78852424098096, 311.9076407711274, 326.8181946764772, 311.19140480656273, 357.2987629990676, 331.6179562911775, 311.56520297361106, 309.7614243298727, 347.4396277497095, 363.66405829218525, 364.6341463414634, 364.6341463414634, 350.5027337675213, 310.20383546562937, 313.5897435897436, 346.05795382268997, 315.006408939104, 326.09263279011054, 320.5588208330051, 333.97557985252774, 368.73282516908074, 342.7423312864173, 333.4575297491916, 309.84074706071493, 312.3764394968986, 324.0860328278119, 336.51318111579815, 365.4462666298612, 341.94492593539957, 368.2681651652255, 323.7200590494953, 310.4312867696672, 310.8635886357468, 317.4193937341861, 364.6341463414634, 314.77504662356154, 363.6755313992293, 312.55000946042765, 366.6325289147624, 349.6056184782124, 333.51546544440964, 336.89456554772204, 319.3704831624505, 351.46954494105745, 324.97041188434173, 310.59232652069755, 310.7997069189689, 343.20598877557984, 366.3275261551597, 342.8300967198199, 334.61983853684944, 346.60374281863517, 367.60572207718104, 344.6060203619851, 326.2183325270622, 368.5433017622693, 350.94048442958393, 366.53005985957174, 343.5240177868886, 310.58782341696076, 311.1575621940315, 365.99203342813047, 365.6526453684204, 332.8522297745544, 327.0065401616576, 366.87762715058625, 310.1230085750637, 312.7730582155472, 357.5529901101637, 326.6818819842168, 337.94076933837204, 333.31807837358764, 348.1676511417468, 367.1302243160665, 340.766271301865, 357.57202741584246, 313.5897435897436, 336.6614695584928, 314.1774407766505, 310.56541855710964, 313.22438384326995, 328.40531760543394, 366.13304659513005, 310.99184832645795, 338.99354570053157, 324.1463315527553, 328.58965700226776, 368.91007346631056, 354.29522262878197, 367.45854473237677, 333.57733699983083, 318.229071369797, 331.5707581044618, 345.29967489999495, 343.32500593801166, 310.03339958041647, 340.76345127131606, 344.87131690750965, 364.6341463414634, 364.93895516561616, 313.90387822969967, 329.7434096322672, 311.53593950071763, 321.15588551217434, 347.5028410412853, 368.07558236881346, 317.3128812871064, 319.38830042527735, 313.5897435897436, 333.3406096266671, 309.94652028158026, 322.8722426992276, 313.25958097781955, 335.3301907145374, 312.7074870597182, 311.5502573579466, 364.6341463414634, 310.8373089063019, 310.08242749588055, 365.12486749233614, 364.6341463414634, 310.37832555898166, 327.43179063616265, 348.288254423113, 365.6291785021656, 310.27619644781583, 330.9534890234548, 361.7459172226736, 351.1240107091744, 327.2066299363602, 334.1780927618876, 311.1842988225433, 331.15809270750793, 330.346260394841, 344.98959456403645, 322.1459028991385, 352.249084524504, 368.98341460062284, 342.6940530486755, 348.5974770855193, 339.6584556165145, 338.0938667573249, 317.5207005900944, 347.5297257953407, 335.2419829641135, 364.6341463414634, 366.35432941735644, 349.6328584042758, 316.3764243574722, 310.14423362844, 368.1446502946726, 345.90859334142044, 352.51287577556394, 312.6550735815008, 366.50067826803263, 351.72489623067247, 310.13639820626975, 324.5031021668574, 345.93772389613804, 339.6381101570269, 329.60609179069667, 335.0611602572831, 330.76065308345454, 342.608594551095, 366.8306133346684, 313.5897435897436, 331.19622392479465, 343.32318586411327, 346.9104737450258, 327.32739011576166, 312.703472272596, 347.87762731218623, 365.63546222677354, 311.8158774769608, 364.4780999734123, 328.56529875117576, 336.2924632812732, 309.90890393558715, 328.39581153335473, 367.6336541621185, 355.6707155922462, 365.61232537204626, 368.2091305863898, 351.2560155171698, 365.55812900334416, 351.253157726079, 363.3434453882311, 329.4799540773354, 340.0543636084932, 318.1880668178313, 368.4875130492014, 310.40499675544964, 361.90370700925854, 332.53004025984865, 368.2380837868787, 360.91388994647747, 365.20063275004645, 360.28351351747074, 311.9677548568117, 336.1278246306523, 310.38006964403354, 323.1858547023848, 366.6447426179395, 357.372839231767, 318.14636471073555, 309.7540690094924, 339.0569757198129, 310.5564946061747, 318.9164628157673, 347.3941592748631, 368.312933948474, 356.4794178007856, 313.5897435897436, 347.1632558062208, 340.2167501437734, 350.486903954158, 366.15413674451224, 313.5897435897436, 321.14481016290375, 355.9261138428164, 312.00577329020075, 366.80976029113185, 349.1012727135293, 363.93172911965223, 321.7085390997788, 362.8940916730673, 368.7211085692705, 345.01084832385374, 345.0565601077151, 346.1371949633113, 313.6281300708287, 333.7798720053957, 333.63489317853754, 349.55826312615903, 368.81593526782893, 309.93118869696525, 334.4344333540201, 366.7839990063199, 316.9127372809866, 314.7514055080286, 344.0944593756177, 363.8621199772822, 338.4276245178934, 367.49809165145456, 364.255130227793, 363.78093049507913, 354.78875945940024, 364.6341463414634, 332.1105265206573, 313.5897435897436, 366.20997406143863, 324.89363730047177, 341.27939317093507, 367.5890826737684, 312.0880211348882, 310.6955062279122, 312.0841138331723, 315.52216769589097, 351.2728206658454, 353.8661988071813, 346.31583834794026, 311.3346424455212, 313.5897435897436, 339.6938644137512, 324.4960099484081, 351.87686598938217, 359.381292057981, 342.1820085493276, 361.20488444738197, 344.90081213025866, 354.04716553965164, 317.98745594523535, 332.8495599278694, 343.92895521820435, 363.1077229384765, 326.7064366137336, 353.7732216061335, 330.36202983586855, 334.65175016394153, 363.39183880611665, 313.5897435897436, 310.87318960635673, 311.6104254941371, 313.5897435897436, 318.71886629985323, 360.8688333470869, 329.8151137302134, 343.95929571139555, 368.6235557217646, 367.5040654486941, 336.06394382572375, 367.3826839805719, 340.8119804580823, 314.3368851651791, 321.05271198315353, 311.60387213419637, 312.9525113058246, 327.7233917515606, 362.57288706102906, 365.66615131471707, 311.2132173271411, 349.8452608954864, 309.8600731400038, 352.3458905914348, 334.2576534740639, 312.99948811647334, 366.5280523429907, 320.75677459742207, 322.7469680039958, 309.9755305025409, 319.38449834008713, 350.91404591985855, 332.57073770533, 347.89779956633566, 348.9058994026292, 367.53699318356064, 328.1579154867323, 311.589251951538, 368.72698317396186, 328.48061638553924, 368.5042711598545, 349.5577537160999, 334.2561739349362, 348.5070991865689, 364.6341463414634, 364.6341463414634, 340.13825298629996, 342.83603136358306, 368.6845755469353, 314.11100918015444, 348.03124881178877, 337.3315394329624, 347.4515480490044, 314.4470941151035, 312.0375038594632, 313.5897435897436, 310.1639048289284, 324.8660562566738, 329.57683343935435, 364.657985465481, 368.544690045603, 310.94542535329134, 348.4747369391396, 326.32758504466983, 329.8300409001797, 343.58652034645644, 356.8023937034956, 328.2586411637824, 368.74283664331404, 310.2610563915335, 338.2778858535892, 364.6341463414634, 344.71688003316734, 367.00974858236555, 340.79399907249154, 355.61260634917033, 336.4253470684701, 333.1161805093385, 315.9246648808554, 350.9876550816072, 313.95047460195735, 358.2460309238818, 368.64203594403295, 349.04584438273, 329.77595986820336, 351.7109813713597, 329.1332457348024, 366.75930850001384, 313.00148524331604, 328.3629242399975, 313.5897435897436, 311.661602603301, 367.33453412698555, 365.4737371285135, 317.57810142115454, 311.6911892926812, 313.5897435897436, 322.4776650074022, 364.6341463414634, 351.1276212502658, 322.02695409473984, 352.0512281467689, 311.92366287489966, 329.45838796085775, 341.02999842292076, 335.5683795159284, 362.1700305192215, 348.38188401392654, 358.33146098428864, 318.4387242041604, 365.5573811905497, 366.094703410933, 310.727511903747, 312.96444184899826, 367.4661082014321, 332.5099950900691, 367.14736520396895, 325.32251801186084, 366.9075703400312, 341.9809615702935, 345.7725879615251, 366.3946891657186, 327.61638540970586, 311.51318116738474, 325.15194421381165, 351.6610608031604, 311.9427629113357, 357.3708834021328, 322.61022710312517, 368.34816528407873, 313.5897435897436, 315.7300422868613, 312.42339801504164, 314.6424576884268, 345.45498963912087, 332.8607023676175, 330.72036490064175, 333.4415737858039, 344.1268521429651, 309.7335993915652, 359.5343986039133, 358.15505992013306, 349.60826368936733, 354.8633673437367, 346.9232706739491, 364.6341463414634, 335.53937660238665, 329.1787715291575, 316.63882400511255, 309.8273461677967, 310.6670728083413, 312.93444857497957, 336.01885114043586, 348.06833344583475, 339.59896977471, 316.30822605549264, 365.6327335730774, 360.55435982607486, 333.42813054784057, 319.4224869326793, 354.61322216982325, 343.66567875459276, 311.4750921448074, 336.0977919756414, 345.8871253197481, 312.6379132581476, 343.7215863703125, 311.5016916386091, 367.4642251892151, 367.87800769015877, 330.7451161546067, 348.95241903505627, 313.5897435897436, 310.3180833719682, 329.5599937744863, 309.98494264643926, 359.77052870552023, 364.6341463414634, 310.3983103118763, 314.3351027319291, 345.08800550486944, 366.1779250476338, 310.57952546898974, 345.4961719890785, 365.1975925297516, 312.2851191398028, 310.8121213363801, 325.85869101594693, 323.12095316852964, 362.8573957806227, 345.274530228047, 312.7762303024914, 353.59608658941977, 321.52400749342246, 367.7537002219252, 320.12711262447147, 319.875788385722, 354.38820095574516, 361.29267385731214, 351.5315343701407, 312.41992790924405, 354.29272610220806, 309.8354290439458, 345.082834131726, 311.3782009920923, 351.47718755294267, 315.18026170770474, 310.8183272529323, 359.75249017400904, 345.2740737100513, 320.5063964059263, 366.9256661153528, 325.3758232717949, 339.0370830640617, 346.09414259076067, 320.34780546129434, 352.23675861717226, 322.759544111991, 326.19815242150923, 367.3402481932198, 309.86023957775865, 313.5897435897436, 366.17876177543127, 364.6341463414634, 326.3789447625524, 313.4226742018013, 329.0813967745968, 329.7766995893946, 332.5510785976727, 310.1480967292493, 355.5749902287973, 353.87603581929045, 311.65899807820364, 359.29510806235095, 364.6341463414634, 343.18725096511866, 328.31385652653404, 333.9403577699604, 356.68091040962713, 312.5995909407687, 342.9613251469664, 326.7995964363465, 365.0740560747027, 333.0070841451271, 365.91287292230135, 310.1099360192394, 355.81319968953505, 347.6175968564003, 313.4725921419058, 343.3495810339309, 368.044292838301, 328.7006300704593, 312.44529342385084, 337.575206063638, 312.56371620853963, 328.17062595175116, 335.7001515851074, 312.49985261002627, 312.1413603145661, 352.57186752502594, 323.0610754379395, 313.5897435897436, 361.98222811782176, 346.19822444430827, 317.7330069283819, 310.95392027362885, 363.5907084969201, 348.5245248097581, 364.6341463414634, 350.67899987117295, 349.68933468730876, 333.2170361625533, 362.98920040944523, 356.98601797426966, 367.8602952129255, 323.100306520597, 325.52432403749293, 324.2892300267568, 362.1698918696172, 366.70485797014777, 324.8613871270741, 325.82560638037074, 347.4566568517178, 330.9395640055468, 367.28635850427315, 313.5897435897436, 314.62943995072175, 315.8440375995326, 313.5897435897436, 310.90357102068475, 312.21767120100054, 332.2277652377543, 368.51191623048527, 330.95974252815813, 309.82162037669235, 336.4203321415253, 368.8118756887901, 310.5705130086496, 312.342131085498, 354.9255957524809, 331.63776454124775, 357.6823488201572, 337.6902315660621, 359.3722260035359, 309.8384722081277, 337.7361271954062, 331.95083755702353, 310.55384380366587, 311.93368713417266, 358.8750123285554, 327.9248631876997, 309.78790108599975, 335.2742894314086, 368.4411708329159, 313.5897435897436, 311.6678748382994, 312.0077712421383, 366.87886917724603, 346.50608498138655, 361.43070742254775, 310.2540232221947, 310.172417341767, 351.5227987855581, 339.8097510927573, 354.6228135667009, 332.6162618915095, 346.3721693110942, 342.77425289826056, 361.7594440023375, 362.68088197286966, 312.1581363078985, 313.5897435897436, 368.87758206255097, 368.1606993133331, 309.7813529552272, 313.11500146334646, 341.0168658522132, 366.6090930283817, 365.3080226356986, 353.62337848829986, 327.33302521370223, 312.81649959286494, 338.4283675229717, 329.40275030141277, 309.75940474456036, 364.6341463414634, 365.36592488787517, 368.4034380936667, 312.06304183716355, 364.19889739306274, 357.4379046300839, 351.36173034190847, 367.8699594509536, 357.3056076023004, 360.57322961508874, 357.35332975797616, 348.26510169962626, 312.8107362046041, 340.5598871851594, 322.12166890894684, 310.8072522518744, 365.84787109302613, 365.62779021280124, 367.35628172830405, 345.68189312822005, 367.39655785073785, 338.44608890442174, 344.1091603720565, 310.06932017260453, 349.97201189286534, 339.8721806065644, 310.8976937928684, 336.58887979577526, 335.7544245499473, 365.3081780520834, 365.4428446817434, 338.428195210372, 345.4886935005395, 339.39430092099127, 332.17547475114304, 310.02564569817247, 333.6775818946612, 316.8435424099185, 310.6902291213472, 353.4672619030989, 349.79769942466515, 312.82309030101453, 334.5020677336514, 368.68367372759695, 368.7646025462165, 368.92166920959954, 339.2378725652204, 314.12783477454303, 310.0306740791158, 348.38066194861904, 349.43318214257675, 367.6932726967505, 368.572959424094, 334.22444635492576, 310.6660191656083, 328.8346321917979, 344.54153107008386, 332.1994824844193, 321.51407157365077, 345.61187169832687, 323.588787622311, 320.1137853493008, 347.37733689836006, 326.47199593696246, 345.347970437611, 346.22335193091186, 310.25112691837126, 324.22891946555023, 366.9883921960693, 310.34077074633495, 313.5897435897436, 313.1230277938624, 338.94867623818817, 339.0019740010479, 334.649750410859, 368.03644886458216, 313.5897435897436, 349.9398184012648, 366.41001677850176, 310.2050368290496, 327.10273329589216, 316.65633481694425, 312.78342475202624, 328.629997211342, 367.0365683779416, 365.12266404528094, 328.35344438240617, 364.8076452001211, 339.13941129347734, 365.51264174395754, 335.35831153614794, 341.9682285531461, 349.0137511322295, 364.6341463414634, 364.08061602105016, 317.91577952569503, 367.8281716384007, 327.614616617634, 323.9889943913286, 365.9005603308814, 339.0069378406484, 346.3851927897766, 338.5029801554513, 348.1376227956369, 350.824775692142, 313.4231894580801, 358.2768068022316, 310.40680696668744, 311.4519394136814, 336.37770082806554, 340.5705510954855, 318.29653131022457, 363.43966797597574, 311.0544568376467, 326.33140309445616, 321.3188947199651, 336.72389290241773, 346.393882756939, 309.7310588509887, 360.080088544024, 339.9495517293246, 313.24326725495143, 313.50964712707815, 337.72923302225286, 331.6541755709032, 335.06314691452155, 337.2693415413933, 344.79126430869985, 367.1456642794837, 310.1390651893436, 310.37992871311934, 310.06873678968924, 346.69694527154735, 367.8920965816434, 325.6395493871331, 313.5897435897436, 312.4932388202513, 314.45617867287643, 322.0786016035981, 326.2903858969173, 339.2280720480719, 329.0452587883161, 368.8110948699445, 318.7811798326185, 313.65616096920303, 352.4739957009206, 311.82295940739687, 349.74983569758336, 341.12126237271525, 333.7823747893603, 366.2846137859987, 320.2769833528571, 364.6341463414634, 331.525397711735, 310.7960554724512, 340.154186471456, 310.0012015128157, 316.687632889875, 349.97329050883343, 354.83399838969194, 320.27809077323707, 368.4176737315734, 368.302619298387, 366.99529727569154, 354.0271054916652, 367.336565249389, 313.1987316557057, 328.86896442582855, 313.528284444951, 341.6164071794781, 321.6943900643662, 333.2393608443976, 364.9141455031059, 333.1361131274993, 350.48391679692384, 331.3282406928098, 340.3256788751692, 338.268398582919, 351.5384062986342, 368.26598130372486, 366.0085304749047, 347.3219542470919, 355.884022162034, 310.296381940343, 335.5165334651449, 366.9106529356065, 364.5459821097517, 344.37307457668834, 365.1943331492197, 352.83881636661164, 368.1016262198684, 346.7102916893048, 327.7894972437708, 348.1151546282844, 313.5897435897436, 349.5428110741409, 313.5897435897436, 312.5708526172357, 351.6437652738689, 352.4327180732678, 310.34215324313425, 317.7820134956458, 367.30324414624766, 324.15025984180784, 364.6341463414634, 338.03492085748655, 350.3084504568537, 366.15103243464995, 341.9673149323009, 309.8584396050056, 334.879342170405, 337.0455918422295, 311.1439993217866, 330.64975247693127, 316.95123158875293, 366.40246446737996, 339.11095281707463, 329.87503894025184, 334.9826512510918, 344.71814785455905, 356.7292409522355, 309.9293910263667, 309.86419798608716, 368.5508674566508, 326.17832944446184, 311.3508292612866, 351.4004638910271, 351.99884697507883, 311.8033652420945, 344.9089238864244, 360.43425716554844, 349.2844510674015, 357.20025751250387, 311.3009040162663, 347.969784139824, 329.3066185954897, 324.1852289906711, 364.6914838052761, 366.7942024254443, 365.32304687401705, 367.5644354666577, 334.87914610442516, 348.6267059544664, 361.41516317361703, 341.6744272318112, 341.95949289248, 363.20960153324313]  # Truncate for embedding
baseline = 339.75
mean = 338.5110859317844
std = 20.29814207475641
p5 = 310.46069028575977
p50 = 337.70431237667134
p95 = 368.03481213195954
display_name = "Per Capita Military Spending Globally"
units = "USD/person/year"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG
project_root = Path.cwd()
while project_root.name != 'decentralized-institutes-of-health' and project_root.parent != project_root:
    project_root = project_root.parent

output_path = project_root / 'knowledge' / 'figures' / 'mc-distribution-global_military_spending_per_capita_annual.png'
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 339.8 |
| Mean (expected value) | 338.5 |
| Median (50th percentile) | 337.7 |
| Standard Deviation | 20.3 |
| 90% Confidence Interval | [310.5, 368] |

*The histogram shows the distribution of Per Capita Military Spending Globally across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
