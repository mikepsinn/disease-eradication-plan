```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: dFDA Total NPV Annual OPEX"

import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples

samples = [41769019.05185288, 31450894.459705688, 45888327.67875208, 47766684.8791357, 26400347.4719547, 29758327.738654755, 40238834.7704701, 36639623.333245024, 39029295.61157911, 32716160.138353147, 47154101.05859585, 46153840.287936375, 39717440.08847925, 49685912.78346991, 43228751.530723214, 32673056.785480082, 42337221.387483, 31993687.26271452, 47144672.21380456, 38757454.577093735, 37669522.22808712, 33926059.051162876, 50695249.748169534, 37911389.749333546, 35783276.9217072, 36363203.27959786, 43823904.057009324, 42307690.794184536, 42731966.99057363, 42895380.503341526, 58500000.0, 35949104.26691368, 35155288.24261237, 32988364.19044116, 44604512.95890199, 49704066.45475491, 38237413.1270839, 32805239.48716497, 32913915.584993776, 44931494.94918385, 45818690.03543593, 43924308.16552277, 34036615.3970733, 41134410.33971565, 40144236.61522314, 41017637.43825507, 47074870.54794117, 41060129.28660581, 45200815.674097076, 39730418.4493033, 41631772.62190603, 44748835.95560564, 28801068.053259157, 36613126.663228646, 35467238.245430216, 34228408.59989873, 36958747.19813584, 53694818.72870855, 32628012.986654453, 48046851.096962884, 27461709.930901874, 36495784.2019002, 40536360.41625176, 44325310.36460838, 45510074.31630109, 46305586.99575751, 36389364.32530673, 35527312.40856119, 46941422.63854824, 37618354.55968111, 29925128.115662508, 30837825.471234825, 32260960.723614305, 43500073.94233743, 40362864.329477966, 45311323.59014403, 35791395.54034546, 40500337.596477784, 44695065.42319475, 36692974.66699891, 43130948.03545883, 34062361.6729393, 36279513.52576216, 36136771.43297379, 30433519.49955449, 43406655.5983843, 35474500.23835742, 39271298.738086574, 43349668.54246666, 43037816.00317226, 45071963.899925664, 38362366.42942791, 35821270.44839698, 38514579.90115802, 27435855.414091162, 28862159.585874103, 29629773.17762515, 31735766.489652477, 42615281.841187574, 32356211.613450773, 36164042.72025083, 51522326.90886115, 36331526.33425483, 45763239.69206675, 32164686.248313818, 37506339.594703466, 32053553.744873144, 36463856.107516125, 46766739.677126184, 27205382.60452182, 42928001.93452145, 41182821.81094289, 34552958.90315269, 28868582.118096393, 39768584.511421055, 35027568.260867834, 41138879.65125663, 39348919.66746549, 54919183.8619724, 37238876.48956361, 31560484.22072517, 40677931.97202749, 41028960.54320846, 52178386.64280109, 46715481.31487504, 42231225.6760635, 53337508.898443155, 30478991.52643198, 34222099.51415421, 32212509.13320093, 36075277.71758979, 29294205.188735202, 44785325.31951127, 37373739.95964736, 28718242.48669786, 31613255.180481903, 41846622.71751805, 46745215.41127832, 58178990.993548594, 58500000.0, 42747089.446727246, 31787424.20981182, 25945524.011642642, 41444135.1005622, 32994152.996027168, 35881340.29305701, 34422366.52557804, 38021448.8001914, 49047729.97469032, 40487596.70417612, 37878563.8922132, 31479642.251363743, 27509182.560324013, 35348188.680594474, 38725928.10191195, 56657580.91916108, 40259507.288224004, 48193695.763115264, 35251455.62388587, 30503561.345815524, 31951633.058994412, 33610458.48648313, 58500000.0, 32935412.442195497, 46748792.63927969, 32373637.274609827, 47676136.43270168, 42482195.03765312, 37894527.59329723, 38832464.57066825, 34113701.891597584, 43033648.031166635, 35582588.8536962, 30242993.40924207, 29910918.009853475, 40620569.620793834, 54656867.63747886, 40512747.38931443, 38199585.23481533, 41602852.45572117, 51596024.86529366, 41023643.64747616, 35914894.894971184, 49466711.977869, 42876697.32526471, 54159300.497685865, 40711925.86111304, 30250247.40785684, 29346952.80968514, 55491776.60154876, 56350159.55807854, 37712015.002688825, 36125721.634506814, 53316592.86026806, 31009032.772484105, 32429696.181365445, 44862657.03691936, 36038795.41750575, 39125596.83071235, 37840155.439695545, 42059619.95311762, 52712882.64441922, 39923752.59018799, 44868451.031182304, 26149144.017651066, 38767330.75377208, 32783971.109512165, 30286366.590769842, 32543302.496012494, 36501649.30022554, 47518741.54084195, 29606695.637535002, 39421880.22575859, 35364141.613391764, 36551362.087184295, 48397711.38436198, 43877629.92056563, 51939010.45962654, 37911580.15637697, 33818764.31723442, 37360840.014265016, 41224216.891886555, 40654744.068500414, 31157622.324583586, 39922951.251350015, 41100287.363235585, 58500000.0, 57372473.92319151, 32714783.609667346, 36863411.347416505, 28762896.396030527, 34578068.491619885, 41865091.76981422, 50517037.992723286, 33583112.340957046, 34118317.76374479, 25907994.03826651, 37846359.56720023, 31302406.86122917, 35027962.04647508, 32552172.033637844, 38396564.28432964, 27031413.36082924, 28741039.201937106, 58500000.0, 29851121.861387607, 31076230.931225263, 57108428.09490559, 58500000.0, 30589774.009253114, 36239767.48326804, 42094966.179811314, 56404144.330126, 31805410.159751855, 37192372.51063287, 46149415.35920609, 42931103.892312594, 36179356.40080708, 38077390.50774883, 29305272.337600682, 37248164.14216368, 37027082.02030391, 41134484.69482966, 34837155.541388094, 43265520.539258584, 48499519.32450414, 40473765.6659833, 42185672.48714104, 39609683.81344317, 39168601.44575056, 33636480.28860699, 41872948.15175253, 38372072.07105464, 58500000.0, 54590742.22504314, 42490224.01342558, 33343248.377743527, 30973947.646408595, 50360459.41537581, 41400762.719564825, 43344150.71961455, 27106466.35012673, 47634558.43915648, 43109521.063112825, 30986894.73469284, 35458617.269900076, 41409219.76494505, 39603929.458609134, 36826189.92397554, 38321892.64724684, 37139834.740636535, 40449289.81840558, 53429763.83568389, 25000000.0, 37258567.25573392, 40654221.32736084, 41692207.53012313, 36211749.23704351, 27037154.493602954, 41974691.68928916, 56393992.24553055, 28338731.432030633, 46999427.12201607, 36544790.85409816, 38664351.0897652, 31365315.844327122, 36499086.774409376, 51531202.98313406, 44291958.91913748, 56427400.82820943, 50214745.75305931, 42970261.95419089, 56502319.13617252, 42969413.993306965, 46645315.8374556, 36792018.47510174, 39721757.30835775, 33808196.87483357, 48263353.37677778, 30546325.159882884, 46198257.336816505, 37623540.20862347, 50149462.38553999, 45892373.44874978, 57001507.9816146, 45698190.420245536, 28111386.533577777, 38618456.86261381, 30586930.796031654, 35110536.15278063, 53879690.6869601, 44807849.993841276, 33797451.6547934, 31625675.085897587, 39439773.366580725, 30300765.753223486, 33996203.91399684, 41833341.13888095, 49981107.95200169, 44536627.71249759, 25559210.333320625, 41765931.29729374, 39767779.49816428, 42742406.92691719, 55086688.7471593, 26116417.375157923, 34575176.51019597, 44369142.739721715, 28054780.158321638, 53480042.53930813, 42333700.16571007, 46828715.0935994, 34722557.403596215, 46505513.49368507, 49073522.53398393, 41140631.51583121, 41153853.69658178, 41467156.563094646, 32645130.31691525, 37967432.86211662, 37927447.39952254, 42468239.158593595, 48367760.027452625, 31328030.985785726, 38148270.82844615, 53542224.801207155, 33480495.78048904, 32929413.667979702, 40876092.032162994, 46806992.14909512, 39262449.34453556, 51846612.38155851, 46929716.72826624, 46781662.81381204, 44026030.72997618, 58500000.0, 37508522.837756045, 26266709.89980734, 54947881.54353599, 35562204.0207248, 40069718.60030329, 51634680.97415601, 27932733.12484196, 30077286.957738936, 27938518.381923757, 33125320.55647677, 42975248.560019255, 43748866.79391298, 41519084.36013679, 29072063.96688173, 25514402.143152718, 39619699.740550466, 35456737.750638396, 43154713.453461066, 45421109.59334084, 40327243.11713826, 45982175.67099258, 41108813.67979939, 43803153.286638394, 33756524.65980716, 37711281.34770009, 40828421.929101534, 46571947.39885481, 36045365.538300425, 43720990.84167196, 37031369.06089814, 38208421.47611193, 46660386.657718614, 26293231.606758587, 29794181.203813903, 28649380.827372193, 25458647.266083576, 33945141.4640045, 45878478.008454636, 36882856.27510357, 40837158.441552214, 49288831.81228126, 51832670.26931689, 38600658.253153026, 52116742.07681239, 39936742.60643947, 32824336.31041664, 34551133.45760327, 28659348.958296075, 32474839.587923333, 36318092.77338755, 46405731.96597704, 56315732.442363225, 29260261.16675848, 42552860.31723127, 31447179.8308675, 43294366.47586221, 38099381.414404586, 26711714.16986661, 47643188.86872997, 34473942.93100399, 34995009.14949097, 31253982.05313841, 34117332.73655393, 42868862.94367914, 37634709.179804124, 41980595.50448662, 42276258.4296585, 51755892.311878085, 36434992.240263805, 28681600.568751715, 49060588.56335537, 36521951.12458089, 49553468.00682852, 42468089.047347665, 38098972.39558996, 42159149.46999238, 57868971.79296975, 58500000.0, 39745528.59812401, 40514448.39450113, 49154037.61671738, 32767161.798218604, 42019664.40763594, 38954741.128050104, 41850105.109364524, 32852254.06178226, 28007628.48351521, 26092066.237608537, 30941468.647797137, 35554882.506618544, 36818262.00253706, 57776115.652483426, 49463629.11331366, 31972036.451627433, 42149654.572773516, 35944074.019237086, 36886905.027269214, 40729894.38751866, 44634564.030324966, 36462121.91120285, 49025702.42017096, 30781591.303274393, 39220328.64148264, 58500000.0, 41055660.58257909, 52999911.44316544, 39931632.20701048, 44274408.78044871, 38701416.79780942, 37784588.23932936, 33227896.162026733, 42890677.24252413, 32726562.36014412, 45073867.332622655, 49247967.22789095, 42317399.01299829, 36872237.668479845, 43105384.48838507, 36698189.243397616, 47716135.431739874, 26710401.459463745, 36490222.25298332, 26298938.879883237, 28571663.17273657, 52229885.39256758, 47311451.10530451, 33651229.59248079, 28526834.82549326, 25000000.0, 34924232.05322394, 58500000.0, 42932174.648193255, 34805966.5697407, 43206599.14982403, 28177187.718607426, 36786177.95472008, 39998735.004629634, 38462746.92439158, 46280763.590611726, 42122419.040040195, 45099943.297149576, 33872825.118704684, 47337719.72932376, 55234844.15078828, 31917723.593150966, 32477842.157108855, 51921325.54426329, 37618039.74647148, 52672179.32903285, 35676166.465440854, 53244646.62949501, 40269798.5549005, 41361291.72170585, 54491332.13205375, 36289338.86701395, 32113799.340736218, 35630815.80844803, 43090546.14728458, 28148663.517859567, 44807255.19080946, 34959060.9420836, 49902072.569603495, 25316086.61213416, 33178273.693222225, 27440870.08602463, 32901777.19470594, 41269205.67850235, 37714343.2669331, 37128863.82056868, 37874168.05338059, 40885425.9376365, 31660266.53586942, 45468060.25999453, 45046109.84730957, 42482974.67525497, 44048490.10208742, 41695937.9075539, 58441354.63014133, 38454684.65145559, 36710501.79441768, 33410357.432460614, 31502172.883040916, 30122854.622909535, 32470294.036923163, 38588097.33589648, 42030525.18435632, 39592860.67371387, 33325819.563375212, 47361391.674092084, 45781563.38722859, 37870464.698704675, 34127175.40215341, 43973214.93100193, 40752657.90770256, 28855980.970736794, 38610088.49761181, 41394530.87488331, 32395723.351118445, 40768739.723487616, 28815249.681957193, 51925727.80911727, 50967802.80341427, 37135603.636373386, 42289931.51297273, 25279558.68206042, 30688153.322502457, 36813699.536872834, 31238288.075350694, 45540526.33079471, 58182845.75766773, 30557211.59224813, 32823884.9052645, 41162950.7609842, 55027507.45895438, 30263619.31290362, 41281139.48354557, 57005790.71976113, 27642547.11986509, 29891162.079697683, 35818940.39451181, 35093438.18177291, 46494107.61485913, 41216936.148735, 26933311.14141266, 43667912.036527306, 34674273.00038521, 51253594.50137587, 34310043.40820797, 34244752.535505906, 43905564.89839552, 46009288.156336226, 43052059.84747329, 27445912.02736572, 43876879.992987946, 31488581.271444887, 41161454.61612255, 29004865.743581712, 43035917.75441238, 33038332.96868541, 29881291.361022197, 45534988.08335085, 41216803.969062865, 34408715.0652577, 53201216.80022314, 35690345.75565986, 39434161.28107008, 41454647.877694085, 34367436.94835737, 43261848.51957156, 34998316.40968089, 35909506.72421172, 52216444.76968557, 31446900.4161705, 25272904.808302283, 55025427.049594596, 58500000.0, 35957795.97066364, 26436744.37393992, 36684169.5367429, 36872438.265698925, 37629313.70814096, 30967566.451497458, 44263050.15051201, 43751816.68822807, 28575613.002936516, 45394693.51321924, 58500000.0, 40615190.807945766, 36476998.7756062, 38011724.06965561, 44597711.67988731, 27186155.121609002, 40550370.274975464, 36070298.86420858, 57180355.65197598, 37754582.25237212, 55690741.94600399, 31030662.75502647, 44335009.24363454, 41898632.270684324, 32605880.33300717, 40661802.63798662, 50588141.98327759, 36581308.576763436, 27409079.480947837, 39023023.53720713, 32377080.550717756, 36438415.0495668, 38499389.63783339, 27330033.2106034, 27853884.652226746, 43361746.30986855, 35077668.049270354, 25000000.0, 46222573.94862111, 41484892.22491863, 33691051.97470914, 29666487.025990352, 46722349.3047144, 42164262.56857196, 58500000.0, 42799250.023754835, 42506873.25665772, 37812340.163796864, 46535083.010115296, 44690301.0320078, 51008421.55284945, 35087999.95680978, 35729864.68839242, 35401964.45414032, 46280720.61483688, 53733734.65170556, 35553643.15257661, 35810120.79864244, 41851597.64528265, 37188577.203896135, 47882631.414825216, 25653883.062255435, 32898475.93607465, 33207333.520671237, 25490057.257859245, 31961600.442924794, 32290216.390535392, 37540645.1271232, 49536462.07427251, 37194076.99681464, 31511804.74757412, 38700017.58860691, 48874086.0151657, 31878626.76177649, 32321442.487216227, 44067228.00704987, 37379154.6204278, 44902035.95913124, 39055281.43532793, 45418330.35015679, 31483465.70687054, 39068156.8394182, 37464795.59883119, 30305044.33119698, 28162213.55989539, 45266060.20937932, 36372266.95294089, 31568590.388676815, 38381041.38264465, 49694067.08120148, 25584416.978779808, 28562153.54160421, 32237594.19405786, 53313606.521754146, 41574427.00237507, 46051936.82977358, 30793135.95149139, 30927424.892267287, 43049464.96376725, 39652490.49805473, 43976099.83510553, 37647205.10777085, 41535466.48850198, 40496743.32478888, 46153601.224414155, 46439266.289424576, 27829134.431224033, 25664735.327428635, 48387372.56692983, 50324149.68940748, 31579630.480748467, 26636023.399341177, 39994999.21833032, 47668744.563700035, 56850636.41609654, 43676087.628590874, 36213261.21793902, 32440620.951694105, 39262658.41427629, 36771112.72126357, 31616664.857591752, 58500000.0, 56769618.00655706, 49778344.67567025, 32251445.709755063, 46912145.41810213, 44827640.200854056, 43001636.46606524, 50986254.996058226, 44787406.30774397, 45787375.28994855, 44801917.019213535, 42088179.260307625, 26884210.845451925, 39865131.54077239, 34830799.93529436, 29898908.943748347, 55854686.13187585, 56406059.37803102, 52178750.28804005, 41334982.89490944, 52084189.30451903, 39267645.12151399, 40880327.93698386, 31097968.324992977, 42590264.33164899, 39670161.876700416, 29755360.658522513, 38747060.187202536, 38514487.63974689, 56850418.64605811, 47301751.424703225, 39262609.92820945, 41278972.21930723, 39535010.557097524, 37526316.03502047, 31170515.26574648, 37939218.46252638, 33462769.546860404, 30085738.56845755, 43629333.31976833, 42538829.990921184, 26866654.63319967, 38166985.22777089, 48325697.630049266, 48977848.61194395, 48633992.503836766, 39490829.26475242, 32771418.730463363, 31162153.56791701, 42122060.65402232, 42431390.08266318, 51393135.29719831, 49400897.57652299, 38090201.92277256, 30124544.607272428, 36617488.76610102, 41005025.512875155, 37532894.44259449, 34671674.296024665, 41314677.759177074, 35216796.34876356, 34306579.31346277, 41828427.86337012, 35982664.61704095, 41238203.18487021, 41492195.77250344, 30797891.446184717, 35385998.3553469, 53050964.987390205, 30651064.05664927, 25983541.073479503, 26630781.91216871, 39409225.764906034, 39424257.5120952, 38207867.71471227, 50605983.68481928, 25000000.0, 42580762.25314282, 54453629.02166736, 30873672.55517034, 36151500.70087308, 33414838.67023105, 32432302.9930588, 36562246.372026555, 52935871.15345351, 57111543.53947214, 36487667.26411425, 57560422.93861073, 39463034.97048845, 56565351.75729893, 38404374.3870873, 40266162.008901946, 42307962.26080198, 58500000.0, 46875198.17192866, 33738073.92212967, 48054146.76901736, 36288863.6835817, 35322524.59301548, 47445585.7717246, 39425657.65207933, 41539254.50774446, 39283656.549507245, 42050822.00617817, 42842416.197522365, 26436413.456198595, 45083260.084891155, 31837889.684758313, 28891484.020214964, 38688124.27457957, 39868159.261485726, 33836153.90682447, 46675284.571816005, 29508276.451273195, 35945093.994674444, 34620649.70898622, 38784767.3519616, 41541782.19143334, 31664562.57503981, 45635630.11932282, 39692069.072422564, 26552536.87357883, 26381019.136303186, 39066222.61217482, 37383640.98747048, 38322443.74716294, 38937322.75368899, 41077151.44127032, 47838152.49695754, 30982487.223047912, 30587160.531661287, 31098936.19138516, 41629991.72891967, 50935518.26485026, 35760546.11026615, 25067861.395642225, 27339602.48612805, 32854555.953369685, 34819506.786944255, 35934137.3190833, 39488062.19464631, 36674399.864116736, 48875797.98487626, 33961239.51507451, 32652206.865255706, 43332556.17620978, 28328087.266724996, 42524713.248052776, 40024702.27829298, 37968123.35273091, 54762912.26098071, 34349012.751952924, 58500000.0, 37348444.83249277, 29916731.447917767, 39750044.5308278, 31211197.44099907, 33422849.122609116, 42590641.74762839, 44039648.29859094, 34349300.799910896, 48241168.30460343, 50004272.20032719, 53034452.33315313, 43797133.71193138, 52225107.36737977, 26581457.943879366, 36626761.75611371, 32619931.089811906, 40165758.31308357, 34718853.77870266, 37818484.75003487, 57407892.42718294, 37790072.043874756, 42741523.348128885, 37294597.80475763, 39798668.703590915, 39217660.81755244, 43054101.20141112, 50086644.531760216, 55450407.26309853, 41812254.76889491, 44356416.78705318, 30723675.327050712, 38448335.38201262, 47763910.48444201, 47020662.22300792, 40956415.37288404, 47223765.757723615, 43441422.20299013, 50457935.4133821, 41633878.87433332, 36335862.81693688, 42044239.80933711, 25000000.0, 42463685.9386167, 25000000.0, 27227529.158424206, 43085405.94180755, 43320248.647894666, 30648805.49189416, 33703656.1211721, 52303550.770420365, 35365181.048101895, 58500000.0, 39152040.4263331, 42689640.56348184, 55094416.72606372, 40265901.08648045, 31701655.496048495, 38271475.9317372, 38874700.05518797, 29368120.386551194, 37109639.870733775, 33490359.581979327, 47603601.406963944, 39455003.66880144, 36899111.595598176, 38300117.93302136, 41056026.821931824, 44612370.76201941, 31719263.034395993, 31440255.840358283, 49449913.83592291, 35904214.37111296, 29047073.13387377, 43013135.35106019, 43191008.00627216, 28357547.735033497, 41111158.76397362, 45744581.88826129, 42387598.13115735, 44755382.656423494, 29124226.093119837, 42001667.21598956, 36745091.30364665, 35374434.760682076, 47066197.52347456, 53517586.7493134, 56829592.04749824, 51691997.01772814, 38271421.585262224, 42194252.3230474, 46047132.912059225, 40182306.0750903, 40263667.218463756, 46603648.70166394, 38681011.42054655, 33581673.27639241, 35888034.986212805, 44773602.9853331, 39192650.040557966, 42083015.87307339, 45116631.49179478, 36189393.1424851, 45944495.50452492, 42427473.736382015, 30184301.43518759, 53101680.20049751, 35240678.74355121, 27623097.880100645, 31417338.686924458, 31576817.959575098, 39601477.03947155, 36968821.9100936, 36480794.86678464, 44639564.14419861, 42080044.61274363, 41869004.20969808, 42705788.467011526, 44605974.18787125, 26005085.8835069, 36268917.64275394, 25827339.275815345, 39467060.79828793, 39129633.17420994, 48836545.173998855, 50323186.48658127, 40880136.19202487, 35243531.640177056, 43390067.805331856, 35039210.91184336, 39156395.99739821, 48228253.426924974, 34819194.85954714, 46426238.214170225, 45186394.502655335, 32021312.823761433, 48103822.78808588, 45388655.42126966, 40019404.84059963, 33348410.76977243, 32673652.703827914, 34967240.11841731, 43919119.84517393, 32015683.172920957, 42955988.60168536, 30140122.284175742, 37517174.978748135, 40084663.87979966, 58500000.0, 29290314.820118852, 53435656.58187744, 40426080.282427505, 42717896.647395864, 40158318.213070296, 43021432.8613597, 37918144.80588788, 53233463.288206644, 35571421.59944581, 49738295.5927476, 34188788.55073158, 38673101.821566805, 31239411.617095098, 43115010.15641603, 53133303.82184541, 38533780.101305485, 37574078.649412856, 30959538.188503817, 37318029.020327605, 27988568.416497186, 32305740.553182896, 41087781.083817735, 51737891.05743655, 58500000.0, 34608153.986728534, 53023243.726772875, 41235141.13222797, 37937651.32325548, 42911435.74534044, 39682975.597515345, 40090990.78499183, 35934557.8503885, 29162097.67335967, 28280416.154570498, 44956647.17795996, 36946600.799304724, 34538826.09414765, 39238262.43500666, 46321077.32166965, 40687274.34713301, 34104581.897151306, 50735400.59250036, 54657954.72694596, 43476177.38355988, 48101481.86341197, 50903417.72685887, 49715888.97182672, 44586819.17567852, 44438861.547869906, 43707092.83468735, 31072611.292965975, 45409317.55196653, 29423488.6853735, 33122083.622588497, 51569500.67730139, 46765871.48996754, 53609414.4956173, 36985800.35035419, 30714703.200715438, 37230379.168776155, 40020294.96445571, 39826184.33638655, 49753474.162936985, 36293167.93743806, 42188147.77041807, 31793534.376414016, 43072213.20444668, 39193603.219861686, 33436550.254331425, 37266593.96973187, 37674980.04304014, 36997658.432406604, 56679719.00565666, 38362686.020429894, 37203217.335383356, 26031142.434355177, 32433252.061212152, 37052982.750271015, 33890837.15354632, 52426948.44291043, 37828221.78981519, 51405209.11074215, 39681201.75769961, 39476788.01812707, 38440874.838540345, 39199290.91812064, 56292267.22211155, 25491825.212933555, 26271716.19964964, 34926624.608168826, 39288154.91739613, 45307681.50510061, 43279661.57823091, 36117653.530059144, 48564325.18901037, 48678744.47239101, 40718999.8433592, 47989896.18811706, 41487304.00301504, 34791937.26733752, 45381477.39549239, 40092829.880463056, 39178978.786742814, 53446246.41141266, 25184606.226565145, 29041913.11860753, 30489877.9090109, 36277930.52765988, 37119224.36600526, 28497827.421124294, 31816813.596241925, 32662378.850754492, 58500000.0, 56877725.90279108, 35908664.9907481, 36275460.93469944, 30734440.888088677, 26510668.196327265, 38213758.75823365, 31731714.767597914, 38472893.88141033, 27944838.29287968, 33350866.476971712, 40415714.748825595, 42314525.54124388, 42774722.72549966, 29643595.597974136, 46908843.158580676, 33082886.34441644, 44763660.50089976, 39080078.56322262, 29296051.02158227, 36639970.35651411, 42306973.733922735, 44576153.13709697, 38019868.30012159, 54113863.83824142, 48446277.57424039, 37103203.74386617, 45885138.28660616, 57752996.175754115, 57932952.202174425, 30227721.162969828, 32212800.225784734, 53581370.54696715, 31329716.71160856, 29630763.886891745, 35349037.28078326, 42799594.208316915, 38330720.00986279, 34144119.04857512, 33974174.61001304, 33701984.88412514, 32533984.577287, 58500000.0, 41705556.094065234, 47227404.12896937, 35327538.594170734, 37660825.329295486, 33693332.75595482, 25000000.0, 29286028.82847146, 26765063.342364244, 25658680.086297046, 30436605.997781165, 51802812.72525051, 38802375.306732476, 51428206.56963571, 42716189.96875431, 46200289.81725115, 32387507.21630594, 43746679.98846334, 45678325.5337215, 34680796.54167533, 44076447.91082285, 44138317.001349, 34879627.030482024, 30906339.17474465, 30508809.675057564, 39889402.31528949, 41965962.939580046, 33136578.080294363, 39388237.98163649, 44178843.949596904, 44625330.998243526, 54343903.04796143, 51281005.198174834, 31708696.314967226, 55875548.715325475, 35016603.84801889, 48829749.464573056, 39733835.2693027, 35905634.78427173, 26772765.285700515, 37775365.67698619, 28186552.817966186, 48036924.908039704, 53942994.935055286, 33105933.673913926, 41744820.811128356, 33609285.17035861, 34303549.11445686, 46121738.74326405, 38850693.93455021, 56474667.77559167, 35378597.424268425, 48362780.29951536, 39981318.235462196, 46329344.99628542, 35641391.727210835, 38760456.59227803, 38224898.076066025, 32833625.524407648, 45040554.865323626, 44928235.58094552, 44393945.15788366, 54173127.92909671, 53180629.76184967, 36188604.926946394, 42375667.01451199, 34338916.89131361, 39361402.13983406, 34512160.40184605, 55131587.43687265, 42292107.257671654, 37406824.400360465, 50386775.583980516, 25850789.092608638, 26239946.27961368, 46329937.89132812, 39670852.62125568, 41293424.8928096, 29606674.48992304, 38976357.50283025, 58225216.69001101, 46608039.784726456, 40595880.26287137, 35702385.36969677, 36039040.808486134, 25952550.29170445, 41356156.71161558, 46817837.74243332, 28090167.884336933, 34066020.330106825, 30680922.178709596, 31950052.710677095, 39612410.891770825, 26063595.481603287, 44588430.514626026, 45921300.073826805, 37146690.63348226, 25115927.393254258, 31741312.418838233, 50806209.11167131, 25000000.0, 36398591.89861259, 30535389.447006267, 46415381.31929065, 33967713.1229378, 42652884.37075777, 44131543.22013065, 57103900.56444062, 37526094.65604572, 42402429.52803828, 28632038.373565722, 50352708.524098575, 33361181.095547646, 34797288.15535537, 38984466.651162244, 28165740.671336763, 41104985.50525506, 48038618.1648733, 41665294.60925062, 28011587.290629935, 38157929.124161094, 45806845.00665122, 26588757.62481646, 31220939.46999953, 47125707.31138089, 41464988.34322294, 42725105.39407668, 57257468.985524416, 43238270.59505023, 45000716.090156555, 58500000.0, 37440183.043800615, 33099146.55038172, 42868012.26046237, 42969394.6863877, 35048100.30174514, 31501279.950463068, 58500000.0, 41964489.47021683, 33560434.83509664, 47519019.90260218, 38276178.491692156, 37132750.72126732, 44101869.552515835, 29823048.090549327, 42193424.67751518, 57613214.75645167, 43216605.919937156, 36178928.66663045, 35193416.21213446, 35919345.34583323, 37124280.273451634, 36166759.437524766, 47522841.92483539, 27171605.216946486, 46981301.232189566, 36152415.95116918, 42410513.489859134, 30878837.485863328, 51843007.15290298, 50942909.452694, 47958846.55165737, 28453195.99537915, 46656468.307552755, 42660994.9544587, 27914990.57878954, 38967610.69704947, 42299571.46445091, 44044231.69766318, 40660646.53000601, 41650330.15748648, 53453666.362818554, 50732627.1910326, 25000000.0, 36630378.6651281, 37830510.61521199, 27063538.3617836, 39954075.36923513, 50976491.765414715, 31143296.274219323, 42049205.45867771, 32285670.112887297, 33990668.711833596, 53496348.5642456, 34931142.35374213, 43180461.70228894, 26606365.60943497, 57276150.67319341, 44479252.732461765, 37688304.87166372, 44225568.79859172, 29090141.783809118, 50269017.49706646, 36579818.37457806, 37517167.61193727, 35308326.54115647, 34651509.25522974, 45351358.34941432, 41341031.480587125, 44942450.48493487, 39095287.09234913, 43647547.27551889, 35854916.66715045, 58500000.0, 28135771.636285216, 51107680.82946965, 52274490.96844835, 32722270.440787107, 58500000.0, 48323544.8931852, 48075863.80468169, 39400181.52959542, 37413162.63447492, 37474924.827659324, 42532241.431560725, 52642897.08796388, 40695433.557407826, 32315518.760813378, 46610276.77771963, 47571396.75165914, 44970069.30241983, 45840398.50274666, 36991624.53221317, 32196112.07540845, 32611754.63443169, 27737745.491102558, 41175983.50343057, 38484274.75758946, 35695351.75534336, 25000000.0, 30104774.81352345, 49618848.573697396, 34042962.263879254, 42264393.95509821, 29207811.366892777, 53061361.38400697, 37995490.456178546, 41639864.07732394, 58500000.0, 53938981.687516265, 36714511.23490878, 34559737.9812196, 36567778.066078514, 43617149.792728454, 38307859.036784984, 36033936.5904319, 53381181.07214573, 38235295.82822201, 58500000.0, 39925080.73278285, 56770594.66597272, 42235221.332111046, 47992964.74606833, 33614820.11562548, 32711223.041962832, 43157629.19544168, 48252857.29633193, 39502024.173115924, 29857604.729735956, 29395912.092262432, 28984055.370863043, 26975049.98142016, 40083290.35088213, 49662879.691491306, 39057185.14516081, 25633121.36883451, 37622671.717018135, 37845296.88955927, 58500000.0, 28801176.862116158, 36068672.85148882, 56138726.42010048, 43069132.802453354, 44111550.85237211, 40126440.544129014, 41991949.29137391, 46152063.8241542, 33018211.781795345, 47140775.33652042, 29316977.353696898, 41977990.980213866, 40673342.97022723, 34391903.01355818, 38980868.170738526, 34346601.585413106, 31241133.401174523, 36351840.5795784, 31029039.56541351, 41928677.729299664, 30728725.42829278, 45517281.68907145, 30525867.200061113, 34756631.81539957, 34331652.72830159, 51804901.294423565, 41995018.81536294, 37456545.3023904, 43514383.694428585, 26006972.02272448, 38813041.50983183, 58184329.121907264, 40277112.64521481, 39733219.40928062, 43970435.58913295, 47315647.045444615, 26282054.28792116, 27464857.74359907, 40945022.837594636, 33683931.89287843, 51661651.92524879, 36647882.40272166, 26442669.642027378, 29973607.810191903, 25000000.0, 37279993.92799818, 37641540.691520825, 35812470.85878362, 49181417.48542312, 50438917.290500626, 37784740.97644992, 25938997.264369927, 44616770.848072425, 44037586.604773834, 41810238.709239915, 48180885.77962288, 30633294.62666776, 58261037.59888712, 31990007.583569743, 45876435.59378341, 27435778.66009465, 32187448.718101237, 53938168.3450627, 37069980.14496514, 46762935.134905905, 41176042.38668502, 38310009.00441437, 52229754.176817514, 37260072.29535681, 26900510.89383557, 33061754.564837113, 43998867.66767196, 42576945.8796039, 28140949.222355034, 33616724.7040832, 34643687.530296825, 36261026.03144695, 29298980.321110643, 34304371.49398966, 33586466.540931284, 46092925.4357488, 46459977.64812736, 37981200.30869353, 36058307.56841847, 40341565.78548772, 32968864.953067545, 30749825.218463484, 32119903.934521265, 34257775.9647047, 30642048.7855853, 40530428.98811352, 45687979.34441875, 28022222.435011335, 39376133.676130936, 37391778.44719433, 42094549.90192968, 39061116.54835259, 28822686.91609773, 30009198.034243442, 39411833.835900195, 48664216.60405755, 25744669.523120098, 42132031.48058057, 50344298.35005413, 37923419.49539366, 43989684.222267166, 33767952.06123947, 38193718.90874398, 27823020.106774222, 25433299.986797906, 47788876.49080716, 31817908.51551906, 35578502.13499349, 29233970.342891626, 29089219.512776792, 37757251.30167762, 33579616.748924136, 42419671.27624355, 43092405.34109181, 41911448.23862347, 41190340.90469384, 54641609.149590716, 31268219.544621862, 38716513.36726552, 49743074.114695966, 51146548.81344332, 29016928.19311615, 36669686.7367554, 52166644.79599569, 43600409.99328408, 40815388.81349317, 37409543.06012623, 36121044.800113246, 41623864.21530652, 37136725.7798025, 38817586.77937452, 39822907.01037693, 33946523.14746931, 43822241.29147441, 58500000.0, 26921809.677577406, 41939429.17478995, 33363424.871760786, 44242893.44041217, 39554578.326812655, 45998884.35178579, 50194559.98298467, 40790920.621704735, 49736382.37686317, 25433407.178776726, 54788067.83851656, 42393642.18109481, 49170669.87491743, 30279576.969761826, 32870273.2642024, 40392791.23335834, 39027346.10072541, 41578652.1326105, 49239946.49928537, 26988721.926853772, 48103060.8989164, 39236410.233836025, 37519444.781872444, 28716370.724384382, 43554153.24760792, 25269815.862353966, 44910652.629292235, 28589481.205917723, 39612212.67947452, 38195309.46706097, 50131380.1853172, 37718891.039529175, 33831639.460029274, 35197148.40203789, 51236676.35717219, 43860796.360907614, 36107107.50798851, 37261742.225016974, 28140243.674419396, 42513789.769458115, 27019512.364752196, 45901356.109028175, 40245468.109860264, 58500000.0, 31054274.392938282, 38328573.68190104, 56855162.32611214, 50363081.1173927, 33816841.8000086, 41063351.37996653, 39184431.269971065, 41568890.86460993, 33799234.38397076, 38436625.22357933, 27957537.245857988, 40300720.02929342, 43069517.52245507, 37332781.979319215, 27857454.508054912, 48252639.600648426, 42299487.10786399, 33604863.54780458, 36916207.40812438, 28537875.138622425, 31547750.9954979, 34966142.53548492, 50758187.64111932, 34223891.287864745, 44833195.53453487, 34962418.090425834, 41271658.48413665, 38016598.54332957, 47091043.67881113, 34988282.4890133, 28108492.498375647, 29261696.38647662, 35009947.719514534, 30093709.334892273, 42709245.00520019, 35501712.23593938, 58500000.0, 27145790.10995526, 40887539.10409489, 30872550.51705101, 35295323.53199061, 40354295.08532155, 25478166.964116305, 41174919.22614788, 57546042.85442113, 35594191.58490345, 41375075.15976992, 48624601.33853924, 37836078.86811192, 34649251.72963773, 25596384.011606283, 44840547.51562773, 38243699.11838743, 31632571.997331344, 40228276.41563895, 34629370.99976926, 35035451.79279779, 44513417.99326682, 29531898.114370912, 48854923.70805298, 29164703.370944396, 34056788.95657793, 57680156.66379522, 49687103.4132669, 39982926.048900366, 32117809.912234865, 35029197.203136176, 39778200.55988887, 39479248.67500306, 38424052.19718312, 38913914.027284116, 37435676.03626673, 28893437.059849143, 35123644.28375106, 47505923.30642247, 29345868.698269628, 37632238.278809175, 32946760.351296894, 40099067.84366737, 36084234.98123686, 53496348.91201146, 43586649.032722145, 29697968.01084578, 45127569.48923907, 33261778.994040087, 34678242.285217516, 41849317.4887135, 35307642.615395986, 47288203.18103604, 33262774.106154837, 34372653.76148763, 34102308.42011485, 34761444.08808136, 49392682.542389765, 44725311.59257574, 56187217.761494905, 58500000.0, 31512447.585978605, 39754234.6731306, 30559883.36650543, 33241054.16412454, 34291986.704349205, 31337161.692212123, 31372008.499777444, 37993432.37916523, 30299753.975622393, 46784692.50168803, 32272525.535501488, 58500000.0, 35609619.73089777, 39767645.81558633, 29801292.369514097, 56141558.9071161, 49604819.99957554, 41700318.50837274, 29479482.242071737, 40948267.9247248, 30915061.09633523, 53326843.59390767, 46460697.46634568, 39964665.343034044, 25218127.900446933, 31828509.932012737, 45285283.59750733, 50592037.11517136, 49496796.01534499, 27993182.00646951, 41741135.16540019, 48528178.2141052, 27604221.243510135, 39102631.04070956, 41497785.26249887, 36759477.54267502, 26656056.294527903, 36566596.82139318, 36554197.71216345, 37963077.25046649, 34777343.781118676, 35672580.23247261, 38841120.142193064, 43000810.57866494, 36731084.03106442, 35924583.04263307, 39938658.75120509, 26477690.637436107, 43315731.25305584, 39163250.48974492, 39497331.99704391, 47970423.42152075, 26395790.774337113, 26342121.75579389, 41497447.67877035, 39109130.39914814, 40599909.894679695, 35528996.94914839, 45062155.088216946, 47686860.60075952, 43379276.05807704, 37070538.34280953, 26005740.065358177, 46070588.72140001, 50686556.491970286, 44874317.93029732, 32533073.026504587, 45152014.85694268, 46966726.547683865, 54423507.168338135, 32557329.374077428, 37340382.88830429, 45857553.567535214, 39645260.01945585, 30941837.559725955, 42748955.31508362, 44254649.40962502, 39901670.56571135, 41025395.944218144, 37087144.34965715, 53506344.02224808, 32388906.792235747, 34602782.43882477, 39258799.83275017, 47149683.7870276, 28557727.969707146, 29707408.18192187, 26180393.4619079, 39439050.464601934, 30935452.24478765, 36115335.41138571, 45033870.57936034, 34209168.55229251, 41126778.9972978, 36770544.76397927, 45136010.232670695, 43298303.927475736, 33847381.79346885, 37798589.2794269, 48818113.12870614, 42557793.748795554, 29169159.198390305, 44979166.11973079, 31156159.372699905, 52768879.52315869, 48616158.858402684, 41638502.90771414, 40489171.03152757, 37477902.56660434, 45197099.668687, 36220433.09649795, 41164006.10861507, 47079893.19833568, 34789562.45845916, 34392631.18963104, 30442986.435542613, 31288815.965333942, 26718303.970170908, 45689069.89584924, 56924631.780162536, 52911788.001741275, 27792683.530142657, 45641138.69776212, 52875816.79681372, 35568878.58944824, 40015364.80614281, 26255646.671264984, 41435606.96295423, 31294843.75933464, 40853059.23505571, 28175733.87486256, 43921564.329829276, 48620404.63093132, 33201984.387253255, 30814181.985940017, 25886542.72736714, 37026878.54739645, 34644618.890292004, 28236333.37888687, 43096773.27777387, 35620245.86159484, 31214551.000082247, 34842704.16309737, 49102868.746388346, 44481923.04396175, 38107908.4575734, 44633941.48123382, 30658615.359005876, 39436344.93479352, 40404589.28287423, 35471250.66634912, 42937375.5235445, 33221229.231540956, 43616436.13019559, 44005061.17761737, 25000000.0, 50351562.44887321, 25000000.0, 34393674.07935651, 48628976.17819801, 36631552.163007684, 28746249.962165616, 31096225.13514539, 48644963.76975233, 26476174.549502697, 49704263.73076996, 38715147.219107464, 30455643.139017634, 34633501.52098109, 31602283.35435149, 47023207.978923045, 45714134.40135935, 27252253.612563282, 35970522.65286206, 32646229.630505674, 51460191.03745466, 29458986.256997623, 54947588.669877626, 38893702.06578444, 30652002.447095975, 33952234.53280085, 33073065.78109967, 29931871.296064667, 39959503.3211798, 30228258.979865965, 25826958.03541273, 36152492.64572156, 26785535.544486843, 33419993.094856113, 32331482.15359383, 32590963.483087473, 58207844.38712074, 39636908.07832906, 41249226.27456773, 26925151.4971269, 34119637.35143942, 40988342.24593022, 31553616.978833083, 47440194.4547946, 30389523.625708286, 36871324.29269683, 34612049.45582145, 40549770.95856787, 34216767.25320742, 36991893.83588065, 37264229.34197709, 33545551.40141862, 43389452.13305947, 41188494.73317075, 38442355.162288696, 35767194.94023832, 46336834.48719041, 37266555.584351234, 36713491.27032812, 40042752.937175006, 56029056.996279314, 29519602.74858664, 46076623.24413231, 26549363.1221193, 41005388.597641386, 54610652.33173451, 43422193.04584235, 40603749.18682119, 34799525.295785785, 39425338.31044896, 37139165.221335754, 33182398.26404032, 36844031.41427834, 40842252.04721525, 33313996.335734457, 33040543.3394685, 29396004.67858251, 42533986.42898286, 43944416.373828985, 41130063.09858143, 48015351.04296425, 39900868.54229806, 42545529.221608154, 41761266.80792907, 38418627.90374559, 35017746.65935099, 58500000.0]
thresholds = [29686535.763420954, 39059693.482375756, 51323913.62581509]
display_name = "dFDA Total NPV Annual OPEX"
units = "USD/year"

# Calculate exceedance probabilities (1 - CDF)

sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure

fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve

ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds

for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)

    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('exceedance-dfda_npv_annual_opex_total.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that dFDA Total NPV Annual OPEX will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
