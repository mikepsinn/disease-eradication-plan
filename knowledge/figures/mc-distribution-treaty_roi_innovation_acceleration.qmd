```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Treaty ROI - Innovation Acceleration (Optimistic) (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)

setup_chart_style()

# Simulation results
samples = [2534867.633304421, 2385581.2401856068, 2538724.679890815, 2535481.9079936314, 2316260.479418821, 2324787.740681969, 2528154.4917214513, 2495812.3568203137, 2520174.4175099926, 2421758.357846095, 2536808.4244630844, 2538421.594622308, 2525029.1019718633, 2529903.9464747403, 2538313.8679825054, 2420641.2220599256, 2536522.8283391995, 2401983.78212542, 2536826.9196170936, 2518013.4407067606, 2507864.139334909, 2450122.113084687, 2526235.757027395, 2510337.8691101777, 2483746.286063729, 2492131.555067277, 2539006.929872608, 2536447.036834143, 2537432.437592329, 2537754.007756771, 2305701.520663486, 2486238.3193770936, 2473589.3025012333, 2428637.1254401268, 2539361.9382567424, 2529842.039226783, 2513471.46181292, 2424042.737203979, 2426785.6756066815, 2539336.945202709, 2538794.9571664007, 2539086.7808074034, 2452441.413381921, 2532502.9800687064, 2527621.229630231, 2532005.2069226834, 2536961.9788804296, 2532188.663124927, 2539243.7882468654, 2525112.515636651, 2534403.742321412, 2539363.052558819, 2283009.9220792474, 2495468.073995831, 2478779.8905577115, 2456363.331804577, 2499820.119926898, 2513085.250326545, 2419465.521888705, 2534796.5302838087, 2224774.141717269, 2493921.7129049515, 2529737.3040980943, 2539303.8519083895, 2539059.0535269314, 2538223.9209704334, 2492488.435211438, 2479746.225049033, 2537210.933558189, 2507324.1271114512, 2331485.823399099, 2365330.3231814452, 2409563.9328533607, 2538677.3069094275, 2528831.570650964, 2539187.165062654, 2483870.0897654104, 2529553.1718630125, 2539364.905144642, 2496500.168069877, 2538162.7708632434, 2452975.3373036664, 2490977.7304119742, 2488966.609791221, 2350906.9007051564, 2538561.31234035, 2478897.2714368096, 2521980.1851685075, 2538485.86343941, 2538008.7969669425, 2539296.3747203555, 2514613.053363399, 2484324.0689893905, 2515960.311603949, 2226296.5578530696, 2285853.705755906, 2319511.7621797626, 2394361.926722462, 2537183.3532349546, 2412189.1026549716, 2489355.077088959, 2522915.154061575, 2491697.009686098, 2538848.139966605, 2406870.132343859, 2506121.2678111033, 2403709.423923945, 2493494.8035044027, 2537518.151126727, 2239935.205139823, 2537814.441840773, 2532703.4933138657, 2462713.8270388977, 2286151.2128115213, 2525356.1182078156, 2471378.8447756446, 2532521.636284593, 2522536.392801446, 2506979.489842402, 2503132.2521981895, 2389004.993231247, 2530441.265754528, 2532054.355690979, 2520102.9993415936, 2537604.2163958536, 2536245.680557618, 2514797.8494029567, 2352573.218660939, 2456236.346968027, 2408213.347580943, 2488083.2447564434, 2305260.873080472, 2539360.27364447, 2504660.213435217, 2279114.04278931, 2390633.090915992, 2535118.6697988664, 2537554.518123496, 2363720.1934310948, 1948549.3369330773, 2537463.52266428, 2395913.0999090136, 2377812.17703769, 2533727.6466653487, 2428780.1560309418, 2485229.2767633875, 2460201.077837287, 2511421.1220348254, 2531977.805696793, 2529487.5572458394, 2510009.6923551103, 2386484.9676858713, 2221982.7422678852, 2476833.429575972, 2517753.5400654445, 2459228.387320982, 2528269.0748796565, 2534418.488616477, 2475220.6754480624, 2353468.856859108, 2400761.867378232, 2443259.5503242463, 2310898.872105592, 2427322.568520165, 2537548.4942506324, 2412665.0909396075, 2535693.1053861133, 2536879.1012490257, 2510169.586559884, 2518623.995162356, 2454033.1017892635, 2538001.676604404, 2480626.054664977, 2343800.4433982056, 2330921.611759482, 2530159.794252194, 2508316.2918826197, 2529616.832906102, 2513119.4492988936, 2534302.7137831757, 2522606.7570751873, 2532031.3033623793, 2485730.525108897, 2530638.9737846167, 2537718.832739878, 2510810.187268614, 2530605.673241929, 2344074.7358388174, 2307547.623259195, 2504012.686269781, 2478263.282193542, 2508308.128989018, 2488808.6354879867, 2514897.0439924365, 2371177.4266069224, 2414187.4856071263, 2539350.3548902157, 2487554.294019663, 2520906.111936923, 2509622.714539259, 2535766.6104226955, 2517706.8203212162, 2526320.6985731903, 2539349.395117425, 2350013.350292762, 2518094.454425038, 2423500.292718216, 2345436.066172852, 2417231.415035247, 2493999.8505947567, 2536047.9414844634, 2318554.022128495, 2523049.199918155, 2477096.703472738, 2494658.5466185813, 2533872.389207663, 2539050.950246781, 2521146.2049910547, 2510339.7633690787, 2447829.5866728537, 2504515.9040140924, 2532872.249852458, 2530328.100175594, 2376130.155776988, 2526315.821216967, 2532359.595627265, 2135315.947165407, 2413163.778282361, 2421722.8019385277, 2498649.4110568934, 2281220.2303286023, 2463190.495318061, 2535177.2224242147, 2526915.6334413807, 2442647.746809581, 2454127.755606175, 2383116.490858015, 2509685.4401231282, 2380849.149218614, 2471385.7381499424, 2417466.753137309, 2514919.8627924863, 2250310.373304604, 2280190.9917741143, 2310591.837871857, 2328534.3768097535, 2373431.1447231006, 2429925.1741909934, 1953611.8780019223, 2356585.5329407873, 2490423.2323118816, 2535868.3858342343, 2476090.24903441, 2396450.2580028703, 2502595.43185314, 2538427.096369342, 2537820.119818333, 2489572.3305264963, 2511961.734281536, 2305742.126503685, 2503238.849639125, 2500645.5556109697, 2532503.292706137, 2467988.942205724, 2538367.8921786924, 2533590.9812519047, 2529416.0370015837, 2536122.196009545, 2524325.1732995873, 2521227.233600283, 2443839.1512221955, 2535201.994475254, 2514700.3745081443, 2324898.9430517447, 2508650.9371039267, 2536898.068174219, 2437161.1141382493, 2369991.542663028, 2527501.9516575197, 2533564.378838498, 2538478.3705953187, 2245825.918331735, 2535788.3631885443, 2538128.2186724474, 2370429.898553105, 2478640.3498778916, 2533596.42270626, 2524287.008864733, 2498186.2365775793, 2514246.8219348844, 2501982.770082089, 2529288.7326546656, 2514358.9243536876, 2700823.061958914, 2503358.007853647, 2530325.539062148, 2534611.1646468793, 2490029.8082745634, 2249966.888782091, 2535515.408801025, 2476671.9058134905, 2260655.3978853114, 2537104.2253179327, 2494571.8416075157, 2517240.2563459496, 2382867.1549696703, 2493965.7258863538, 2522878.11223264, 2539291.8866160805, 2474531.0097538703, 2528038.0987213477, 2537890.8888977002, 2469524.541614992, 2537889.372579249, 2537718.9825038933, 2497757.980525325, 2525056.8794571506, 2447601.553390879, 2534234.733714083, 2355019.8622046886, 2538365.554571425, 2507379.1231109034, 2528275.2830738775, 2538720.475930978, 2436795.6808124003, 2538907.350891402, 2249105.979500669, 2516852.810560903, 2356483.390920125, 2472820.497080844, 2512186.1400810946, 2539357.9501710455, 2447369.274226245, 2391014.3390701837, 2523173.4885962517, 2345976.7263991684, 2451598.6564396736, 2535076.2756710127, 2528878.17129534, 2539354.6565032243, 2473800.3410143484, 2534857.4740439937, 2525351.006030663, 2537453.9302907917, 2506118.3350441917, 2354455.155048183, 2463135.7017033193, 2539317.929516412, 2246171.38646852, 2514118.7426648107, 2536513.8459201, 2537411.602279811, 2465893.281417263, 2537937.053583708, 2531897.9654807094, 2532528.941289589, 2532583.9218738256, 2533813.237109828, 2419913.3067438896, 2510892.745732316, 2510497.5500582624, 2536845.934893353, 2533954.0594951385, 2381673.475367091, 2512637.125045238, 2513820.7681298754, 2440327.07086809, 2427172.9336389806, 2531374.7439222485, 2537449.2548286994, 2521916.071520732, 2521543.695777938, 2537232.188259977, 2537492.741279921, 2539157.1343469485, 2219871.888428966, 2506144.990614534, 2334140.866314708, 2506832.365877773, 2480302.626572941, 2527190.774007168, 2522444.2141482667, 2239762.911787127, 2337453.3147975476, 2240069.2175854594, 2431985.25617629, 2537899.7694044826, 2538940.4138744394, 2534003.566161027, 2295434.8683578027, 2488720.612561551, 2524391.461301342, 2478609.893656124, 2538200.4781845487, 2539120.5320759905, 2528639.656663919, 2538623.8603019053, 2532395.5824406166, 2538989.123759564, 2446480.710848311, 2508300.4973029834, 2531155.644673175, 2537835.20042964, 2487649.8225030084, 2538914.20754879, 2500696.9550784663, 2513201.9461774044, 2537694.6307742377, 2330578.5346178478, 2326241.4461948643, 2275839.295035557, 2507486.4183701603, 2450525.5289351665, 2538734.851237551, 2498890.0072851125, 2531196.0570894782, 2531218.183905727, 2521603.4199746177, 2516701.4192627617, 2520373.471126718, 2526399.589188259, 2424528.220352881, 2462679.0950350706, 2276315.3563054386, 2415403.6345286816, 2491511.9258638215, 2538083.9430279485, 2479514.939020502, 2303779.9496614654, 2537043.344213624, 2385464.174216719, 2538409.2184058945, 2512172.4154526936, 2275283.560531554, 2535768.681321788, 2461200.2498302273, 2470807.2664066087, 2379282.4506083997, 2454107.561428587, 2537703.9650462177, 2507497.3691259366, 2535533.175438429, 2536365.164261019, 2521931.1015518573, 2493106.580883585, 2277375.5750196152, 2531938.044696285, 2494269.624773582, 2530350.8357750936, 2536845.579083815, 2512168.5085420865, 2536049.0759600652, 2382420.1407034136, 2331356.4648119854, 2525209.2620119853, 2529625.5410935706, 2531646.532203635, 2423070.261871678, 2535649.603452773, 2519595.8955147755, 2535129.7461211868, 2425235.2650810806, 2243708.76504833, 2357766.750069217, 2368888.0937368153, 2480186.1684084227, 2498087.135913592, 2388094.5635781363, 2530649.147494704, 2401355.704399749, 2536022.674885527, 2486163.8578507085, 2498939.9885241883, 2530691.8540109033, 2539363.7697487962, 2493471.5422824332, 2532045.714427596, 2363376.458109479, 2521608.9227684913, 2100529.4153504586, 2532169.4933474655, 2516384.011606596, 2526368.586252932, 2539285.1538679847, 2517550.118899659, 2509057.117010928, 2434444.445004708, 2537745.18938831, 2422026.8055555806, 2539295.7054066183, 2531349.0121108876, 2536472.072961578, 2498758.734583526, 2538121.4924601116, 2496567.0074977046, 2535600.443898739, 2275454.282646335, 2493847.5387319704, 2329812.833021799, 2272104.0879815794, 2519876.08540925, 2536490.9808547855, 2444166.563561283, 2269930.476929329, 3063610.2789603397, 2469553.3216233575, 2178158.8998458777, 2537822.0815076693, 2467422.751242979, 2538280.5870798663, 2252487.5303657246, 2497684.4916765485, 2526772.129621795, 2515506.829862993, 2538257.4547274834, 2535946.323183952, 2539286.1942877397, 2448989.845485518, 2536436.3905219897, 2505351.9341499605, 2399770.73910283, 2415484.2152759535, 2521222.5090431576, 2507320.7838418772, 2517892.419837077, 2482095.3443343565, 2515237.3272089423, 2528325.856068336, 2533413.4899068014, 2509152.211128148, 2491114.152307266, 2405429.7115621027, 2481386.4386182204, 2538097.188432263, 2251025.569886294, 2539358.0160213364, 2470172.3414992043, 2529156.7717723, 2556504.392910202, 2433259.916942148, 2226001.156075227, 2426481.6843942017, 2533052.8548043338, 2508332.3412426687, 2501854.0035225446, 2509965.564372022, 2531417.2397688096, 2392072.335547243, 2539088.9149577534, 2539305.160411995, 2536880.947772113, 2539171.248195445, 2534623.808175247, 2348184.144118647, 2515435.8079954395, 2496724.553303285, 2438718.095243886, 2387190.462573453, 2339214.3514084304, 2415281.5749151297, 2516594.1995063834, 2535681.6117198123, 2524213.4287416707, 2436753.9318133765, 2536386.805219754, 2538830.837427323, 2509928.3627135493, 2454309.1750047985, 2539121.918611479, 2530800.3243894796, 2285567.241209278, 2516781.70867282, 2533540.7016664688, 2413266.5022899676, 2530876.4753973708, 2283672.3142984267, 2521203.525712276, 2525170.8741360893, 2501933.1462250114, 2536400.933368072, 2569309.321355992, 2360093.006917922, 2498030.034132914, 2378772.2043619077, 2539036.483773912, 2363490.030438252, 2355413.1116410634, 2424516.761819016, 2532621.602815053, 2506423.245595466, 2344579.576505486, 2533100.27254162, 2436519.5451240526, 2224070.7982762177, 2330135.2334976085, 2484288.7519524046, 2472525.1439679423, 2537954.214897271, 2532842.751082566, 2256191.3416682365, 2538862.029114634, 2464997.6400422077, 2524022.8365065833, 2457994.163517292, 2456691.6608662056, 2539072.663192166, 2538593.443510264, 2538032.9890088052, 2225704.203405456, 2539050.355344637, 2386765.1650821203, 2532615.41413147, 2292399.302729959, 2538005.5560689773, 2429867.335496851, 2329741.474931716, 2539040.649416953, 2532842.211203285, 2459935.1257480243, 2515442.041058659, 2482315.779958019, 2523134.5687760264, 2533766.821379015, 2459127.1445619534, 2538362.5614664853, 2470865.477880253, 2485650.243410769, 2519935.391669373, 2385455.366650651, 2571652.8111674828, 2506433.9527232796, 2121433.023855659, 2486366.8172597527, 2311420.884515648, 2496387.144748393, 2498761.2216616813, 2507440.2837195024, 2369775.17810119, 2539280.6348122945, 2538943.143775365, 2272294.933257743, 2539137.5036448557, 2341092.834470092, 2530133.1367587647, 2493670.857932482, 2511326.4585363464, 2539361.403083486, 2241078.507243404, 2529808.3638546495, 2488011.267937626, 2425330.4001343427, 2508748.8578524427, 2502508.751598688, 2371905.3848014893, 2539307.1251169764, 2535282.408979991, 2418884.72015144, 2530362.638549399, 2526645.956942275, 2495052.26965719, 2227874.846485089, 2520126.1600698535, 2412758.993735369, 2493152.731467978, 2515827.9760379656, 2232543.7189443833, 2235563.0096142064, 2538502.151968849, 2472251.9289399004, 2699179.5038929284, 2538334.2297248063, 2533878.6638250723, 2445046.54779045, 2321028.730308609, 2537592.79003116, 2536063.2414493533, 2195071.641646187, 2537568.6639584913, 2536937.155118385, 2509340.439871966, 2537892.1179868006, 2539364.937638459, 2525009.6394448346, 2472431.0159509513, 2482927.110383561, 2477717.8702131235, 2538257.514051753, 2512896.7056174744, 2480166.4396587997, 2484154.9333111746, 2535134.4848619234, 2502551.394928465, 2535204.0591063006, 2442739.3881651014, 2426398.9112196118, 2433954.764236897, 2496887.017773941, 2401052.2030670578, 2410374.4474700172, 2506492.6888448303, 2530407.6064528464, 2502615.1997407773, 2387491.3120482326, 2517538.470878643, 2532506.247319041, 2398621.4518736694, 2411235.428455517, 2539182.6348182154, 2504720.675672392, 2539343.2087202067, 2520373.5812703366, 2539122.347162982, 2386604.867274343, 2520471.7879923563, 2505667.8785747257, 2346137.153639376, 2251720.8012498333, 2539211.6343374383, 2492255.4020324927, 2389255.9492976675, 2514780.894938077, 2529876.1585866422, 2465469.3377653863, 2271644.164665009, 2408913.8804675876, 2514911.194960279, 2534202.2908383003, 2538544.4291457073, 2363778.9347362034, 2368409.2849193304, 2538028.602204934, 2524607.2492807596, 2539123.9200771614, 2507629.3323793905, 2534062.834016135, 2529534.685965765, 2538421.892386921, 2538035.3956815912, 2234234.920343174, 2439218.494280553, 2533900.638358556, 2527636.4124960736, 2389597.2322261278, 2285155.7031106157, 2526749.8643486816, 2535710.1197755155, 2446573.377678541, 2538870.264100089, 2490051.0934868273, 2414482.6003033626, 2521917.58786385, 2497494.5350946565, 2390737.829044129, 2342672.531654371, 2451864.4834882678, 2529587.124705978, 2409299.521056154, 2537263.9145228365, 2539355.5242703925, 2537946.304796629, 2525097.7099466436, 2539360.0794145926, 2538825.297544375, 2539358.6083074138, 2535848.9699478033, 2259142.97879367, 2525961.13445287, 2467873.812407137, 2330443.8703954215, 2496427.006235695, 2475961.761276708, 2520101.399390229, 2533311.693516965, 2520515.7927528876, 2521953.727966518, 2531394.0460005347, 2374155.261449166, 2537127.8039706545, 2524722.757344504, 2324667.0933592697, 2517927.9660014766, 2515959.510593276, 2446587.558208724, 2536511.0252991077, 2521917.235211912, 2533091.6804268677, 2523825.3620307907, 2506337.878120548, 2376554.6274522454, 2510614.2479487383, 2439922.184631381, 2337780.8435824937, 2538822.238001998, 2537011.2208210654, 2260199.6851172936, 2512813.672118083, 2534067.8865427175, 2532192.375310871, 2533210.3916756706, 2523524.9698436125, 2423179.275330532, 2376279.4314475907, 2535945.310403245, 2536757.2201617914, 2523451.0002687275, 2530855.1047461517, 2512084.596787524, 2339279.433242656, 2495524.874679353, 2531950.245529209, 2506409.008942767, 2464949.2202765956, 2533232.4510371517, 2474635.9574472965, 2457925.419313317, 2535060.5344481887, 2486733.3272914593, 2532928.7087762947, 2533905.482694754, 2363944.5191011657, 2477456.1764765074, 2516146.2057458526, 2358776.778253921, 2372592.7882621544, 2285841.4719895744, 2522960.947547923, 2523065.746063963, 2513196.779041153, 2526577.9530161144, 2793478.8903543605, 2537106.508448064, 2509341.750532402, 2366567.175776497, 2489176.6693008295, 2438821.4532958413, 2414257.951971739, 2494801.9134053546, 2516681.244286817, 2429725.705233718, 2493813.435120987, 2401408.5259215785, 2523334.210898, 2465331.6947378465, 2514989.5965431584, 2528305.810686122, 2536447.7400088976, 1776702.3647689046, 2537329.916632119, 2446078.1411909666, 2534778.0523581924, 2491107.5590040055, 2476408.291617096, 2536207.4809602043, 2523075.482586748, 2534076.4833602775, 2522069.4740871866, 2535741.0237182756, 2537653.234596646, 2311464.823277267, 2539292.3491061586, 2397416.4799473346, 2287209.836078175, 2517439.3100602403, 2525979.849402124, 2448203.9508247413, 2537670.3971496914, 2314432.862256863, 2486178.961693165, 2463994.0880388375, 2518237.0289511713, 2534085.5819726237, 2392203.3363452298, 2538961.040927208, 2524865.1894141496, 2296111.236732823, 2318835.7945339265, 2520457.0539332214, 2504770.7144863615, 2514251.833033302, 2519459.205139769, 2532261.404555219, 2535311.6252116407, 2370280.7684750105, 2356491.6456785644, 2374187.4462448265, 2534397.5526369996, 2525298.561453539, 2483398.655248271, 2645567.9279390723, 2231977.7501366767, 2425293.422101661, 2467668.932839595, 2486016.5540702622, 2523506.0426602657, 2496261.5201683333, 2532501.1123557533, 2450864.846377076, 2420098.0638840552, 2538462.5085542244, 2260123.014230888, 2536978.6576188575, 2526926.254085519, 2510899.535469617, 2507777.640870702, 2458764.654087571, 2338036.1141364076, 2504376.871431692, 2331152.575990528, 2525238.102472919, 2377888.537580368, 2439006.021335957, 2537128.650411429, 2539165.749953334, 2458770.3327206005, 2534293.561499012, 2528795.9770632326, 2516223.2015718194, 2538983.873007446, 2519897.1761613116, 2292308.1850121943, 2495645.4670114564, 2419253.6795459785, 2527743.845734372, 2465824.8497166387, 2509402.943407697, 2410937.463398291, 2509113.2388822916, 2537452.1162640536, 2503768.7294134395, 2525546.364299503, 2521589.3612399097, 2538036.434726176, 2528501.7293152898, 2504229.171782689, 2535008.4874515184, 2539314.031840148, 2361346.7236827677, 2515379.777821976, 2535488.454719861, 2537064.5831505796, 2531736.188342463, 2536669.9172462095, 2538605.5908491313, 2527138.170644577, 2534411.0558508956, 2491756.64935404, 2535721.81799377, 3030971.6949941963, 2536835.0673047295, 3292870.2158016562, 2238619.3785733837, 2538088.7126762583, 2538445.5092043336, 2358696.3895778055, 2445323.8567953096, 2519550.000311543, 2477113.8313636286, 2258633.940796208, 2521103.978804897, 2537343.9760172265, 2506078.467507576, 2528304.373738865, 2393330.809160306, 2513785.8807534706, 2518962.9608147335, 2308460.351607313, 2501627.672667833, 2440551.8523998074, 2535858.5808275416, 2523278.8302158476, 2499090.425130429, 2514048.3901280523, 2532171.0664276294, 2539362.497986544, 2393863.741109643, 2385245.7804656974, 2530694.342257026, 2485571.316090995, 2294309.4080797266, 2537966.328135176, 2538256.8364362656, 2261594.5245040264, 2532405.458579672, 2538865.4736218266, 2536649.5906605166, 2539362.644538825, 2297770.821298779, 2535596.2218588456, 2497165.1003678045, 2477266.1704696594, 2536978.529398971, 2513938.9551159535, 2447944.998819357, 2522202.229450296, 2513785.3840406304, 2536145.6558348797, 2538550.02439155, 2527837.5978428214, 2528292.052101315, 2537785.4625219265]  # Truncate for embedding
baseline = 2382835.07139
mean = 2473129.558399626
std = 100305.37363818327
p5 = 2275006.4840840097
p50 = 2511414.451245957
p95 = 2539217.384642932
display_name = "Treaty ROI - Innovation Acceleration (Optimistic)"
units = "ratio"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('mc-distribution-treaty_roi_innovation_acceleration.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 2.383e+06 |
| Mean (expected value) | 2.473e+06 |
| Median (50th percentile) | 2.511e+06 |
| Standard Deviation | 1.003e+05 |
| 90% Confidence Interval | [2.275e+06, 2.539e+06] |

*The histogram shows the distribution of Treaty ROI - Innovation Acceleration (Optimistic) across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
