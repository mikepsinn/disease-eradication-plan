```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: 1% treaty ROI at 7% Discount Rate"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)

setup_chart_style()

# Monte Carlo samples
samples = [335.04135923811776, 306.44872129970054, 311.270529014863, 321.7744815022095, 379.72187567503954, 341.14037860263437, 322.2229672754772, 310.95290362905104, 320.0401233560483, 402.99534331861236, 394.23185986413836, 313.0730735210093, 360.57410382526444, 383.74307040158743, 338.6216506628077, 408.48245815539804, 330.31591975305116, 339.25899618765476, 323.56587848533843, 376.23709008189405, 366.1830388576922, 403.1194450836545, 298.99332459988426, 395.54419046398635, 353.4041894857654, 390.89232360627, 362.26152439026947, 290.7044306055954, 378.9032668106753, 340.76776467246225, 378.5836488996362, 346.36373314975845, 437.57470316752494, 341.7364693056609, 284.0984840613935, 373.74181251482906, 311.6548383505558, 320.6198315945177, 432.05596695909827, 334.8726360170754, 353.51918209500286, 380.1585238836505, 409.09062163603386, 343.9369420225973, 263.5851629165528, 306.94590049060247, 309.7181376736387, 402.12571707399627, 402.2797016383249, 297.39696874183926, 338.357832101486, 411.22410235295246, 395.0414168495797, 392.7739231296266, 395.248634970958, 395.5229551956723, 349.71580056658644, 255.97508567424677, 400.7668663259542, 365.3823122463956, 355.80719248802745, 461.4206165666084, 232.6911205490021, 227.41541425138175, 277.28652213546184, 316.4067187304733, 368.40167883506234, 359.85247885224265, 338.8758918370769, 339.8168394402844, 468.96324774182784, 353.74882844754234, 364.5777800238634, 299.9988346593397, 351.42709292010727, 390.50426848075807, 438.17230055160405, 378.1248985809475, 349.8174670452733, 345.10488816042624, 371.97108879666143, 342.363454326091, 388.40563273625554, 366.3497580454863, 402.98346479289955, 396.77011419910934, 315.30697833529604, 365.56363718122435, 425.5233025105147, 319.14866340647154, 341.2220496482595, 357.4370728208473, 349.0705879313233, 277.2334357244585, 339.19163971949973, 409.8865280663443, 536.5880846142968, 321.7928232514726, 331.07576620446076, 447.5081889079438, 352.2768734026104, 322.97923575822284, 334.5359064627879, 334.5138066255759, 453.95647676804447, 256.88007620853966, 342.7951532322805, 341.64643258815306, 357.5897995923388, 338.624232149636, 334.04764054450214, 317.35108192037836, 375.32675753144576, 373.6880520917963, 309.9125572079012, 410.18784970945217, 406.99299903518903, 378.8574243782183, 376.1654223374322, 333.6489758708799, 407.5496992249028, 323.1050572139982, 383.66930457943124, 328.1800885119441, 359.07969231767214, 300.9049525617105, 361.26961662169964, 443.7923049525545, 258.99933462721975, 466.1593817285747, 458.53200018318944, 329.7363457830326, 344.6196970637686, 423.16110834725845, 391.8168706196398, 421.6136015877458, 351.4507346719078, 302.5426594130056, 286.46117580440267, 321.2928759021418, 330.6805326023728, 384.3250115089482, 414.77025843344865, 325.0368416647812, 372.50014617024436, 401.2316361977612, 440.629631455262, 362.0386203170312, 377.2774054414379, 278.97354125418553, 422.7882880686093, 434.82831336635286, 477.34546668805734, 341.26063256124706, 348.7913010295394, 368.960477154573, 433.1937759755044, 345.6904318931594, 317.5194545069992, 380.10585368841714, 373.76806393466893, 396.96899590992706, 361.39169630952733, 372.6978020551912, 401.12838147403335, 456.834567244439, 392.35912954990823, 296.8470583862449, 393.3268721098396, 290.57204127242727, 343.447483380576, 396.2597446872505, 324.0954663565316, 333.0812087923939, 453.8421813611789, 338.8370983027735, 284.0704281697878, 327.3222975141527, 416.9450458740798, 299.7374956670663, 388.5109329109752, 412.96968554459016, 359.41905084584425, 304.1974087788251, 305.25609026742586, 388.5023032073547, 312.32004862604435, 330.33090044465644, 400.77218980038737, 388.3577231750261, 374.21049643710927, 307.9860342641255, 352.7786332646903, 242.8394068130118, 329.3473602793915, 395.4733037811445, 348.6854274459764, 268.7105044549702, 364.2158867394816, 321.10994830679687, 292.5401169194488, 322.26125422305734, 342.4716145424723, 414.28444527044144, 391.59465540970615, 318.04304766540554, 424.64299219843224, 383.12188459689355, 409.19347081557805, 341.9216719982673, 356.32252331396523, 319.31916747340097, 380.8127967038709, 354.890802104808, 296.0965247032388, 336.55277019892327, 257.88803727582655, 314.1889254009032, 380.0516517527997, 454.29582083272095, 330.2448768763795, 372.4712625230475, 323.8869741254949, 477.3668620462583, 356.97341104060916, 394.5538122259795, 242.61990688574812, 260.39178927112215, 374.3300526397425, 324.8312048867473, 413.09012131387743, 357.1726515748102, 375.2851043096344, 315.40369882051186, 376.84155491205587, 357.62593565639077, 390.5282873474237, 352.3261790498283, 411.8778224000846, 299.0453754479845, 368.89648977057016, 357.047230612843, 480.3166420969156, 437.0304469477482, 293.4552680747331, 479.2619869632074, 391.92057560683116, 347.88236326520394, 342.2948169070732, 474.61990202293487, 373.0257467272323, 405.93365805620255, 282.8532754372476, 443.90707643149995, 382.7997754195337, 348.762523790342, 325.0459025182041, 432.4940846890904, 378.30284734563605, 405.5564509112405, 359.84616545088016, 365.5765112459437, 313.7670373048616, 371.0597420104907, 350.23251896546515, 281.8593441635073, 344.8857865687709, 357.45037514245325, 404.8729201578344, 357.24100639541695, 384.91446302871645, 362.9263315378127, 410.2199612673491, 327.2387199123055, 373.5916460656687, 341.00256925855604, 429.0360023385963, 428.24395236772153, 371.27690997839255, 332.0947781646283, 363.3558287818742, 394.1939245149002, 284.5400410188844, 344.2369180692849, 400.0882863455016, 333.6250481478008, 350.92639590565574, 423.758042355595, 310.878401810223, 398.1218276516682, 444.1260714861906, 313.0349342262591, 281.13318858599985, 444.9773757611205, 319.19028948144177, 316.11613490500565, 326.7995442584504, 434.11445329856247, 364.1808525509613, 290.4155625485448, 303.9681434135459, 469.4826255949282, 351.05670165380354, 372.5164667770022, 447.63091240757683, 361.93332872803455, 384.0424307859968, 290.05107958282514, 349.4955658451779, 344.3220815915225, 329.3755540875378, 353.4711725850955, 282.8486125869948, 306.25802386746517, 294.3824584685425, 445.84516344706446, 334.89573364187424, 364.26340813977384, 367.65098808971675, 364.9940521797499, 319.40743600734544, 349.78634132706736, 330.5430443630596, 369.73415163997237, 270.79231950293456, 403.297747655928, 416.0036300725821, 330.8203752955497, 450.3569050320953, 419.5045021454703, 357.019974018641, 444.46096793090146, 426.1015276792654, 395.4293605512962, 399.71634120945566, 447.7351836691187, 286.4827478667073, 273.35910764722087, 287.6064667810343, 376.36607342000576, 367.9642647374205, 264.4430490561047, 333.7337768835531, 352.66869511339263, 346.94073051767293, 350.87107728569214, 386.8696046112166, 352.7992074686115, 486.3207065518552, 327.1245016663293, 484.457078438967, 328.04048022614, 364.327828631572, 366.2602799857266, 389.27405817164674, 313.89005272433184, 312.82129096779454, 353.932151161346, 408.24435997564825, 299.77316660906234, 367.85011096755744, 418.37510042392347, 337.56362085753517, 409.93622260608356, 460.8866067088947, 342.96101728889795, 412.2447842373322, 447.0027629409027, 380.2378778891135, 329.75973982924427, 391.48599812727383, 337.27667463140006, 349.61289164663356, 440.8423611607907, 385.408136828712, 337.17605119222975, 399.4022421269376, 337.23168912826, 350.43442243355884, 369.28655756040905, 334.5314770229982, 320.53505673869785, 391.2753928787099, 481.20245785081545, 359.4080338339667, 281.2083576828648, 383.9039026532417, 352.9962137232722, 342.48261544003043, 279.7165915761898, 423.76224614877805, 373.8839038957908, 405.95413379830086, 353.68408893438806, 367.29900162278807, 395.53455652443637, 313.05429159281937, 304.4473345735299, 384.13771101294697, 396.3242411166398, 379.28503635393173, 268.62757086702413, 367.72481256615606, 326.2112765048062, 385.617861195403, 446.9971167915559, 395.50220494719883, 332.28671959405574, 379.4722051025295, 350.24737822789416, 355.2183090630634, 375.6997898910775, 437.3762189755419, 305.33971530113257, 401.40990627587195, 382.2954181441311, 286.9823957152425, 334.98204636167657, 382.97373706047364, 314.013464717834, 428.383147028707, 409.29554636355385, 383.6232044017677, 407.46109298992246, 437.1790021426962, 330.8921067128992, 333.77931829681125, 327.9127016137858, 405.4822384424969, 289.710902690909, 407.22873613403766, 215.43529852876213, 373.34893823546895, 316.85748824719815, 354.3841121821236, 373.56044263384774, 427.2860957188176, 363.22440969685465, 422.7372902528253, 379.9734886861347, 318.03748748852064, 329.97772657356023, 329.7019253503717, 323.5319178187459, 314.738642739709, 425.45863506168087, 302.29136809887547, 305.8459721342905, 318.20397144381604, 388.92584954558663, 320.41020534419414, 382.9535137152213, 391.16966561924613, 335.3556421085353, 355.35114836918353, 361.99835853013843, 356.44794128539235, 307.78297368965366, 442.49436868239354, 371.9289894705221, 385.7919863611559, 381.3577293875195, 367.2201280799602, 381.1129867406869, 395.97640968825766, 390.0146923709401, 415.72516803305814, 283.03707678684486, 342.6883562443797, 427.90031678962447, 425.16624785663316, 296.282419525967, 346.37464403403936, 377.59006742590395, 363.12944212663683, 475.4515550067618, 369.09601665880723, 387.6343996568806, 399.4122618126805, 259.2521456646526, 400.5266712281307, 357.0285234086039, 310.4448948296653, 339.97819489595327, 362.83938690961776, 442.4468733974192, 372.5433549768117, 339.87012175687164, 416.46113822827914, 331.354818526998, 318.9271308199514, 423.47033953265117, 330.99080439345335, 396.8288952754755, 376.87499867257736, 314.04183081654895, 386.15115556378566, 383.4463789134736, 434.93953411834684, 425.81762463143383, 316.3238668626721, 325.19969140321047, 391.1794025139245, 324.9686667034753, 411.20021874754013, 297.3409140874864, 281.1263488213001, 415.49614598950365, 333.9537323412289, 339.65838612208177, 355.16533405999536, 339.01129679371326, 395.4025057970973, 358.86267778688034, 302.7764985113952, 369.34345520415764, 384.4198984376343, 321.9925063593218, 338.18818262668583, 392.12928258302617, 384.749429532058, 317.31048771182617, 287.8537316408657, 389.5653300900872, 260.09383177898525, 442.68327699954585, 368.97391223149833, 388.03115420727386, 323.22749887011605, 320.8109819749043, 455.68319091800254, 414.1806606434839, 313.10305232051724, 307.3873744340641, 411.3324305700241, 336.1903366432906, 415.9780177395816, 266.6493489179888, 402.3897040913177, 391.03331818619966, 397.16450769804095, 289.0367434210486, 357.73242529789167, 350.5867569317915, 326.37669207312973, 349.12177032457373, 294.4719240842997, 312.61363438059874, 342.9457980317273, 320.5836437388415, 343.14699743248565, 462.2371260940372, 294.5966673993544, 341.27928316695693, 319.06780131987915, 365.0078372475015, 353.24748779223773, 434.9081105195112, 381.9043696247535, 451.6849734111121, 380.00835518718753, 348.3239126336096, 313.3020576420443, 429.19709843500095, 322.83829071447576, 366.0033835248861, 445.5959251313847, 444.9328061921, 374.81354338641614, 340.67290787990726, 367.5242102410092, 271.0248200043259, 345.7953808212857, 298.0194277926453, 367.4521453851505, 365.7844093139667, 328.4451218449795, 319.9153880025085, 379.13476413835224, 348.5325154342112, 492.5854672926684, 473.3447373384979, 315.07593322939687, 398.7717348543863, 364.6855447014415, 242.7936460685451, 361.925306153329, 370.7532093700458, 385.5500500540718, 340.7716931129632, 441.6801762018581, 461.8910331036796, 342.09726301801726, 428.0898579974507, 431.29347100519567, 332.7077798931859, 431.31841336236664, 375.835713035137, 357.7634965943261, 409.816348230041, 358.0762253485278, 415.66924296604367, 395.7147854749597, 477.06985014626656, 343.69285631272714, 349.75150722144303, 315.3840794436698, 308.2983864535281, 340.2908626586449, 255.0443807410212, 334.852177631688, 243.16089021782514, 325.83146439390333, 395.06449981666196, 348.7828008241357, 319.28773189326586, 372.26735818819196, 388.03580776597863, 415.4447593119017, 350.1509165417274, 463.09328882581497, 318.000537392729, 340.98982742067375, 409.59314403841915, 384.38082907474177, 273.2553506782023, 416.6798151753441, 318.08070829258253, 420.84176998484577, 392.6968222914125, 352.9524304786192, 276.3397141801501, 359.7356917464619, 419.15610188829424, 336.4068157005492, 367.0457526687471, 386.0667665268873, 314.7033412951949, 307.35803844729367, 370.78138913125053, 420.6178650060158, 268.219009979233, 297.4009200547216, 275.9163628282552, 384.6231393054257, 299.53424568156646, 322.46329258029874, 343.7582249722418, 307.21867304840436, 360.400113779536, 308.158399760453, 285.37365968600017, 334.98783255306483, 370.67274309996935, 298.01726777130233, 397.3284165594941, 353.19210367676243, 388.8156961442483, 305.9023926382738, 292.1472971136105, 410.61627749261055, 334.68338631433863, 347.6034132023897, 312.985987059251, 390.1035176469659, 357.6919269903486, 411.86344122780247, 372.8325999717925, 381.5882002343371, 536.346325360119, 329.6793051918968, 304.32428262233304, 400.79484456095616, 403.9317628264585, 274.0239317778626, 351.46471469685144, 308.7022726273595, 361.3114288533736, 358.95739505373564, 328.6152153951854, 296.9084914999749, 373.2832233547361, 259.0356469817863, 467.12079266656167, 340.04661244613175, 326.2518474909424, 376.8009261832517, 352.3578712897464, 360.76850461616164, 368.1558400628895, 346.645963036571, 310.497775117124, 409.0488408728811, 447.36073949839715, 415.96999778675604, 422.3645401209, 372.1702273044965, 292.7648899973229, 298.1895760084386, 367.32453063196016, 252.59531082247602, 381.2626995653178, 323.10083729525275, 362.5580232769001, 320.82779870630003, 339.72958913929455, 393.00722835537255, 403.4507964902048, 431.821398365171, 307.4525157677625, 356.6087215002702, 337.52395548562924, 429.89639677269514, 293.98545425535855, 406.48479503550334, 354.7538210898953, 402.1729212500968, 350.49817002330576, 350.0051512347096, 367.33533960058395, 317.3336989561479, 360.8343105765488, 313.624733654285, 296.7736860926289, 422.9405429008701, 333.7558525809074, 319.43878521497516, 330.6703768957789, 390.88298091239284, 358.2691726968818, 363.72965040524247, 331.7469319897348, 314.0474899520442, 361.5536244639993, 309.5929383328989, 222.07087669767589, 363.7747700193086, 364.02544468072944, 419.9736681854567, 349.2462506139908, 449.5610194873769, 391.4247695404213, 434.747933201293, 393.77794993750524, 366.47433733972787, 393.0105193841138, 324.515906354034, 293.08714430827695, 321.3746137518316, 410.5315649059105, 351.07462462307655, 357.5846018766669, 385.697889137404, 232.1110066228134, 320.32946495259023, 308.89428766487936, 278.98537477606897, 304.82556453513837, 304.9030605363033, 355.1351533150525, 312.570730738203, 291.33708028257917, 230.25535314646814, 316.194950670464, 294.60310903689356, 408.62973418971677, 372.8306034793104, 371.72056888138303, 384.6193830038584, 292.503063110342, 290.5272674490031, 303.61129113740105, 333.4676882273425, 329.41964246312676, 397.99954878194853, 333.71919031605006, 417.07089136272174, 414.380145549752, 314.20526260337186, 323.4296937675657, 361.5587523983303, 341.64570796766725, 346.6569232158756, 364.74296718975216, 387.30365609906585, 363.33652761684044, 383.884098082517, 312.4920200756191, 383.3754545969024, 361.3379496498989, 373.33151550624, 311.1275413042058, 315.0120036554115, 343.09939282245824, 388.09263996473345, 332.9696758113291, 316.4552554914537, 293.35492726948763, 341.78202872532256, 374.8262444644531, 399.45995596095895, 312.95585943136314, 409.19784180498385, 409.36390057390236, 346.25776040050215, 341.72533547790397, 399.89789807075573, 333.41233104269264, 411.0441630076662, 378.98100784454186, 394.0846317705728, 346.7519153447213, 378.43931281251054, 323.34351200691776, 415.64157953249986, 256.2761018657414, 376.6230462730254, 411.1858997766307, 313.49329178225304, 446.1458216826107, 375.9525919867935, 340.25664090818026, 452.53246965120434, 296.8722627895562, 416.4963219521986, 338.9251877718651, 381.16838611273005, 298.7628429926259, 312.478474396134, 389.3332180140177, 304.41994719592896, 317.9229315324129, 377.46409900746465, 398.8357471759124, 368.92778057445946, 341.31313368994313, 340.88628867404367, 280.47200103292147, 283.10672457636997, 371.81130501257303, 306.1009590474793, 351.4965946774205, 378.1841765149238, 357.9557810776563, 339.76006458858313, 304.38628883138387, 366.32042917157713, 404.6129016251313, 364.7345216096256, 346.8615160186544, 383.8248740339255, 316.8518212394586, 383.4779799607603, 305.23879366315504, 347.84623087070526, 339.0564728908886, 304.03523782116366, 378.85042599369893, 439.04134259192244, 270.07920099838174, 351.2684094804987, 419.6659658580254, 399.17053555512064, 353.4792348857559, 338.73811065858706, 403.83772726654684, 510.5593518371261, 399.3579467573848, 358.0209925387157, 415.9579380526382, 397.0339098601305, 420.6171264440868, 352.32483326792516, 369.7360883825218, 453.61223274956313, 367.2990694852583, 451.61077274940146, 440.6633868168293, 250.87376271528814, 309.70513979301353, 355.0595515984478, 374.6656672668085, 326.3301282130803, 428.5763021711375, 353.53498148350235, 360.1615977851333, 327.9062935340033, 333.7696593878701, 406.5212094358633, 384.27677880651953, 331.61262927063746, 267.5826337517259, 392.91977646352524, 357.5736425594018, 374.9680774338115, 277.2279764485053, 372.526506101153, 381.47267112748546, 319.96540787024816, 467.81360932995267, 366.57247714969327, 346.37869713222324, 373.1715092034471, 255.72044084058135, 261.8326709208111, 252.52597810941916, 386.8652173279541, 419.17293056952667, 446.5240638040762, 351.50431050838625, 396.0461797384041, 392.1874830348559, 332.99318191969843, 347.7537257774184, 319.092100162911, 279.2913859576496, 405.1638819384181, 326.796624313808, 360.17419969884673, 496.88372882704385, 437.9220352679012, 338.4438615846188, 346.74275371005103, 382.69212635997275, 419.3894665635849, 315.54874121017247, 343.12926318873224, 334.104951944084, 237.3949305767232, 371.2337003261368, 388.7929902683907, 340.4411267950754, 370.09190781744786, 301.3510133911298, 383.9661092175715, 338.39546849624463, 356.65334542606337, 327.7719049053101, 363.24503911791936, 340.49793464723456, 344.4893200958391, 356.8703622849038, 330.4627506478598, 330.0964609458848, 411.08366343900326, 318.67401537385143, 308.5173343612142, 458.711741644008, 386.3199337241574, 372.2424528037028, 372.81480561149647, 314.89009804299536, 386.9959333404107, 363.24422185907576, 344.6802290208032, 363.7379634711003, 300.8401359621339, 304.2612969491126, 286.8460459711381, 313.4466650915502, 287.621646742695, 257.8788739526545, 406.2633469071789, 364.90651190602733, 306.6640135062758, 426.78308325173924, 324.0356683626682, 416.9291335272741, 287.0872523478204, 384.26182930616625, 305.93154329830475, 364.7506595173985, 359.2509239174763, 294.68235810224, 354.4365582247138, 381.4912819593715, 263.77958869094545, 376.35311938043895, 422.5273393508745, 322.58875950326717, 311.78686254443244, 436.67192196787147, 361.0158049054268, 326.63711727054493, 243.0013954372875, 330.6884400522282, 303.6246972023676, 363.6874683259379, 480.4942304679361, 382.358757516843, 357.2221872874933, 315.3715577358298, 294.2649814451481, 315.6189325065938, 350.52448025926327, 402.10036105207814, 307.1537893453381, 395.544590932536, 331.1740525927039, 361.2694358212093, 296.060379030375, 400.223180586611, 353.2443782427338, 282.9966140819512, 323.89928254796723, 360.823621459819, 354.60422291671983, 289.0811695780106, 356.32621755799994, 334.64292222562466, 355.39801573088846, 290.09768758275675, 386.88601555762045, 387.5716896294419, 338.34835830249745, 364.00463817226495, 338.5944548624561, 346.83336101675667, 303.4492114654782, 255.577459916514, 322.5375938337648, 379.1188587224283, 346.6795285530841, 356.1428783348128, 380.2562153287407, 376.4771947682986, 360.3109883668956, 330.94571284415554, 354.3814947985011, 379.0906565514689, 284.220466731335, 321.8454966154443, 355.4774390863273, 434.3277442615203, 369.4523327708955, 352.18779313036424, 319.34468070556056, 239.68756086120752, 373.9903357028052, 280.8526985492382, 378.1807305042793, 279.81166234997863, 376.46852676541374, 374.45525083163443, 293.72076973848584, 347.02302041625023, 375.4870277227819, 227.40085279631828, 271.2575410119281, 336.41973614043206, 417.59328186134167, 361.8953972636198, 397.29556227894807, 304.3962345711082, 382.79894170784394, 355.1968387931858, 284.9281901977164, 370.05757285071655, 391.76956842877087, 340.103729121009, 293.48469381401634, 206.26652977672322, 329.9112457867037, 310.0159402694542, 366.077765925155, 342.3972462458431, 333.3819508853763, 310.68533322596045, 269.58595997911, 287.73622752701147, 370.4035947442178, 426.38552650299755, 318.8951474310537, 428.3664010795359, 353.4611023552752, 383.54816376590327, 359.5086050650681, 313.16167706468667, 305.7723592501709, 272.4274478341544, 338.76165693472467, 303.30148143219003, 383.41697856903613, 335.2737714467607, 367.802927807917, 377.7105041849462, 464.7292928511225, 368.9452322621751, 338.1883838378737, 372.36655364028167, 349.73874605939574, 348.05941486500603, 318.4872251060485, 366.44804337482867, 382.20250931667414, 339.7817835524283, 383.04082394014335, 359.67839923401584, 292.99351704797306, 318.2907480321346, 273.2361047476431, 316.40970986126337, 402.8845620390676, 361.92066933852334, 368.10944579040125, 414.0303432062517, 309.29051573320396, 368.0087904531443, 367.9322749110612, 375.7866231754465, 284.21589274490447, 329.880261267049, 363.79543266085125, 346.0519260797018, 374.41435744963684, 310.5014958827732, 306.7021276671236, 350.11847029575523, 359.1263752334887, 361.26990419189184, 324.909767828012, 413.9881087036638, 331.98736608767047, 324.60772278502117, 369.2047800460751, 300.46206115747, 301.38730707364425, 377.51862886563754, 390.310308679723, 387.7751600284236, 391.24932024040083, 332.6016644993541, 364.21132070511624, 336.59492404220686, 380.2527533407239, 338.8522415942293, 296.8194231165127, 364.1889972747226, 441.1503149555681, 381.0214767361098, 267.661852538574, 450.3382778846636, 411.51302367480685, 413.8206529608302, 317.42762827354323, 396.9292941452844, 346.825019419326, 379.3655205269417, 301.195787762725, 318.34096836396634, 405.06285727533754, 373.8633194230968, 354.1119573090264, 364.21189948069065, 219.56422150399865, 327.008208381982, 333.2676911996719, 308.8336618208813, 373.033287707339, 364.0912323846065, 329.56644137090734, 423.9870679896692, 346.3778359172109, 342.5126490326394, 363.6085419021142, 341.3992687408365, 243.0070695208627, 250.46835847336249, 312.67806584027056, 336.3270480373873, 371.9241495365484, 420.71932125431084, 359.86857026005964, 365.40130411965566, 338.44786133453414, 394.89923645122724, 334.28845757487704, 340.6513641888956, 380.42466774125944, 357.1168729067156, 393.1163459579972, 314.2228951480645, 385.87010724228304, 382.7925986067777, 426.5288338976072, 415.65598821564424, 322.0129767349904, 359.5923576510262, 330.73069431830066, 446.6726411895381, 329.047761049396, 294.49645609035224, 417.49014593083126, 355.6329483403653, 229.69438808678004, 327.65627284155994, 404.54307258469964, 464.84773305983555, 274.9169586313512, 377.21427603281336, 357.13579091061575, 303.9403360335112, 308.30046964119447, 397.51133762946625, 368.42775223298787, 446.7299435094357, 314.0357010936245, 416.44701980018993, 364.48534799542074, 312.33240099106956, 394.14467522120697, 349.63712773632943, 253.44556803224052, 315.3795639854248, 361.6208469678925, 407.85422859280817, 489.53321337444146, 393.661049448573, 330.25372778552986, 356.18515559671096, 379.08614381766375, 275.69813250700076, 338.47385460169136, 351.4019222682638, 412.61373867729935, 294.562475315804, 389.02922974351395, 295.54271561603014, 383.31184418544893, 378.2449692407395, 421.9973991485631, 283.4052164343679, 392.7136948231051, 290.41313476535373, 382.1394584235677, 339.2420662106522, 368.4966863741392, 395.07374624885693, 295.356649677682, 392.88623208252733, 268.38532324626823, 426.38111694705515, 283.91961310930645, 467.90068502636404, 350.22687553323425, 408.2128388725201, 357.18263598803236, 365.44072037330744, 339.1940427888605, 408.03863584795084, 330.03661952379355, 360.37678816971703, 416.4417426406822, 380.93749372825187, 417.94296665368336, 403.0523826322083, 335.26282352337364, 320.0549654231032, 298.54045177775, 385.53267141693095, 323.30710054965226, 382.52514588435963, 304.40535272771837, 393.20586619093365, 367.5705635560043, 328.09301750796624, 346.1393624021428, 409.1116755189799, 353.81891410599235, 299.0078751082619, 382.21050249970426, 244.538050642149, 273.70967926604607, 394.1982930824606, 384.58087012733193, 390.3770412123233, 450.18008114189706, 306.3533825577034, 380.03079720349206, 350.10524061031225, 325.74439943688253, 460.1373203963712, 387.1459940293432, 356.1846903825824, 341.22978711669145, 314.54621089765686, 450.4771248271512, 298.38200243589955, 255.83174895942082, 397.98606905997053, 291.0671677620775, 339.3059984793547, 363.58092205206424, 335.05454137805026, 397.94923052273555, 351.4650316845403, 360.99985515773983, 414.4516803427141, 405.5209717092825, 415.41340893348143, 364.9469826776835, 276.552874856637, 293.3510034657771, 319.5633313530439, 361.6358972499691, 334.4690207769981, 418.9301957354893, 335.4021903938914, 307.60683878014345, 487.7620362075407, 364.31792173726996, 341.72727085512616, 409.85175798055536, 344.6385710076738, 408.47317202696274, 321.58059879493527, 328.3708091536793, 358.58026056142177, 436.4360628470074, 272.0652688326259, 466.19062096683007, 370.39635919700777, 357.98228296472416, 270.58271527619354, 332.28374680112825, 349.2955482921309, 370.244584659382, 377.15921595360334, 303.06291034797965, 347.3392383412401, 325.26234461119134, 436.0342113301726, 265.59503902806335, 396.7787723552943, 321.01585721707323, 346.57000833683657, 303.3710160631379, 282.5612385966635, 311.08739354514114, 389.89156816164524, 424.03316159645294, 330.47354098380583, 308.91917882229626, 319.0480510602986, 355.5666598834626, 231.84819907862862, 326.3233240869318, 421.9922903286865, 336.9252404433402, 368.4351113588638, 366.62551127047186, 348.99584403080155, 328.2193975139286, 299.06880662533564, 282.6420541662315, 347.3816762331512, 381.08999191996423, 374.3182450232624, 412.705470222349, 312.72561217535775, 322.8601102299101, 302.17494538238554, 450.50281085232945, 372.9386071285267, 334.38125768314745, 342.5464223082631, 330.6630743456816, 277.31640556445774, 310.59685286786527, 372.9895267098624, 420.7802718437684, 300.29862152507195, 318.58861395980784, 337.1930719972741, 341.900860029362, 335.7427191746197, 353.0474449741793, 338.6905234968821, 257.59132325949645, 267.18685358674765, 363.94559992196, 393.7798555065354, 360.96908130891205, 374.1267763017873, 372.6012797983027, 391.7804735846353, 332.97063415821174, 356.7749989805346, 436.0329115390552, 377.7141523623194, 419.86266976498854, 357.102817279163, 329.2346814613722, 323.231431228082, 473.59816630981294, 299.50333313249274, 345.7258326467529, 338.78697558614874, 363.59387388262707, 367.6250617758236, 366.3815472557854, 378.3586712444172, 382.95682410027575, 411.99971958205776, 375.9034775118686, 326.56712291135443, 282.33825314195224, 378.8572017553845, 402.3128339449111, 420.76219205174544, 389.6837643285348, 272.17129060823225, 468.48278999919955, 314.9998914596705, 299.1439232641378, 399.9585398434666, 270.21127980637027, 354.1335977590911, 319.56042740326177, 407.0477003422669, 390.02663227694916, 285.6086944236158, 382.87267941573475, 307.10989320340667, 439.702399651117, 276.76766954295067, 339.0044642439933, 300.9081765445754, 422.4493404194818, 275.1795543186091, 406.4606806892803, 308.183294396731, 400.29442910424245, 422.52181445625774, 347.40855828365625, 370.06833815158683, 301.864272769134, 385.90371366543917, 301.14148826654525, 295.78181078392834, 341.6539985043201, 375.10473252808487, 360.8150951429864, 263.8723825068637, 337.439552259962, 411.17770679392436, 278.80620537305253, 324.758522897414, 428.30062212822804, 483.63468228160133, 419.0956855691123, 416.2451989455852, 364.5606833569432, 446.473104138959, 288.5239854675613, 423.31023055385884, 273.89730089051005, 444.50979256056166, 319.1110745324935, 307.43378680044304, 260.8269302319352, 335.3512691340093, 410.4553534957246, 326.70087374374157, 277.389714314993, 373.9513843108964, 490.8229815103729, 349.6244274950689, 417.2181705327313, 315.4628425924728, 347.37365335881714, 324.7108901860213, 339.1804454960242, 287.7953946880387, 385.76225810475466, 372.66318847933513, 333.57673502486415, 372.77444685099715, 380.80720399722054, 304.46976649261717, 392.4610111070669, 332.07201460469395, 424.5333386704993, 352.8368698231928, 314.6529437953019, 376.60331413416725, 310.10548710044293, 396.42890251774816, 322.3084731186902, 335.46994397987856, 335.12745424644964, 339.1446321185824, 384.6269595055007, 320.9513483055675, 343.3476725245783, 418.8327504967575, 363.0968143434771, 409.8337665231693, 453.11690583757746, 362.1768870059827, 396.3173026137729, 354.7113321905313, 389.5220371856829, 331.3005679325153, 355.02563387056045, 327.46680307623444, 416.33822603590284, 321.37250149087663, 301.27653658229247, 322.7342592539106, 375.0781307696549, 394.58679203215286, 341.1561719726247, 483.58505702219594, 387.1141040633397, 271.6514358511991, 332.6285826326195, 324.7272213317422, 495.681123285873, 367.58378769672663, 302.09079330400306, 324.5635962683397, 399.2374373341564, 401.8722718103417, 341.8318973975934, 299.36666580815006, 327.97677975267186, 269.0000762560673, 314.1387055374924, 342.7534597688213, 358.32284764611336, 326.19684040111196, 323.44645632816037, 361.78318603218156, 267.3573494275253, 443.55589185659704, 280.0942554731561, 332.40882646695445, 473.89888672226834, 363.6477895648545, 330.91838824284997, 353.26189727718526, 334.29161767091745, 401.20751073271896, 298.3166799624666, 312.0229271007691, 385.4952835990078, 437.9909987953888, 269.5053265094344, 384.7864478551578, 379.4749975078561, 339.87504518056795, 431.7783242552282, 307.8802852017306, 424.65348773170626, 428.6740234268756, 394.0501470586197, 440.35102738565973, 295.39266893579963, 311.78500468533593, 390.16163431997217, 403.84691878990503, 458.7173211027638, 286.2570648205003, 276.7280606428182, 324.59989675903313, 428.44768310261134, 383.97713001281767, 387.80163356413516, 443.6267498890393, 309.76057712446527, 415.3149936754289, 354.9735207825441, 327.614129820515, 443.8208158055524, 390.4119271917146, 333.1821204424636, 333.5472393631647, 422.61935652877213, 398.1111878860671, 397.8950999218344, 424.8564103591076, 366.7723086158838, 372.1839267284997, 351.0207188631806, 384.60824456766665, 374.8178663290517, 353.66830716251604, 373.50798911245766, 365.64930418634765, 359.28213988395595, 415.03962724886503, 402.8922757481045, 298.37221823813593, 401.86499691011375, 427.8962182027559, 252.66010085478337, 365.77192591205727, 369.7415762235451, 400.37354844630414, 351.84475930424975, 296.1620940309755, 374.79183682172913, 318.8684353485232, 412.17915534370593, 372.28427361115286, 335.20182119853206, 301.2660165162339, 384.6957568054554, 367.9908916145423, 359.10219594934125, 385.199807674743, 342.31983691771177, 353.7538535193118, 398.08523219756, 352.66061238140037, 403.22311229667525, 469.17186539761786, 356.17534716536517, 306.5633261639712, 356.62606717971664, 389.6591073939088, 290.6509610393611, 347.87366031515495, 336.015501481527, 414.3811921034427, 355.6667102503674, 380.5453012345569, 329.9541634529674, 334.0575645934127, 366.2236364003194, 325.25174603339485, 312.7605925104697, 346.7431665181268, 365.58488130936223, 376.20884678316344, 379.48643739873796, 384.8382366649452, 420.5124034148475, 377.96809286921194, 398.7158459973457, 366.6517034476877, 328.3213404728712, 301.8263509611969, 377.11693975717066, 310.33764360040976, 383.161969630673, 328.7279373993983, 440.4527057630639, 319.35955421850946, 368.64900720095756, 305.789026886726, 390.66761862124696, 452.2715799651916, 329.6999369527769, 314.2874894675053, 333.8419916956489, 289.42364814523086, 350.9382282341457, 387.74352264858425, 294.2068620003558, 387.1929169599155, 370.08060505214877, 368.60218242014037, 395.0881815377805, 298.2614134277124, 319.84015122036396, 322.4094810453919, 393.59173485199375, 401.1866084316607, 365.99611058804567, 428.420050148375, 457.1202891560678, 293.14882894393776, 329.2363840922175, 343.6336061616652, 295.5786995067052, 319.50205211507085, 356.0509127279564, 328.16924057265976, 435.2472639504428, 389.28686278974544, 309.4738510485297, 289.1856537221923, 323.25737949951355, 482.05520157334104, 359.13208122057824, 352.11816985175255, 260.0136743377019, 314.6434927103902, 437.00236979717596, 358.09905474210814, 451.42260763987287, 343.3432514017079, 389.43775111767155, 364.56333634045853, 349.2677244146965, 296.894541303716, 444.5110520115355, 401.99886599410195, 456.1785752885186, 347.61121809645766, 379.92800256891815, 357.99935654690535, 423.1502456526119, 294.62399064999465, 395.26537493885417, 327.608284093212, 309.0208484278982, 291.55706038096264, 410.0942109119621, 315.46681197313177, 377.1610156665822, 399.61914774794394, 399.17809456327853, 426.790211749642, 421.2114661121015, 294.3548321619071, 350.60816361738915, 436.5263663202157, 320.45144382027615, 377.7848203411199, 386.9623336683061, 306.6989092658641, 308.98966922814026, 279.75547227442297, 461.5116938947013, 363.82494716382433, 370.6621340828484, 323.3903313747277, 389.8156693704519, 356.03005632812625, 218.34937237559453, 382.96350191303213, 389.83884305434066, 398.2469666672889, 454.1539619481664, 320.28274668927156, 374.5636618065674, 325.10871524772466, 345.321400448066, 326.0935921105267, 382.4381386925851, 437.5195485966971, 395.29499605907785, 399.2474283975595, 358.6753895304763, 355.0230988955377, 349.416171906198, 407.00041965070045, 379.06440720366265, 424.0512958869017, 419.39999723866555, 393.7131266696947, 292.1023626612137, 323.99256635140927, 308.36397096581896, 259.46050988590724, 371.9063239205808, 391.07242474032773, 400.17293627657176, 297.15884971598933, 372.4223647887271, 453.421641756031, 321.6571471583778, 370.4546156133544, 411.08394749182656, 321.5127159923078, 370.507535853142, 335.110549098798, 421.0835870164614, 355.8837394218048, 341.443079656139, 284.34326990191175, 291.7602124771302, 318.7012052063968, 425.08673483791887, 390.5089692881201, 346.1281738067377, 346.9912322144139, 352.4633369469884, 328.2897871693205, 370.681363413568, 356.59832195458233, 452.48461671602166, 309.29701650859744, 316.44305669966445, 495.442241829707, 332.03288420223134, 406.8780128995493, 374.7096657020133, 361.454800072075, 367.47604588016225, 420.9661791707622, 337.26391239181226, 350.28203056498563, 285.9880997241352, 344.0984135952718, 356.42647275074864, 377.3376083461613, 366.58494380923025, 339.7494283912585, 407.83678027771725, 343.14976646221106, 266.3241832834497, 363.1970688131866, 342.7134232211316, 323.63789133550193, 349.6928940847879, 312.1975564127888, 453.5444718671186, 392.33912649849566, 368.41629353126916, 413.97656906205236, 293.75802833988917, 361.62539700178814, 342.8996759646908, 330.87329357417025, 361.1076623169094, 290.3468195022889, 354.62243683638127, 357.8729539399688, 280.2867587623829, 378.28227441026814, 417.40520220135875, 324.5117689200496, 339.3270974668238, 307.65373414498384, 373.62745195248607, 302.0099069801157, 348.6571377185792, 405.02376977220524, 386.01325862527085, 345.3028318231501, 348.7886604337881, 365.09102571935716, 400.89428962907454, 356.35893182044293, 315.94544676447873, 415.4455695916143, 324.67355796302536, 339.79542192410383, 306.5929222720172, 462.51195388585234, 393.91080503506936, 381.87247131257686, 339.4609013879684, 363.9793120875571, 304.89473739132745, 346.3117604563372, 376.01128855972513, 287.78101118988354, 422.73342111727356, 302.4777824885357, 362.9861302522529, 373.9514815604437, 380.20755522301334, 282.7221527717542, 369.3360400304445, 432.33382195013303, 308.6852706958871, 327.8957044612916, 311.9542886856923, 333.13749248599004, 344.1312532532003, 297.069708605556, 349.04836636713895, 328.6066171614712, 366.0183503277863, 362.1267282196658, 361.951015536755, 450.822485108958, 382.4521908058641, 428.18780992869614, 461.9764145762569, 421.3811095085814, 327.91796957785255, 280.68107038824655, 314.4900585300521, 507.76636032093694, 307.2336955036437, 344.2544225571081, 362.6274422522656, 390.922979366851, 324.67420776863565, 332.69497167239723, 406.5071906117513, 310.65124617320964, 394.906502744787, 286.3230687264485, 377.4322916858513, 403.9726215248116, 355.0611961141162, 432.33960719472304, 356.50867693864575, 379.2089912321831, 449.4117464668196, 349.11361361788596, 366.43682223350635, 334.04327154209335, 371.41332298199274, 272.4163786419554, 311.85710485014687, 319.49249261296006, 275.02383828853954, 390.21815115575953, 362.05532180767705, 285.1211264701139, 344.6741033589157, 346.1405814413139, 331.3098205185474, 375.5607725066037, 379.49014198706936, 381.42374670414165, 333.5954724521267, 385.35448799553484, 339.96324792361906, 288.7781166936191, 270.62881410137527, 448.88517620234205, 375.7554082233858, 405.15929299623565, 372.1020118956226, 293.71259072206203, 361.61290339165055, 333.7208994504705, 424.3064959823187, 393.2594997188386, 290.5519265319968, 293.44975706367234, 374.8574488026433, 346.172788663045, 308.6627575974393, 421.89103883719247, 336.1338400145133, 314.7518126423825, 335.8783270368647, 318.2158348620581, 282.05643358242384, 438.0925718169442, 364.05177211337997, 312.26872086771493, 373.93985029258585, 436.81249728156894, 325.56802332576706, 393.20088697547004, 404.81658598775545, 383.03300915081127, 368.6978770926367, 357.3162909109303, 281.7131330914658, 298.41718664581055, 268.40862582757114, 457.95558904159356, 378.8858352640722, 362.4549801950539, 334.4131203963832, 410.334840781481, 423.42002617155157, 377.61195274947335, 335.8589111576168, 335.64247476484405, 379.86956268154876, 314.2240434662947, 321.0168303117607, 343.48782669954323, 367.53283023650397, 285.39563772096704, 398.59056231177215, 299.80902692852464, 351.4993557479719, 303.25905410366664, 281.03477653248405, 317.2402064836217, 331.6523445647953, 278.44746668857107, 413.55079127133416, 399.5518657143131, 326.6999840625399, 389.9394786005941, 274.6239245084219, 448.6649804606976, 299.4243919927055, 356.17333083412024, 476.3031569371042, 337.7357968398181, 417.25331646231524, 364.67461943586164, 350.8488277321468, 404.57817487531713, 352.68860727190673, 340.3082838299515, 444.5469720954653, 271.2649844759675, 358.0140407180553, 298.49220413144354, 383.7470134440717, 317.4828816784463, 412.5757744810462, 349.71444551031925]
thresholds = [290.9316572432067, 354.890802104808, 422.2955778055038]
display_name = "1% treaty ROI at 7% Discount Rate"
units = ""

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)
    
    # Add label
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {thresh:,.2g}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-roi_discount_7pct.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that 1% treaty ROI at 7% Discount Rate will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
