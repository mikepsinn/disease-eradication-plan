```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Annual Savings from 1% Reduction in Lost Human Capital (10,000 simulations)"

import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Simulation results

samples = [3117104907.6137958, 2456312735.582008, 3373248529.3862505, 3488804114.300392, 2100000000.0, 2344817724.4727244, 3020937074.0949965, 2792362540.932571, 2944504779.5871124, 2539029424.9256725, 3451199964.986247, 3389628225.1290193, 2988035437.5963054, 3606121626.096381, 3208318210.73207, 2536220109.320511, 3152669746.676182, 2491862065.952343, 3450620553.14049, 2927274747.0979466, 2858122430.835093, 2617646760.603979, 3667526154.1707993, 2873523715.252287, 2737457770.2759256, 2774662603.9732404, 3245364245.1481423, 3150823270.976832, 3177332404.5719995, 3187531311.581245, 4200000000.0, 2748106153.4835043, 2697060029.2529464, 2556756969.054901, 3293831939.5493317, 3607227792.5827594, 2894258792.6171236, 2544833400.7753615, 2551910777.1545663, 3314093483.906299, 3368950004.821399, 3251606026.6784477, 2624807850.7821875, 3077291455.632817, 3014972748.857334, 3069954754.338028, 3446330591.7234063, 3072624854.3440514, 3330764223.181404, 2988855252.004865, 3108502768.612409, 3302777894.794603, 2281310857.4835043, 2790666818.722187, 2717141759.573425, 2637222056.491427, 2812770255.0245953, 3848867673.3971906, 2533283686.237402, 3505976542.8674393, 2191880905.7304096, 2783154814.155544, 3039681124.8541346, 3276512153.1225452, 3349887402.264338, 3398982798.43685, 2776338691.8657794, 2721005757.484571, 3438126127.5454726, 2854862217.1098247, 2355849815.4471374, 2416041953.549201, 2509331025.8831587, 3225217127.602196, 3028753608.1085668, 3337599949.8065014, 2737979280.981717, 3037412874.9803557, 3299445436.2781787, 2795776298.283209, 3202222486.587615, 2626474982.8863277, 2769299459.75785, 2760147434.6351147, 2389413907.9656277, 3219400621.9887424, 2717608910.171491, 2959827375.599747, 3215851449.078388, 3196415851.013792, 3322790399.3067226, 2902198275.4549584, 2739898173.384043, 2911864245.1812787, 2190147785.2237453, 2285373834.3195734, 2336308413.3634944, 2474982150.6259136, 3170046054.631904, 2515550983.4486666, 2761896403.6920114, 3717696067.5855637, 2772632863.545486, 3365526468.7239766, 2503041227.9161525, 2847722549.578971, 2495776963.072898, 2781110176.816558, 3427380833.6657596, 2174686743.2154694, 3189566520.251004, 3080332107.997517, 2658203820.7988706, 2285800893.4015465, 2991265868.51818, 2688829823.87719, 3077572190.5267353, 2964738779.896919, 3922415314.352899, 2830660960.0823226, 2463498028.826325, 3048592328.8267684, 3070666318.316251, 3757400046.8470855, 3424226547.879936, 3146041130.8992662, 3827353430.217614, 2392411570.393116, 2636813866.206178, 2506165967.1951184, 2756202925.365555, 2314068390.1564746, 3305038976.5573993, 2839266413.54202, 2275800216.690658, 2466956545.7152686, 3121966829.3346715, 3426056362.691086, 4200000000.0, 4200000000.0, 3178276484.9879346, 2478364708.1555696, 2100000000.0, 3096734904.297952, 2557133714.5505614, 2743755735.657985, 2649765014.4986405, 2880526660.5628886, 3567193410.069939, 3036610541.2324853, 2871434407.045646, 2458197983.869892, 2195062483.2555666, 2709481326.391321, 2925275257.5135427, 4039596920.3566537, 3022240156.7214594, 3514970761.6522307, 2703253830.7831964, 2394030992.93599, 2489111277.6865606, 2597183609.3357806, 4200000000.0, 2553310284.2153087, 3426276490.101512, 2516688574.1452985, 3483250603.495795, 3161731593.6854014, 2872450504.946588, 2932031021.928249, 2629798778.839799, 3196155937.3184395, 2724560236.361568, 2376845974.8283544, 2354910352.0776196, 3044982264.580017, 3906680370.820465, 3038194319.35178, 2891854401.5684175, 3106689569.8778415, 3722160219.668609, 3070332199.1000686, 2745910091.490911, 3592759817.2185345, 3186365580.323532, 3876800540.3092904, 3050731327.0284095, 2377324712.7389107, 2317566978.598626, 3956720187.6979804, 4008040793.8945546, 2860829371.519631, 2759438725.793897, 3826093322.4095974, 2427300921.053925, 2520347572.5405965, 3309829896.495571, 2753862260.5598474, 2950603982.5572166, 2868989406.887095, 3135303809.703714, 3789687772.3155684, 3001062654.4657464, 3310188797.4250307, 2100000000.0, 2927901065.659583, 2543447887.4322033, 2379708174.902231, 2527759610.2884493, 2783530376.839272, 3473593231.5120025, 2334780232.5524287, 2969353882.938144, 2710508083.4758215, 2786713270.477972, 3527459384.30729, 3248704484.820252, 3742922633.333123, 2873535833.4779916, 2610693348.7561874, 2838443501.836451, 3082931615.5843525, 3047133111.016423, 2437064401.0694747, 3001012076.39423, 3075147896.6564703, 4200000000.0, 4118304473.9610043, 2538939717.1232033, 2806676581.8699813, 2278771495.940918, 2659825800.292262, 3123123714.2103333, 3656698777.361796, 2595409068.981419, 2630097573.713949, 2100000000.0, 2869384375.4148664, 2446570668.1252074, 2688855206.609176, 2528338112.0187917, 2904370468.447612, 2163002254.5934086, 2277317206.9313073, 4200000000.0, 2350956302.4495482, 2431717287.48498, 4089271659.084388, 4200000000.0, 2399711703.444802, 2766751692.3506083, 3137515988.128603, 4011615618.3598266, 2479542224.280001, 2827692444.035791, 3389355371.9510183, 3189760034.413698, 2762878411.560316, 2884084924.97428, 2314802524.1449, 2831253752.907074, 2817136522.8297596, 3077296126.2077136, 2676550768.780107, 3210609311.0325294, 3533688292.428562, 3035739511.6443915, 3143191565.9173937, 2981227046.755972, 2953326884.5982547, 2598871995.2444854, 3123615806.0520873, 2902814793.895704, 4200000000.0, 3902711946.607837, 3162233314.261838, 2579833890.4466023, 2424994461.6634974, 3647180668.090647, 3094013546.803216, 3215507757.402089, 2168044598.4593315, 3480699976.837649, 3200886727.3100915, 2425845638.514915, 2716587168.175185, 3094544211.77876, 2980863384.2745647, 2804296777.1105695, 2899627043.3517337, 2824338051.5534277, 3034197992.538502, 3832910473.9056745, 2100000000.0, 2831917712.82711, 3047100213.305954, 3112291183.8578467, 2764955420.399837, 2163388044.9779897, 3129987268.0591173, 4010658052.3775764, 2250517383.149114, 3441692741.12883, 2786292582.9179993, 2921369131.170074, 2450698944.6616096, 2783366290.5749226, 3718233777.9216127, 3274442090.471468, 4014185048.203111, 3638318739.308525, 3192202698.235589, 4022459797.554848, 3192149806.5762506, 3419907872.318901, 2802111636.402828, 2988308151.626992, 2610008316.6371155, 3519235740.547145, 2396849101.0546083, 3392366868.5717406, 2855192659.8384857, 3634347032.2465158, 3373498230.4759655, 4077502848.4674087, 3361509438.8110175, 2235345755.9627223, 2918457188.9779816, 2399524399.966371, 2694176776.9962134, 3859990086.7024617, 3306434581.4322677, 2609311724.8372316, 2467770389.803588, 2970485499.6232533, 2380658231.2571383, 2622190703.1210732, 3121134832.4134884, 3624100850.5465736, 3289622419.251805, 2100000000.0, 3116911427.6920924, 2991215026.7086, 3177984165.513174, 3932456706.808866, 2100000000.0, 2659638999.448554, 3279232366.8973536, 2231565128.316234, 3835938398.4780655, 3152449584.176355, 3431193872.4226875, 2669155535.5137486, 3411299940.4176025, 3568768291.5370593, 3077682230.6374416, 3078512732.999698, 3098179177.3369727, 2534399648.466201, 2877090089.201069, 2874545650.581457, 3160859472.10794, 3525626471.496174, 2448252360.951206, 2888592177.8960476, 3839682555.4274426, 2588748024.05756, 2552919761.577977, 3061057122.0106554, 3429857460.2516274, 2959267338.0149226, 3737331551.0510235, 3437406261.764305, 3428299054.1931, 3257927432.967926, 4200000000.0, 2847861738.969764, 2100000000.0, 3924135999.7058992, 2723249519.937899, 3010272866.7084045, 3724501350.0076637, 2223409675.110924, 2365904908.3017893, 2223796387.8622704, 2565667483.6766, 3192513734.9622846, 3240697932.6514983, 3101436443.1827493, 2299323309.4543395, 2100000000.0, 2981860010.910686, 2716466254.942541, 3203703899.9714327, 3344388366.625454, 3026509100.1567407, 3379039827.836773, 3075683535.0734234, 3244073953.8352084, 2606658180.9667144, 2860782639.25165, 3058059435.2881813, 3415390937.415072, 2754283820.490697, 3238964094.1131105, 2817410400.987914, 2892416079.0422354, 3420835567.2976594, 2100000000.0, 2347189890.581028, 2271216693.889146, 2100000000.0, 2618883057.338316, 3372640602.2686653, 2807919667.42842, 3058608864.225076, 3581909787.8654213, 3736487763.4769654, 2917327735.5725245, 3753672821.741181, 3001882522.0406384, 2546077326.7627296, 2658085896.8957458, 2271880295.280796, 2523293370.9205194, 2771772005.222675, 3405153631.6971493, 4005984914.3132205, 2311816451.807258, 3166146854.8922644, 2456069114.1476326, 3212406500.531409, 2885483462.647894, 2135139963.4939768, 3481229445.0926027, 2653098466.6273165, 2686730961.7466493, 2443391978.6655, 2630033811.428252, 3185876732.145532, 2855904350.2019973, 3130356905.0362067, 3148857654.4896283, 3731840446.812785, 2779261521.283952, 2273361502.40078, 3567978566.055662, 2784830298.5146484, 3598049335.0743475, 3160850091.2046347, 2885457451.7979503, 3141532199.3000503, 4172778090.2041745, 4200000000.0, 2989809672.517924, 3038301428.6103168, 3573683648.345029, 2542352754.607414, 3132802792.5632997, 2939781236.8284955, 3122184969.5166054, 2547895619.786018, 2228415025.869347, 2100000000.0, 2422858952.1721888, 2722778727.286858, 2803789844.22077, 4162601942.4837604, 3592571827.429458, 2490445947.2709, 3140938126.7106805, 2747783259.0751414, 2808178484.9331875, 3051861844.98274, 3295695058.0540442, 2780999112.701806, 3565848312.5566926, 2412341682.36722, 2956601433.3972783, 4200000000.0, 3072344071.12168, 3807004793.173415, 3001559983.2349806, 3273352685.1195607, 2923720507.1896405, 2865451411.1996474, 2572337274.759924, 3187237860.7322774, 2539707313.7895236, 3322908217.406517, 3579416311.0969763, 3151430324.988316, 2807240848.6218004, 3200628840.5974445, 2796109917.199722, 3485704028.199628, 2134950730.6971316, 2782798654.2228475, 2100000000.0, 2266041577.800687, 3760513280.828563, 3460866534.464612, 2599828888.666002, 2263055489.1413207, 2100000000.0, 2682167365.6232085, 4200000000.0, 3189826832.488494, 2674538473.5683002, 3206937730.544582, 2239738950.141151, 2801738123.5884542, 3005794594.9293475, 2908573400.8021846, 3397452873.173581, 3139233946.372688, 3324522179.0102377, 2614197290.415307, 3462479804.8385186, 3941334065.2119274, 2486892817.4662433, 2523489277.9225497, 3741852628.7221828, 2854842156.1763477, 3787230833.6392465, 2730575599.3851275, 3821758241.731772, 3022888821.8645253, 3091536579.369787, 3896744533.167982, 2769929206.348576, 2499715465.958699, 2727660682.1697497, 3199703740.315853, 2237834743.9760633, 3306397729.5192146, 2684413263.3000836, 3619288781.799756, 2100000000.0, 2569111078.3044677, 2190483957.075186, 2551120468.249213, 3085756323.0550075, 2860977676.0500374, 2823637492.170044, 2871154597.5247517, 3061644009.4978523, 2470036806.900706, 3347290669.510461, 3321190013.7411213, 3161780312.9248095, 3259322822.512276, 3112524996.8968263, 4200000000.0, 2908061467.9185195, 2796897621.120807, 2584193317.098274, 2459675324.3379903, 2368914558.584978, 2522996784.2827454, 2916530602.086654, 3133482660.64685, 2980163837.696707, 2578701478.2811165, 3463933478.525559, 3366657857.9628725, 2870918862.834025, 2630670928.6272626, 3254645562.5992465, 3053293932.347987, 2284962979.8225365, 2917926164.7527575, 3093622498.171204, 2518130267.026179, 3054305586.094563, 2282254149.5969567, 3742118987.9612093, 3684073471.3041854, 2824067873.9805126, 3149712726.8237643, 2100000000.0, 2406190955.4904985, 2803498099.7856927, 2442361628.6519547, 3351769287.188118, 4200000000.0, 2397566408.7622337, 2546047924.544382, 3079084106.5296817, 3928909536.1385655, 2378207162.213845, 3086505526.8518457, 4077974393.7375436, 2203995756.277841, 2353604122.1151366, 2739748521.1636167, 2693075046.5326886, 3410597472.39662, 3082474433.5446105, 2156407983.56474, 3235662187.8269634, 2666038478.2084737, 3701409257.5436406, 2642502641.233115, 2638279433.306803, 3250440995.901778, 3380712567.61039, 3197304063.047095, 2190821947.055075, 3248657864.9162917, 2458784138.4985733, 3078990137.217967, 2294859328.364971, 3196297477.1962, 2560008673.982918, 2352951434.295014, 3351427047.570255, 3082466133.4240756, 2648882568.034991, 3819140945.14182, 2731486852.1934705, 2970130583.1399026, 3097394449.2269206, 2646213959.571737, 3210380519.2270126, 2686944172.3962016, 2745564168.589491, 3759700807.6949844, 2456050788.7356477, 2100000000.0, 3928784830.7133794, 4200000000.0, 2748664061.6889534, 2100000000.0, 2795212945.098053, 2807253672.5507293, 2855560553.2868433, 2424574923.497584, 3272647573.777976, 3240881400.8470726, 2266304646.2790027, 3342755217.891777, 4200000000.0, 3044643710.2922907, 2781951852.543173, 2879908017.233074, 3293410243.0901623, 2173395937.7839885, 3040563196.4731812, 2755883509.9587355, 4097184721.8401175, 2863540565.0001726, 3968627138.2524104, 2428722644.4705377, 3277114097.623697, 3125224451.325424, 2531840611.1422157, 3047577321.882936, 3661019484.2615137, 2788630278.1679316, 2188352622.3281507, 2944107456.1636524, 2516913348.1685643, 2779480755.604925, 2910899898.330625, 2183051407.674161, 2218137802.581229, 3216603719.0922194, 2692058800.6236444, 2100000000.0, 3393865990.2755356, 3099291752.7974586, 2602412116.4650426, 2338739188.2980456, 3424649215.643664, 3141852104.5110793, 4200000000.0, 3181532407.819797, 3163273655.9134674, 2867218496.7018533, 3413120945.939379, 3299150129.4145694, 3686538307.8722515, 2692724609.204858, 2734026287.174379, 2712942126.5390196, 3397450224.3603616, 3851209475.226871, 2722699032.0140033, 2739182051.3781037, 3122278462.425962, 2827450149.6479273, 3495912867.70942, 2100000000.0, 2550905521.0941324, 2571000492.1027837, 2100000000.0, 2489763302.2489376, 2511241757.403358, 2849909496.925456, 3597012600.2707496, 2827801258.041199, 2460306836.8571825, 2923631750.67165, 3556587320.8622084, 2484334513.918163, 2513280873.762905, 3260486911.6260085, 2839611811.302022, 3312269022.386725, 2946150820.4466705, 3344216549.7809715, 2458448700.9930224, 2946966332.252726, 2845073726.068108, 2380940517.737408, 2238739350.4094734, 3334800401.6334023, 2775243318.030925, 2464029353.3378735, 2903384517.1457367, 3606618503.9284444, 2100000000.0, 2265408188.836422, 2507804722.7623286, 3825913400.9480057, 3104907190.508956, 3383343511.820871, 2413101421.6784024, 2421935457.094332, 3197142255.8312435, 2983932067.9240417, 3254824841.252243, 2856700554.4308357, 3102463906.14139, 3037186536.5853024, 3389613483.9275045, 3407219504.4753203, 2216482488.731276, 2100000000.0, 3526826707.354683, 3644972790.5515857, 2464752948.7229285, 2124224280.4481246, 3005558873.1819377, 3482797171.0657125, 4060883866.947734, 3236170814.000941, 2765052360.393038, 2521060520.4549303, 2959280569.315235, 2800774628.14372, 2467179978.1004143, 4200000000.0, 4051953422.072479, 3611753146.9917836, 2508709526.0512333, 3436325643.582149, 3307660668.5179744, 3194159569.1366568, 3685193230.7765193, 3305167917.107356, 3367016696.3622026, 3306066991.578266, 3137091245.259001, 2153106093.709018, 2997362241.048294, 2676140732.0852566, 2354116348.68938, 3978433127.826894, 4011827210.440711, 3757422031.884153, 3089885381.2329125, 3751704292.2520876, 2959596157.400772, 3061323465.4468985, 2433145573.874366, 3168483430.5146675, 2985048612.979656, 2344621393.539767, 2926615537.2416677, 2911858388.192782, 4060859868.3726287, 3460270798.50704, 2959277500.800885, 3086369468.6788015, 2976507201.8037367, 2848996069.062563, 2437911213.5812416, 2875294736.257108, 2587597046.915011, 2366463175.0598965, 3233261892.593071, 3165270315.1919045, 2151925240.9756618, 2889781994.7823315, 3523052099.3427734, 3562925817.525685, 3541912533.6733313, 2973713976.447517, 2542630103.8463717, 2437362021.0007386, 3139211520.280657, 3158556502.472805, 3709867984.068447, 3588746115.7789564, 2884899697.8212295, 2369026164.4924135, 2790945996.2192426, 3069162161.4219418, 2849415425.7431655, 2665870695.970474, 3088610872.0351443, 2701021862.6109796, 2642278605.7425995, 3120827039.7081075, 2750260225.3195467, 3083809824.9463, 3099749889.2688437, 2413414361.7129583, 2711914698.609919, 3810083373.1181507, 2403748652.5209312, 2100000000.0, 2123468041.0173206, 2968553526.4719214, 2969504234.517232, 2892380879.699657, 3662103500.200777, 2100000000.0, 3167889880.448402, 3894480823.66609, 2418400165.8924384, 2761092082.0871673, 2584484369.655379, 2520517695.957313, 2787410051.0434103, 3803142424.8253517, 4089614470.560791, 2782635042.3406496, 4138943476.374426, 2971956510.87252, 4029418946.6042604, 2904866510.0390716, 3022659611.0816226, 3150840246.063307, 4200000000.0, 3434053212.13892, 2605461739.332461, 3506423506.200052, 2769898750.515857, 2707829387.0558324, 3469102818.9776697, 2969592785.750205, 3102701475.852756, 2960609410.9369464, 3134753135.074269, 3184226407.247837, 2100000000.0, 3323489595.4233527, 2481668344.4004436, 2287323605.4913983, 2922877297.1672053, 2997553385.249225, 2611820550.187384, 3421752571.555382, 2328260822.6425343, 2747848732.455258, 2662575944.9061317, 2929006781.675515, 3102860000.3232875, 2470318253.77679, 3357645244.423181, 2986432682.1061053, 2112173580.4607086, 2100000000.0, 2946843823.5042696, 2839897987.703725, 2899662056.74387, 2938677452.86208, 3073694366.743639, 3493186165.5671296, 2425555883.109894, 2399539534.4549084, 2433209165.1819034, 3108391118.3671117, 3682114147.921016, 2735997523.959541, 2100000000.0, 2183693299.193579, 2548045531.7162027, 2675412116.479576, 2747145395.3958893, 2973539020.2992444, 2794587854.9510317, 3556691916.6946783, 2619925918.676549, 2534860975.6857257, 3214785538.7555404, 2249807493.186833, 3164388329.73177, 3007432987.8501525, 2877134024.159958, 3913042878.7696123, 2645022678.7582245, 4200000000.0, 2837652746.9206862, 2355294700.746108, 2990094906.4869137, 2440582863.079242, 2585004626.052957, 3168507005.472683, 3258773499.345152, 2645041304.2957816, 3517877506.0220566, 3625510973.661693, 3809087695.6650915, 3243699635.850144, 3760224457.509867, 2116349418.625573, 2791539456.013767, 2532756755.2789364, 3016329870.152523, 2668916468.2654486, 2867609720.9873066, 4122195531.0246167, 2865800605.3751745, 3177929005.043649, 2834217067.2298923, 2993165761.8289785, 2956432565.922328, 3197431353.1205554, 3630524536.855723, 3954243604.9586215, 3119813833.293766, 3278442645.611264, 2408529610.779217, 2907658294.055548, 3488633980.483255, 3442998280.3782797, 3066106904.013267, 3455480352.5945153, 3221565529.7462573, 3653106604.0373397, 3108634815.757797, 2772910745.9697375, 3134341134.9329333, 2100000000.0, 3160574925.3231573, 2100000000.0, 2176173334.094615, 3199383260.9077826, 3214018874.6165223, 2403599912.232856, 2603229629.324077, 3764965687.273611, 2710574980.62578, 4200000000.0, 2952278355.614582, 3174689720.6997375, 3932919856.2593374, 3022643165.064488, 2472748071.2104254, 2896423542.540214, 2934708462.6738124, 2318970675.1308045, 2822409846.841004, 2589388445.397046, 3478800666.81345, 2971448645.2677155, 2808958765.263263, 2898243551.369221, 3072367083.317383, 3294319130.295155, 2473901314.7596335, 2455614996.543469, 3591735461.6142263, 2745224389.102012, 2297663361.064981, 3194876712.710676, 3205966061.790747, 2251772191.678996, 3075830854.3127193, 3364374375.2233667, 3155819203.28961, 3303183586.217237, 2302787299.123795, 3131676133.567581, 2799110281.6094594, 2711170527.911554, 3445797482.2990975, 3838199117.4706793, 4058564606.5363393, 3727972063.3681927, 2896420088.9748425, 3143728312.5746603, 3383047183.633703, 3017373264.096948, 3022502363.0036426, 3417342771.441118]  # Truncate for embedding
baseline = 3000000000.0
mean = 2991867289.0322514
std = 509888282.99823374
p5 = 2195291737.879858
p50 = 2946401007.8871746
p95 = 3950984443.1972747
display_name = "Annual Savings from 1% Reduction in Lost Human Capital"
units = "USD/year"

# Create figure with two subplots

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---

# Handle edge case where all samples are identical (zero variance)

if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax1.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Mark key statistics with formatted values in legend (use format_parameter_value for full units)

ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {format_parameter_value(p50, units)}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {format_parameter_value(p5, units)}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {format_parameter_value(p95, units)}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {format_parameter_value(baseline, units)}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---

sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax2.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Mark key percentiles

ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"

exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title

fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark

add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('mc-distribution-peace_dividend_lost_human_capital.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Simulation Results Summary: Annual Savings from 1% Reduction in Lost Human Capital**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | $3.00B |
| Mean (expected value) | $2.99B |
| Median (50th percentile) | $2.95B |
| Standard Deviation | $510M |
| 90% Confidence Interval | [$2.20B, $3.95B] |

*The histogram shows the distribution of Annual Savings from 1% Reduction in Lost Human Capital across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
