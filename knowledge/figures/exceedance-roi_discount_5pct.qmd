```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: 1% treaty ROI at 5% Discount Rate"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)

setup_chart_style()

# Monte Carlo samples
samples = [377.99537965326107, 345.7370189022263, 351.17700709369154, 363.02762015633886, 428.4041674282497, 384.87632457733105, 363.53360410566654, 350.8186605045704, 361.07090840169553, 454.6614129748447, 444.7744060005664, 353.21064704934383, 406.80155303363165, 432.94089994025245, 382.0346827990651, 460.85200407275676, 372.6641145931859, 382.75373928863615, 365.04868341935617, 424.47261445136763, 413.12958230098604, 454.8014252225846, 337.3258021126899, 446.25498411321536, 398.71241890701737, 441.00672406861224, 408.70530956850916, 327.9742294011845, 427.4806087094798, 384.4559396304702, 427.12001414317933, 390.76933996383, 493.67402408643835, 385.54883716536096, 320.52136663336705, 421.6574295039097, 351.6105868570373, 361.7249382091994, 487.4477575948801, 377.8050252500338, 398.8421541584648, 428.8967961764262, 461.5381372303971, 388.03142176908415, 297.378132521239, 346.2979390150387, 349.4255912215411, 453.6802961860471, 453.8540223611871, 335.5247852472033, 381.7370413452663, 463.9451411161515, 445.68775234311556, 443.12955430009157, 445.9215368903116, 446.23102637460465, 394.5511596135847, 288.79240435043226, 452.14723380364063, 412.22619843183094, 401.42349921726174, 520.5771058700198, 262.52331549118185, 256.57123659130247, 312.8360762553928, 356.9716826702776, 415.632663301096, 405.98741203842764, 382.3215189956765, 383.3831009069875, 529.0867410420622, 399.1012423510734, 411.3185210525638, 338.46022371822943, 396.4818484226851, 440.5689182859835, 494.3482365197584, 426.60244968106895, 394.66586025620575, 389.3491045912501, 419.6596899244385, 386.2562048807181, 438.2012266768011, 413.3176757436255, 454.64801156121996, 447.6380775579695, 355.73094991674424, 412.4307701531762, 480.0775720631448, 360.0651587149935, 384.9684662698312, 403.26233856710974, 393.8232274096981, 312.7761838942609, 382.67774737584585, 462.43608294664483, 605.3814287956168, 363.0483134119178, 373.5213772563147, 504.88103363973147, 397.4405751208938, 364.3868300862001, 377.42512524006844, 377.4001920903933, 512.1560250716399, 289.8134193121986, 386.74324980052154, 385.4472572789419, 403.4346456939207, 382.03759524574315, 376.8742611271306, 358.0371180640166, 423.4455725995798, 421.5967767189496, 349.6449363371193, 462.77603556963834, 459.17158865508503, 427.4288890420924, 424.39175853453884, 376.42448559791575, 459.7996606639929, 364.5287824978441, 432.8576769614096, 370.2544588339882, 405.1155503071173, 339.4825105824426, 407.58623413730214, 500.6887543054461, 292.2043775281453, 525.92340502711, 517.3181540528291, 372.0102362680368, 388.8017095078415, 477.4125324943428, 442.04980275036286, 475.6666274323286, 396.50852116830623, 341.3301798505704, 323.18696757419787, 362.4842702485702, 373.0754726796001, 433.5974488818903, 467.9459325915831, 366.70823162180443, 420.2565751664295, 452.6715895564485, 497.1206098469622, 408.45382804998394, 425.64630357495554, 314.73937987651703, 476.991914744072, 490.57553302870576, 538.5436034429365, 385.0119957101249, 393.5081344948649, 416.2631024308003, 488.73143956210754, 390.00971803330805, 358.22707687969137, 428.83737339206033, 421.6870464903957, 447.8624569240203, 407.72396506715904, 420.47957154944646, 452.5550970476273, 515.4031015065466, 442.6615820563067, 334.9043735639686, 443.75339417520365, 327.8248670765846, 387.47921201911134, 447.06227605741077, 365.6461671714715, 375.78392786834183, 512.0270764074838, 382.27775193133414, 320.4897138325811, 369.2866946313518, 470.39953893485927, 338.1653797269466, 438.32002687392077, 465.9145170246658, 405.49841633890117, 343.1970765709821, 344.39148645555736, 438.31029079804125, 352.36108050117826, 372.68101588627906, 452.15323977479596, 438.147174864132, 422.1862011085335, 347.4714232723467, 398.0066631704198, 273.97266409673125, 371.57138082803147, 446.1750093941117, 393.3886873749477, 303.1605691286843, 410.9102311932613, 362.27789039741185, 330.0452601142499, 363.5767996362698, 386.37823179150723, 467.39783568972877, 441.79909841095053, 358.81779736609855, 479.0844014546415, 432.2400749298286, 461.65417220219064, 385.75778379291694, 402.0048980978069, 360.25752227768317, 429.6349501274441, 400.3896228874757, 334.05761761391045, 379.70056125006727, 290.95060615734275, 354.4695568625574, 428.77622249033817, 512.5388747856339, 372.58396365540256, 420.2239884875408, 365.410945167225, 538.5677417957785, 402.7392329688924, 445.1376343062333, 273.7250231531517, 293.7753519981891, 422.3210850294531, 366.47623115427893, 466.05039327719504, 402.96401716132425, 423.39857922112594, 355.84007046416724, 425.15457477257587, 403.47541458669724, 440.5960164945293, 397.49620200493445, 464.68267142573643, 337.38452614644405, 416.1909115360279, 402.8225165888485, 541.8956987760073, 493.0599914282287, 331.0777383407245, 540.7058314456699, 442.1668032487326, 392.48266624792234, 386.1787677925954, 535.4686074104907, 420.84956041021076, 457.97643473007463, 319.11651587792034, 500.81824007656405, 431.8766697040893, 393.47566786602687, 366.71845412310205, 487.94204426461476, 426.8032123899484, 457.5508676947329, 405.98028922663406, 412.44529473901343, 353.99358054907464, 418.6315038067074, 395.13412396103763, 317.995157517803, 389.10191305194667, 403.27734631456264, 456.7797047934542, 403.0411354204704, 434.2624711093211, 409.4553484016348, 462.8122639939323, 369.19240195234465, 421.48801094588265, 384.7208473686273, 484.0406180230317, 483.1470231840961, 418.8765138217762, 374.67103177547807, 409.939909394935, 444.7316071450156, 321.0195334572029, 388.3698562832958, 451.3816563897967, 376.39749021803163, 395.9169594833039, 478.0859965037482, 350.73460717050796, 449.16308760701025, 501.0653114203176, 353.1676181014205, 317.1759050713845, 502.02575726895645, 360.11212146624194, 356.6438445082115, 368.6969217274825, 489.77015243940383, 410.8707054421102, 327.6483269778454, 342.93841821015434, 529.6727057994062, 396.0639710965989, 420.2749881586692, 505.01949092136874, 408.33503753932104, 433.27863986112465, 327.2371154267771, 394.30268967148277, 388.46593820582024, 371.60318922696575, 398.78798958318464, 319.1112552263531, 345.52187308124275, 332.12379929784277, 503.0047997864317, 377.83108410878117, 410.96384508077045, 414.78573015250095, 411.78816143356397, 360.35710729033843, 394.63074406130676, 372.920357742939, 417.1359659527893, 305.5092835417723, 455.0025870989957, 469.3374287998362, 373.23324392318426, 508.09496977979984, 473.2871306256588, 402.79176555949243, 501.44314330665804, 480.7299286637866, 446.125432416847, 450.96202597989867, 505.1371302933647, 323.21130528551595, 308.40514708917226, 324.47909072732074, 424.61813411487833, 415.1391704729872, 298.34600406329764, 376.5201585352907, 397.8826303843404, 391.420311353272, 395.8545487325757, 436.46827186906484, 398.0298750927924, 548.6695150841443, 369.06354034149973, 546.5669602901166, 370.0969520500041, 411.03652460997864, 413.2167261377428, 439.1809887064733, 354.1323671761692, 352.9265846816143, 399.30806797690315, 460.5833804853467, 338.2056238666344, 415.0103816044238, 472.012933811606, 380.84100814696274, 462.49214858122247, 519.9746332100351, 386.9303784797823, 465.0966796523748, 504.31080947178765, 428.9863237723332, 372.0366295509423, 441.6765107076935, 380.517273943118, 394.4350572423558, 497.36061259166127, 434.81943642213656, 380.40375006302844, 450.6076577842373, 380.46652106778043, 395.36191248914326, 416.63098801687175, 377.4201279233826, 361.62929478212067, 441.43890478623683, 542.8950806522021, 405.4859868896035, 317.26071123195, 433.1223517113496, 398.2521385595891, 386.3906430605471, 315.5776930603167, 478.0907392447752, 421.8177377285845, 457.9995355673137, 399.0282029003352, 414.3886172154532, 446.24411505321024, 353.18945718164235, 343.47904413423885, 433.3861355017863, 447.13504125979875, 427.9113230659742, 303.0670030294631, 414.8690193054068, 368.03323503106344, 435.05604852814696, 504.30443945714, 446.2076158378653, 374.8875810804731, 428.12248780798194, 395.1508882571114, 400.75911791730226, 423.86642962070283, 493.45009320317547, 344.4858326474316, 452.8727147727786, 431.3076512395325, 323.77501055053, 377.9284625618915, 432.07293411950866, 354.2716012201204, 483.3040633144386, 461.7693343588813, 432.80566650455836, 459.69969465529715, 493.2275921609906, 373.31417167609135, 376.57153859127425, 369.9527915642712, 457.4671408069196, 326.8533261128204, 459.4375484589143, 243.05520859655215, 421.21418672719574, 357.4802431506851, 399.8179727182933, 421.4528070740846, 482.0663644007173, 409.7916417092719, 476.9343787467772, 428.6880385176904, 358.8115243460233, 372.28256331376025, 371.9714029593937, 365.01036882114926, 355.0897507832615, 480.00461391574254, 341.0466717012954, 345.05699420278927, 358.9993523981514, 438.78813794886696, 361.488436798578, 432.05011803768554, 441.31962274991866, 378.34995519937314, 400.90898790369425, 408.40840449554076, 402.1463952963401, 347.2423292908913, 499.2244159493671, 419.61219324879414, 435.252497433099, 430.249745975663, 414.2996316799551, 429.973626066416, 446.74261605854707, 440.0165760082401, 469.0232664988348, 319.32388150310703, 386.622760891095, 482.75933176265323, 479.6747411715861, 334.2673451062192, 390.781649679429, 425.99905042922495, 409.684498809539, 536.4068825717312, 416.41601879455175, 437.3311175616089, 450.6189620450755, 292.48960023704393, 451.8762444625064, 402.80141102509157, 350.2455223719301, 383.565142959537, 409.3572570262354, 499.17083152529347, 420.3053235635824, 383.4432142898039, 469.85359184728924, 373.83620551763875, 359.815224514817, 477.76140870350383, 373.42552290543455, 447.7043946697672, 425.19230619470267, 354.30360399815777, 435.6577139693992, 432.60617108186767, 490.7010128514682, 480.4096277893099, 356.8782087681429, 366.8919595318272, 441.33060796442766, 366.631316280844, 463.9181955100453, 335.46154409870263, 317.1681884137745, 468.7648826548246, 376.76831341061717, 383.2043330608102, 400.69935124717426, 382.47428356213806, 446.0951347454431, 404.87071340058293, 341.5939983205484, 416.69518023033163, 433.70450080143354, 363.2735969182092, 381.54564193779936, 442.402267529568, 434.07627947206544, 357.9913194697526, 324.7580562102074, 439.50960317855987, 293.4391948275731, 499.4375432815389, 416.2782599534853, 437.77873808000123, 364.66692180218223, 361.9405950486099, 514.1041128305669, 467.28074534136647, 353.24446928468615, 346.79601218202106, 464.06735756618104, 379.2916618539689, 469.3085328343998, 300.83516288183347, 453.9781276927687, 441.16579487673806, 448.0830343259949, 326.09273616733685, 403.5955567463393, 395.53377705125195, 368.21985772353094, 393.880971648237, 332.22473486433813, 352.6923054550345, 386.9132080357949, 361.6841108848468, 387.14020223152227, 521.4982961060932, 332.36547091209206, 385.0330374191309, 359.9739296942226, 411.803713817694, 398.535627252781, 490.6655605861152, 430.8664682945937, 509.59330333561365, 428.72737508298076, 392.9808245097134, 353.46898810897306, 484.22236746512925, 364.22781516504955, 412.9268942332048, 502.7236078405366, 501.9754736526256, 422.86656176929, 384.3489217106646, 414.64269873344625, 305.7715917997523, 390.1281219522197, 336.2270467404203, 414.5613947935031, 412.6798464055009, 370.55347079946404, 360.93018133616346, 427.74178518173073, 393.21617125911, 555.7374502789079, 534.0299600742028, 355.4702836434221, 449.8963162459743, 411.44010171444677, 273.92103659015345, 408.32598642939683, 418.2856721097952, 434.97954365074764, 384.4603717171892, 498.3058398174809, 521.107832219536, 385.9558864818656, 482.97317312532897, 486.5875057494515, 375.36262346923536, 486.6156458447213, 424.0197788088725, 403.6306115423166, 462.3569056954309, 403.9834337265442, 468.96017155143386, 446.4474502794417, 538.23265144707, 387.75604301948704, 394.591444044705, 355.8179357826018, 347.82382061423687, 383.9178963328302, 287.7423782719213, 377.78194399472494, 274.3353633226745, 367.6047290597883, 445.71379466495193, 393.4985445195377, 360.2220564949666, 419.9939425712935, 437.7839882487964, 468.70690794163266, 395.0420596881027, 522.4642232906631, 358.7698370584634, 384.7064719617857, 462.10508558180624, 433.6604225458625, 308.2880879446385, 470.10030430038825, 358.8602862788111, 474.795843059826, 443.0425687390295, 398.20274207844216, 311.76788266478474, 405.8556522267775, 472.89406366884475, 379.53589463651707, 414.10290044679164, 435.56250582520613, 355.0499235125276, 346.7629151713057, 418.317464660898, 474.5432323144793, 302.6060625406731, 335.52924313866026, 311.29025549854435, 433.9337981907367, 337.93607205099806, 363.8047403470037, 387.8297922763754, 346.6056824135844, 406.6052565717842, 347.665886909229, 321.96002631241043, 377.93499057268855, 418.1948896512475, 336.22460979326416, 448.2679571440446, 398.4731426096807, 438.6638623165878, 345.1206481047191, 329.6020787948426, 463.25938999166317, 377.59151276489484, 392.16795335654217, 353.1123956565909, 440.1167891401666, 403.5498663480856, 464.6664465134182, 420.63165125022743, 430.5097643669444, 605.1086747652623, 371.9458827806015, 343.3402162918629, 452.17879899184794, 455.71788626574806, 309.15520508271675, 396.5242935041401, 348.27948706676455, 407.63340691149847, 404.9775739067787, 370.7453712150809, 334.9736827179204, 421.14004686175355, 292.24534531278454, 527.0080737776593, 383.6423319905076, 368.0790074256786, 425.10873723238655, 397.5319573525344, 407.020877002849, 415.35530673761895, 391.0877531694647, 350.30518218342195, 461.49099995914787, 504.7146804597301, 469.299484682494, 476.5138401364, 419.88435901020114, 330.2988502533899, 336.4190088300333, 414.4174191745191, 284.97932503048577, 430.14253284292266, 364.5240215638749, 409.03982113291295, 361.9595677712103, 383.2846646699733, 443.39277045221513, 455.1752575786926, 487.18311610429544, 346.86950496875767, 402.32778835927917, 380.79625747096634, 485.0113194358612, 331.67589710860966, 458.5982302964653, 400.23508020398447, 453.73355217959636, 395.4338328468065, 394.87760652121085, 414.4296139083511, 358.0175065146284, 407.0951196248243, 353.83303284073185, 334.8215945660429, 477.1636894266227, 376.54506445025453, 360.39247562715144, 373.0640149593403, 440.9961835934688, 404.2011179144307, 410.361656867453, 374.27858993713664, 354.30998866384476, 407.9066532414351, 349.28434068327056, 250.54150191532662, 410.4125610474251, 410.6953734859511, 473.81644615795113, 394.0214109491178, 507.1970476267841, 441.60743230201376, 490.4848477142792, 444.26230249359566, 413.45822674225707, 443.3964834077181, 366.12050973275626, 330.6624192195945, 362.5764873097587, 463.1638168169247, 396.08419188244534, 403.42878160444474, 435.14633646271216, 261.86882798471254, 361.3973450747172, 348.49611941678694, 314.75273051659065, 343.90576511656633, 343.993196502496, 400.66530117595664, 352.64390134566486, 328.68798801111495, 259.77527021652816, 356.73276485898504, 332.3727384005979, 461.01816164993687, 420.62939879717067, 419.3770520713039, 433.9295603120454, 330.0034558167961, 327.7743530193881, 342.53581564219604, 376.21995594879667, 371.65292995839945, 449.02513195912144, 376.5037018950309, 470.54151846050655, 467.50580523561763, 354.48798857816314, 364.89503912238183, 407.9124386032444, 385.4464397583938, 391.1001184999622, 411.50488606023316, 436.95797098356144, 409.91813372156355, 433.1000080930961, 352.55509957249336, 432.5261539041976, 407.6633278101424, 421.1945303147323, 351.0156876252578, 355.3981579702078, 387.08649446636315, 437.84810662687875, 375.6580957871405, 357.02644209292214, 330.9645333296783, 385.6002375362614, 422.880891190665, 450.67277082774854, 353.0784055123071, 461.6591035748536, 461.8464519295308, 390.6497809646691, 385.5362759237891, 451.1668593618782, 376.1575016891917, 463.7421326240336, 427.56831654256, 444.6083025103898, 391.20728910686506, 426.95717342949905, 364.79780841806104, 468.928961523846, 289.1320123613492, 424.9080522054645, 463.9020407736346, 353.68473944664447, 503.34400394961204, 424.1516422415106, 383.8792871784598, 510.54945293982024, 334.93280930103776, 469.89328630504457, 382.37713492210423, 430.0361279220544, 337.0657715814241, 352.5398172674332, 439.24773314401995, 343.44814555438137, 358.6822817288761, 425.85693221354984, 449.9685352753883, 416.22621398144145, 385.0712277527564, 384.5896590168698, 316.429949883296, 319.40245849641735, 419.479421039826, 345.34467174587405, 396.5602606617052, 426.6693273501704, 403.847547882484, 383.3190472281451, 343.41017201489456, 413.2845867576767, 456.4863505514302, 411.4953577134237, 391.3309411492511, 433.03319121776207, 357.4738496034918, 432.6418235454732, 344.37197233791846, 392.44190149515464, 382.52525146664357, 343.0141144649026, 427.42099342878856, 495.32869420627145, 304.70473958791786, 396.3028209523575, 473.4692948141825, 450.3462452416746, 398.79708551213486, 382.1660735635341, 455.61179486482206, 576.015678995732, 450.5576835211521, 403.921119787269, 469.28587882861746, 447.9356931755318, 474.54239906512356, 397.4946836868899, 417.1381509956656, 511.76764720463535, 414.3886937782401, 509.5095897685555, 497.1586928189869, 283.03706562750455, 349.410926945964, 400.58000693158215, 422.6997271728096, 368.16732413783416, 483.521981936668, 398.8599791095924, 406.33616160374015, 369.94556193579854, 376.5606413606739, 458.6393132096919, 433.54303249966307, 374.1270689207192, 301.88809961733176, 443.2941067793618, 403.4164172465046, 423.0409078740438, 312.7700247111341, 420.2863145756598, 430.37942383613745, 360.9866140074594, 527.789713090203, 413.56894857914114, 390.7862224055852, 421.0140103833762, 288.50511274321997, 295.4009620645048, 284.9011035080626, 436.46332211358924, 472.9130498733121, 503.7707386507526, 396.56896570176906, 446.8213309869174, 442.46792957778615, 375.68461549914696, 392.33753677452336, 360.0013437735406, 315.097973900938, 457.10796936642043, 368.69362743096286, 406.35037914741685, 560.5867709843571, 494.06588594327314, 381.8341002493135, 391.1969529036473, 431.7552194830462, 473.1573468922496, 356.00370803198945, 387.1201943667748, 376.9389201420435, 267.8301780865595, 418.82776447051333, 438.6382454310049, 384.0874251021363, 417.5395883068643, 339.9857586976849, 433.19253347623453, 381.7795029188401, 402.3781333011997, 369.7939439957345, 409.814915927909, 384.15151601226466, 388.6546175440236, 402.62297283425045, 372.829769961688, 372.41652004151103, 463.78669721323445, 359.529658370499, 348.07083876649807, 517.5209392906756, 435.84813035545966, 419.96584418879286, 420.6115755616883, 355.26062343312293, 436.6107965891813, 409.81399389229057, 388.8700019721882, 410.3710357109849, 339.40938416240743, 343.26915553233215, 323.6211800700019, 353.63213497508224, 324.4962168379123, 290.94026804914864, 458.34839138245826, 411.6893980478257, 345.9799126737471, 481.49886315580835, 365.5787027681385, 470.38158654359125, 323.89331034113076, 433.5261663967004, 345.15353602885665, 411.51356458373164, 405.3087346761271, 332.4621476025272, 399.8771426124976, 430.4004206721114, 297.5974846769641, 424.603519301008, 476.69751106252505, 363.94629277291676, 351.7595372296161, 492.6555017073422, 407.2998824574046, 368.51367076676866, 274.15542049335, 373.08439390507795, 342.55094043344036, 410.31406682926325, 542.0960548869023, 431.37911104464337, 403.0199036064027, 355.80380872760287, 331.991261117603, 356.08289821256733, 395.46351618993805, 453.65168939208814, 346.53248028704814, 446.2554359238867, 373.6322644635634, 407.58603015726175, 334.01683788042305, 451.5338447643816, 398.53211904308426, 319.2782312719449, 365.4248315925784, 407.08306010851373, 400.0663027778378, 326.14285798544785, 402.0090659628717, 377.5458609724996, 400.96186390151513, 327.2896988113153, 436.4867867829564, 437.2603677870626, 381.7263529566638, 410.67189947640145, 382.0040003576427, 391.29917653172544, 342.35295652515487, 288.34380093145165, 363.8885674021962, 427.7238406099191, 391.1256219573256, 401.80222171107084, 429.00701216575874, 424.7435017898754, 406.50470482418984, 373.37465038827804, 399.8150197726679, 427.6920227760162, 320.6589881071472, 363.1077397712705, 401.05146973842056, 490.01078839761266, 416.8180164594719, 397.34007430092373, 360.2863064370427, 270.4167353305931, 421.9378146390623, 316.8594547734995, 426.6654395432895, 315.6849523948477, 424.7337225045693, 422.46233427158757, 331.3772786793174, 391.51315123884643, 423.62639025134365, 256.55480828302575, 306.03414883397016, 379.5504715430516, 471.1308820999752, 408.292243066648, 448.23089077624905, 343.4213928494554, 431.87572910628546, 400.7348950487224, 321.45744535126977, 417.5008514213212, 441.99643617604914, 383.70677131601013, 331.1109366106851, 232.7109566711749, 372.2075593491016, 349.7615736373329, 413.0108128386364, 386.29432909787425, 376.1232266399117, 350.51678620364765, 304.14826254053435, 324.6254874663719, 417.89123509604053, 481.0503375931254, 359.7791406914452, 483.2851704487071, 398.7766282982592, 432.7210052743524, 405.59945186828196, 353.3106100216978, 344.97394376942356, 307.354043710328, 382.1926385930227, 342.1862867440093, 432.5730014625023, 378.25758829890947, 414.9571493217525, 426.1349277984009, 524.3099714217792, 416.24590306501807, 381.54586894529336, 420.1058553890357, 394.5770468362414, 392.682416770776, 359.318920632465, 413.42856175621694, 431.20283102394006, 383.34355067453447, 432.14862188118735, 405.7910145204281, 330.55678846437985, 359.0972541901006, 308.26637458708444, 356.975057279374, 454.5364289671532, 408.3207551511546, 415.30296448147834, 467.11115643782244, 348.9431459554096, 415.18940461380384, 415.10307938683826, 423.9643953774268, 320.6538277121999, 372.17260245513216, 410.43587274557575, 390.4175576283815, 422.41619814830824, 350.3093799703082, 346.02291326547277, 395.0054536670059, 405.1682182121411, 407.58655857546773, 366.5648662675007, 467.0635072554156, 374.5498489194231, 366.2240975010495, 416.53872620582825, 338.98283822894047, 340.0267054164192, 425.91845307918084, 440.35009184379, 437.4899241346318, 441.40948950199066, 375.2429035377328, 410.9050797698747, 379.74811943223335, 429.00310633312444, 382.29483667041256, 334.87319531093743, 410.8798943612255, 497.70804764217934, 429.87038400997, 301.977474658904, 508.07395453654357, 464.2711036331154, 466.8745828276033, 358.1234780522026, 447.81766518955163, 391.28976549872675, 428.0021257227034, 339.8106323476897, 359.1539130260133, 456.99399282345775, 421.7945142209297, 399.510926194799, 410.9057327474459, 247.71348067117796, 368.9323376617233, 375.9943182765529, 348.4277210286865, 420.8580681826389, 410.76959551083803, 371.81854923897237, 478.3443843986011, 390.7852507783918, 386.424527113747, 410.2250216331545, 385.16840575889245, 274.1618220235374, 282.57968648276795, 352.764997358254, 379.4459003498729, 419.60673281046485, 474.6576957740943, 406.0055664472468, 412.24762516063714, 381.83861278767955, 445.5273436885641, 377.1459521357587, 384.3246160079848, 429.19706104142085, 402.90108738193555, 443.5158774910738, 354.5078817055087, 435.34063381180647, 431.86857278713376, 481.2120177306338, 468.94521747406014, 363.2966917010148, 405.6939419652603, 373.13206538474947, 503.9383644189661, 371.23337144034423, 332.2524119993717, 471.0145236142711, 401.2269160763096, 259.14238655944416, 369.66348730842657, 456.4075690699175, 524.443596272635, 310.1627225584475, 425.5750806524048, 402.9224307709511, 342.90704578139724, 347.82617087724503, 448.47432963324394, 415.66207944234526, 504.00301319013255, 354.2966884133199, 469.8376633643168, 411.2142387640644, 352.3750165027451, 444.6760438393104, 394.4624005230383, 285.9385895748355, 355.8128414194536, 407.9824940150582, 460.14323225855276, 552.29388175578, 444.13041476249265, 372.5939492964952, 401.8499191347508, 427.686931486595, 311.0440469309752, 381.8679385249851, 396.453450764195, 465.51293594361977, 332.3268952280865, 438.90477201832346, 333.43280736167503, 432.45438831178853, 426.73791401519327, 476.09962980863526, 319.7392185413381, 443.06160441581085, 327.6455879403991, 431.13169668299946, 382.73463880176143, 415.7398512939006, 445.72422653717194, 333.2228868158464, 443.2562618366975, 302.7936980214308, 481.0453627094981, 320.31956350793547, 527.8879523374363, 395.12775701185404, 460.5478182151508, 402.97528162752366, 412.2920947801417, 382.68045853102205, 460.351281469483, 372.34900664222863, 406.5789404991679, 469.8317096458979, 429.77563394982263, 471.52539827595047, 454.72576502095296, 378.245236795601, 361.0876532978601, 336.81486867233326, 434.95993698320416, 364.75672882524873, 431.56683125414935, 343.43168000050275, 443.6168746769508, 414.69499478113306, 370.15622488078236, 390.5162037357509, 461.5618903291055, 399.18031335035033, 337.34221807085953, 431.2118489740253, 275.88908277575786, 308.80066378733403, 444.7365357853402, 433.8861098872463, 440.4253798292878, 507.895476160089, 345.6294572445884, 428.7526942808628, 394.9905278680446, 367.50650192879056, 519.1292845497521, 436.780095827977, 401.8493942777853, 384.9771957213955, 354.8726481922282, 508.2306023690936, 336.63610531229693, 288.6306911337055, 449.0099240676591, 328.3834713213182, 382.8067675151693, 410.19386077668787, 378.0102518111336, 448.96836264103496, 396.52465113127624, 407.28188787027057, 467.58651115588253, 457.51083987713923, 468.67153828392776, 411.7350573799506, 312.00837163312895, 330.9601064742101, 360.5329892188188, 407.999473820478, 377.34966446635684, 472.6391951887572, 378.402471213621, 347.0436129827259, 550.2956305931228, 411.02534760102253, 385.5384594262962, 462.3968551575496, 388.8230031881448, 460.8415274150349, 362.80888069172187, 370.46963084004847, 404.55208883852714, 492.38940423764933, 306.94543150347533, 525.9586492959108, 417.88307191457284, 403.8774474473811, 305.2728069782696, 374.88422716024724, 394.0770288424041, 417.7118391028925, 425.51296158868064, 341.91712962336163, 391.86990992345034, 366.9626452023697, 491.9360332955793, 299.6456850573022, 447.64784573417813, 362.17173634746723, 391.0020606877131, 342.2647360712325, 318.78703841674854, 350.97039271759513, 439.87766664390745, 478.39638744215205, 372.84194367403734, 348.5242017482317, 359.95164735008046, 401.1521290992911, 261.5723271656323, 368.1596476878205, 476.09386601185145, 380.12078408992227, 415.6703820458976, 413.6287819461734, 393.7389009578274, 370.2988074516117, 337.4109613208915, 318.878214956774, 391.91778857073473, 429.9476831917545, 422.30776361598834, 465.616427943163, 352.8186393773267, 364.25243205425755, 340.9153229955119, 508.259581474423, 420.7512490680814, 377.25064969380736, 386.46263029650197, 373.05577618487155, 312.8697908932343, 350.4169622098992, 420.8086968008704, 474.7264605416874, 338.79844479751705, 359.4333080572191, 380.42295302256565, 385.7343036228699, 378.78665753034016, 398.3099379195869, 382.1123854836619, 290.6158518825088, 301.4415784055614, 410.6052922196472, 444.2644523663476, 407.2471686562085, 422.0917476225292, 420.37067464423893, 442.00873942881924, 375.6591769990081, 402.5153834652185, 491.93456686457506, 426.1390436908219, 473.69121717075626, 402.88522975085056, 371.44425600770194, 364.6713583086053, 534.3158799392761, 337.9011963546072, 390.0496573450546, 382.2212032253986, 410.20847309834846, 414.75647995221124, 413.3535404937066, 426.86619319882965, 432.05385283108035, 464.82019645155236, 424.0962310390312, 368.4347027717845, 318.53546508322813, 427.4286378778697, 453.8914023993869, 474.7060628276102, 439.64322129373153, 307.0650458144159, 528.5446861529431, 355.384492928859, 337.4957082980016, 451.2352757208341, 304.8537515764177, 399.5353410615387, 360.5297129677825, 459.2333029502498, 440.03004667142983, 322.22519370869475, 431.95892036647, 346.4829564346126, 496.0745021704909, 312.2507040997392, 382.46657504450525, 339.48614789644404, 476.6095122681333, 310.4589843594564, 458.5710243673932, 347.6939731655427, 451.61422770735044, 476.69127784808563, 391.94811703797114, 417.5129968889697, 340.5648205600486, 435.37854875075186, 339.7493713776408, 333.70255575622684, 385.45579318436114, 423.1950828521983, 407.0734406741385, 297.7021751359488, 380.7010333189315, 463.89279740853004, 314.55059067729, 366.39423096118503, 483.2109582985137, 545.6391287279605, 472.82590166771644, 469.609968041173, 411.29923250526923, 503.7132456952358, 325.51424001468456, 477.58077293255866, 309.0123394662165, 501.49822750422345, 360.02275075460807, 346.8483748517819, 294.26628026167043, 378.34502158708744, 463.0778347131251, 368.5856011467854, 312.95249820153055, 421.89386947896, 553.7490047809335, 394.44807204571873, 470.70767957538914, 355.9067967709949, 391.90873712276806, 366.3404914919214, 382.6651179955145, 324.6922401608642, 435.21895786177447, 420.44052033566015, 376.3429831049749, 420.566042601125, 429.6286404071206, 343.50435194038863, 442.77652535156267, 374.64534981042397, 478.9606897821017, 398.0723659543713, 354.9930647946996, 424.8857903052143, 349.86260083126894, 447.2531207892543, 363.630072236471, 378.47891115678607, 378.09251248317395, 382.6247131594263, 433.938108160052, 362.0989570626915, 387.3666048995242, 472.52925697070077, 409.6476879772562, 462.37655710306274, 511.20881684239504, 408.60982123751893, 447.1272132052822, 400.18714400983015, 439.4607599017961, 373.7749997187352, 400.54174077704255, 369.44972654754656, 469.7149216815314, 362.57410424611726, 339.90173358002227, 364.11044633774526, 423.16507061191834, 445.1748422926853, 384.8941427383458, 545.5831412558108, 436.7441174047935, 306.47854301160925, 375.27327271372457, 366.35891637427324, 559.2299852456003, 414.7099143245121, 340.82038218913164, 366.1743137386396, 450.4217241718688, 453.3943579398727, 385.6564996280541, 337.74700757842567, 370.02508484916825, 303.4872655196657, 354.4128985551196, 386.69621102123426, 404.26167426740994, 368.01694814484426, 364.9139507292066, 408.1656457798971, 301.6339326874645, 500.42203183821204, 316.00377540561203, 375.02534268066654, 534.6551542507642, 410.2693010475282, 373.3438226329589, 398.5518841075936, 377.14951737231706, 452.64437108306754, 336.5624081627828, 352.0258664726626, 434.91775585529086, 494.1436909486438, 304.05729144654134, 434.1180437340242, 428.12563821399146, 383.4487689216664, 487.13451967256515, 347.35211663784986, 479.0962425691045, 483.63223155852626, 444.56939668151966, 496.8062873068982, 333.26352392756877, 351.7574411834559, 440.1823566686865, 455.6221647886108, 517.5272340646566, 322.95668851543627, 312.20601713548723, 366.21526813839637, 483.3768732439717, 433.2049671939481, 437.51979171338326, 500.50197423378785, 349.47347162760184, 468.56050568509926, 400.48294652389586, 369.61594133596566, 500.7209203960078, 440.4647383701395, 375.8977769094461, 376.30970594818575, 476.8013253145121, 449.1510837688962, 448.90729221950545, 479.3251809179675, 413.794399464074, 419.8998147706151, 396.0233751276909, 433.91699387121366, 422.87143893534034, 399.0103978243771, 421.3936287422599, 412.5274201076743, 405.34395268959133, 468.24983587051435, 454.5451316132461, 336.6250667302046, 453.38615036012834, 482.7547077159297, 285.0524214771915, 412.6657625674492, 417.1443424060509, 451.70349055480466, 396.95306177915353, 334.13159326571594, 422.8420723116944, 359.7490039829492, 465.0226367980272, 420.0130266382237, 378.1764136598823, 339.8898647875459, 434.01572562666763, 415.1692110523041, 405.14093901976963, 434.58439840227413, 386.20699549690556, 399.1069116628133, 449.1218004280164, 397.8735114046568, 454.9183831039413, 529.3221045511585, 401.83885321220686, 345.86631669781366, 402.3473578437829, 439.6154032136407, 327.91390476235614, 392.4728475350466, 379.0944119278766, 467.50698596285844, 401.2650064363119, 429.33316036719236, 372.2559792802709, 376.88545749000406, 413.1753846567706, 366.95068783254806, 352.8581043707863, 391.1974186358354, 412.4547378874856, 424.44075021690236, 428.1385447575505, 434.17647213480996, 474.42425000649456, 426.425540672957, 449.8332621508515, 413.65833209482713, 370.41382002067525, 340.52203698186315, 425.4652653670643, 350.12452098507765, 432.28529907050284, 370.8725447582955, 496.9210013737131, 360.30308681062604, 415.9117004318495, 344.99274828246007, 440.753210752176, 510.25511585816486, 371.96915963903035, 354.58075734795466, 376.6422470412449, 326.5292440612861, 395.9303087769849, 437.45423068045403, 331.9256904619399, 436.83303451887906, 417.5268364690909, 415.8588724740045, 445.7405125041626, 336.500056174855, 360.84529881271834, 363.7440298973652, 444.05221367917244, 452.6207889998223, 412.91868886856435, 483.3456976032949, 515.7254544324868, 330.7320121418785, 371.4461769245531, 387.689196695212, 333.4734045716674, 360.4638536682851, 401.698465641797, 370.24222013325715, 491.0481952261406, 439.1954349422769, 349.1499857983412, 326.26073753272976, 364.70063328150246, 543.8571504930002, 405.174655736037, 397.2615249609516, 293.3487607912534, 354.9824020322351, 493.0283146429677, 404.00918996545533, 509.2973009270361, 387.36161696602943, 439.36566792762943, 411.3022256148763, 394.04563780119605, 334.95794403496166, 501.4996484232708, 453.5371821471919, 514.6630080178157, 392.1767588780548, 428.6367208469846, 403.89670995035476, 477.40027714653644, 332.3962971435837, 445.940423007938, 369.60934615644425, 348.63890591865436, 328.9361706862142, 462.67039179811104, 355.91127504661017, 425.51499203409276, 450.85237181819315, 450.35477335344245, 481.5069055636987, 475.2129361264735, 332.0926311570234, 395.5579281837211, 492.49128507921773, 361.5349622587731, 426.2187716669045, 436.57288926680684, 346.0192822486672, 348.60372938559414, 315.62155846345155, 520.6798597786374, 410.46917115918643, 418.1829205037264, 364.8506302689235, 439.79203723845853, 401.67493534455264, 246.3428816545169, 432.06138677367727, 439.8181819074612, 449.3042700861721, 512.378828864598, 361.34463729046024, 422.58464408946065, 366.7893197666637, 389.59337486448476, 367.9004628939275, 431.46866929419855, 493.6117984167865, 445.97384170767754, 450.43299614083634, 404.6594138292553, 400.53888080522205, 394.2131170223772, 459.1799606315595, 427.6624081272091, 478.4168466416327, 473.1692276538791, 444.18916855042477, 329.5513835152155, 365.53007485800015, 347.89781339733423, 292.7246778199979, 419.5866218591168, 441.2099150916518, 451.4771588761322, 335.25613814111614, 420.16882181292294, 511.5526214683427, 362.89524294791346, 417.948797102246, 463.7870176830864, 362.7322949656806, 418.00850198816016, 378.07344000890026, 475.0686622749821, 401.5098598604977, 385.2178334582081, 320.79753527395167, 329.1653679229161, 359.5603340790118, 479.5850341761136, 440.574221760956, 390.50358070503745, 391.47728762651826, 397.65094424788435, 370.3782214217975, 418.2046151332562, 402.3160555385032, 510.4954650129475, 348.9504801635458, 357.0126793534676, 558.9604779617207, 374.6012026896969, 459.0418607071838, 422.7493664330407, 407.79515905567433, 414.588359454542, 474.9362021413727, 380.50287551896764, 395.18998320152224, 322.6532407144089, 388.2135948254348, 402.12217438546, 425.71422480079735, 413.5830135283623, 383.3070474157788, 460.12354697998865, 387.14332626505865, 300.46830934543044, 409.76079558410794, 386.65104158281514, 365.1299286862073, 394.5253164033504, 352.22288415801813, 511.6911990295697, 442.63901451112326, 415.64915167630363, 467.05048817257193, 331.4193140244903, 407.98762738663277, 386.8611728832409, 373.29294659649975, 407.4035164601029, 327.5707707205311, 400.08685181540454, 403.75410188099045, 316.220958603714, 426.78000189876406, 470.9186896630714, 366.11584185851746, 382.83057150103195, 347.09652057382795, 421.52840733100993, 340.72912582372027, 393.3567707594226, 456.94989410197513, 435.502137936203, 389.57242564663085, 393.50515536119684, 411.89756747824913, 452.2909934276738, 402.0459743615254, 356.45127327274525, 468.70782210335966, 366.29837308649013, 383.35893755539917, 345.899707178686, 521.8083582301924, 444.4121902959757, 430.8304804552149, 382.98152977104127, 410.6433264577567, 343.9838062876515, 390.71070410458555, 424.2178640161001, 324.676012624484, 476.93001356820605, 341.2569853716813, 409.5228136179264, 421.893979196398, 428.9521135849381, 318.9685826142868, 416.68681439332204, 487.76123502066287, 348.260305400488, 369.93361528966227, 351.94842826078104, 375.8474274200913, 388.2506446959183, 335.1555686831914, 393.7981569270285, 370.7356706437111, 412.94377985698964, 408.5532318375717, 408.35499188762105, 508.62023961010647, 431.4845229604621, 483.08368299647765, 521.2041600347513, 475.4043286763482, 369.9587349083464, 316.66582300212434, 354.8092968031357, 572.864611644134, 346.6226308246236, 388.38960493622454, 409.118139976915, 441.0413100549088, 366.29910620051197, 375.34817316885835, 458.62349710043736, 350.4783290159288, 445.53554155822127, 323.0311544606086, 425.8210470301912, 455.7639832587618, 400.5818622825927, 487.7677619632773, 402.2149175718055, 427.8255285696425, 507.02863703948873, 393.8717692099226, 413.4159020070328, 376.8693319962079, 419.03041567199176, 307.34155539092404, 351.83878495914, 360.45306858898056, 310.2833047357882, 440.2461192526518, 408.4726707573792, 321.6751170432054, 388.86309096903307, 390.51757906199515, 373.7854385337458, 423.7095894946298, 428.14272429310387, 430.32422705082644, 376.3641227665019, 434.7589095334239, 383.54827970869843, 325.80095216716, 305.3248159092439, 506.43455776674483, 423.92917850843526, 457.1027920983171, 419.807398036087, 331.36805107104436, 407.9735320316057, 376.5056301492487, 478.70476469800064, 443.67738429817683, 327.8021735232784, 331.0715207897842, 422.9160960850335, 390.55391541471744, 348.2349060073674, 475.9796335599095, 379.227922067656, 355.10460913499566, 378.93965101594983, 359.0127367674502, 318.21751481093975, 494.25828615244984, 410.72507623047994, 352.3031722610117, 421.88085674035324, 492.8140994971547, 367.30751349573717, 443.6112571005303, 456.71614829387795, 432.13980519578706, 415.9668356942568, 403.12607179694703, 317.8302014365255, 336.6758003183503, 302.8199881131572, 516.6678440469261, 427.46094234920963, 408.92356739954795, 377.28659737027846, 462.9418716509016, 477.70464491149403, 426.0237415635084, 378.9177459214138, 378.6735612731574, 428.5707886663627, 354.5091772440248, 362.17283419788384, 387.524727558459, 414.65242385656853, 321.98482204416797, 449.69191645430703, 338.24608166295087, 396.5633757156606, 342.1384200143931, 317.06487608793066, 357.9120278276758, 374.17187591925625, 314.1458598537725, 466.5701234856077, 450.77646388281477, 368.58459740389117, 439.9317194468241, 309.8321199582196, 506.18613180181273, 337.8121345558729, 401.83657837695614, 537.3676642367328, 381.03525797312807, 470.7473313933813, 411.4277757737926, 395.8294466721656, 456.44717165420394, 397.9050953836896, 383.9375509876376, 501.54017364616595, 306.042546588271, 403.9132767075496, 336.76043543034655, 432.94534850100393, 358.185815226965, 465.4701045427188, 394.54963083215506]
thresholds = [328.2305876590024, 400.3896228874757, 476.4360364985171]
display_name = "1% treaty ROI at 5% Discount Rate"
units = ""

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)
    
    # Add label
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {thresh:,.2g}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-roi_discount_5pct.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that 1% treaty ROI at 5% Discount Rate will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
