```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: dFDA Total NPV Cost"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples
samples = [637932469.1570287, 476662192.4529716, 702661547.1798607, 732235280.083641, 400200318.89713573, 450342033.39353895, 613934655.2835362, 557595388.1099057, 594984364.4419421, 496364361.01281023, 722586620.015974, 706839759.4113486, 605763701.6181228, 762488163.6530311, 660849483.9151313, 495692808.2946233, 646850185.3749903, 485111584.91957796, 722438137.4761946, 590727675.6882184, 573700804.4343231, 515224952.9352668, 778412434.1677963, 577484968.1393905, 544213966.9221845, 553274995.689847, 670199640.8543942, 646386627.0505931, 653047639.5171162, 655613704.0355532, 914016865.9513863, 546804495.1847295, 534406798.5786339, 500605903.71817625, 682469082.8361608, 762774488.9416428, 582586914.2328076, 497752303.1832564, 499445728.73888993, 687610404.8358521, 701565819.6939042, 671777412.1454414, 516949347.64166534, 627976743.505977, 612451944.0274179, 626145302.013062, 721338949.7610831, 626811717.5003647, 691845916.6041889, 605967052.0059555, 635778971.9292555, 684738217.8944407, 435475043.2806345, 557181209.0648617, 539277827.2437568, 519941212.3364624, 562584411.292526, 825791684.1258085, 494991050.60349715, 736649337.091279, 414697533.49929535, 555347091.3875805, 618598673.0753704, 678079903.3544557, 696710437.4602649, 709228025.8013151, 553683847.034092, 540216014.7142364, 719237640.1245613, 572900345.8884876, 452933985.7216878, 467123887.2395674, 489273621.44651145, 665111633.412509, 615878822.6998305, 693584051.5099555, 544340786.5844393, 618033925.1457312, 683892779.1713666, 558429368.5459803, 659313301.2754064, 517350946.607204, 551967128.7891335, 549736620.0893328, 460836548.6972751, 663644054.6956294, 539391236.4596612, 598774558.1476084, 662748848.0365331, 657850587.8197263, 689819417.0434512, 584542647.8062011, 544807465.0026957, 586925300.8830494, 414296730.9363681, 436423425.59746313, 448344675.8669046, 481096138.85700506, 651215521.9847728, 490757128.0172157, 550162745.4432448, 791468254.2033465, 552779951.9324205, 700693360.352132, 487774300.9793911, 571148113.0781279, 486043751.23125255, 554848069.9491642, 716487298.9370855, 410724365.1891602, 656125989.2818626, 628736063.5284762, 525005115.58116174, 436523132.04250896, 606565065.0955886, 532412840.84356415, 628046842.2760015, 599990382.9380169, 845153991.6273758, 566964846.2575152, 478367787.628041, 620818304.1733614, 626322884.5082479, 801828934.6492119, 715680306.0663308, 645186355.3216712, 820143608.2170141, 461543562.557891, 519842786.4657246, 488519049.545802, 548775789.1640276, 443132112.8834194, 685311960.3989224, 569074074.4988582, 434189354.4954425, 479189146.78767973, 639150219.6520524, 716148425.5905747, 907853441.229763, 914016865.9513863, 653285093.6856569, 481900298.43653977, 396320582.5257496, 632835138.8953173, 500696117.1360569, 545745855.2189074, 522967338.67848116, 579207141.834311, 752424534.2054161, 617834183.2682528, 576971346.3737216, 477109590.8740063, 415433492.8752273, 537418748.0665258, 590234067.0405188, 874285036.2898939, 614258685.5052657, 738963200.33671, 535908297.36435217, 461925594.6881671, 484456799.23738885, 510303290.96138346, 914016865.9513863, 499780718.73155105, 716204744.3677171, 491028541.547623, 730808841.0115473, 649126056.0361767, 577221126.6347167, 591902151.0075855, 518151794.5931258, 657785128.6446825, 541079316.1382687, 457874516.8506615, 452713155.2213229, 619918920.6322383, 841004581.4728932, 618228478.0712552, 581994879.5512359, 635325219.8615675, 792631917.6607108, 626239498.4015372, 546270053.3945447, 759031107.1931416, 655320309.5488188, 833135532.2542231, 621351311.4529333, 457987282.05272484, 443951358.2180083, 854213526.5081041, 867800070.2407908, 574365578.4574759, 549563964.9913468, 819813018.7664819, 469787036.71731365, 491901716.0505403, 686527935.4881241, 548205780.6706222, 596492528.5202141, 576370390.9627713, 642492895.7496481, 810272726.0207841, 608996522.0190451, 686619043.5841808, 398057502.47862697, 590882308.9682047, 497420911.4607996, 458548775.21375185, 493671383.25814736, 555438761.5582919, 728329539.5481079, 447986145.39401793, 601133273.3763149, 537667858.7002957, 556215778.4516461, 742178266.0886872, 671043887.1413673, 798048185.0436223, 577487947.4505858, 513551586.2966535, 568872313.2397025, 629385354.2544436, 620454736.8638965, 472098706.7623755, 608983964.4668622, 627441550.1688802, 914016865.9513863, 890052695.1092924, 496342914.22224706, 561093846.4514939, 434882497.2676643, 525396953.7631045, 639440044.3151488, 775600102.0434271, 509876901.66305125, 518223798.5643024, 396000444.24039245, 576467462.2458358, 474351485.1853471, 532418988.2806456, 493809553.2347841, 585077935.3321147, 408100063.1478292, 434543213.9249022, 914016865.9513863, 451783933.0452071, 470832427.37847066, 884227709.4990549, 914016865.9513863, 463266171.1463671, 551346025.6945505, 643047650.6048797, 868697734.5070556, 482180295.885154, 566237588.1120152, 706770121.1299012, 656174702.8611662, 550402032.2468055, 580082558.0015333, 443303997.9019904, 567110095.513854, 563652887.0691347, 627977909.7244918, 529440518.7035124, 661427034.8758578, 743782799.8949516, 617617353.0094757, 644471338.0041597, 604075406.3425963, 597166054.6892278, 510709040.0055637, 639563331.3275294, 584694565.5371424, 914016865.9513863, 839958680.6060095, 649252105.694295, 506137301.4304505, 469241249.0393582, 773129403.7249625, 632154727.9951515, 662662170.6878839, 409191410.73657095, 730153876.3003168, 658976765.2023454, 469442653.15502095, 539143195.9193547, 632287397.5544819, 603985252.4908935, 560511924.2848234, 583909143.2916707, 565416001.6350374, 617233648.5685971, 821601794.3569249, 388255070.9193959, 567272790.6750854, 620446540.7815979, 636727214.3520837, 550908202.3109881, 408182723.52872723, 641160012.6965814, 868494024.6878488, 428299619.3496991, 720150973.8872075, 556113067.5180697, 589269992.2932619, 475330412.3735325, 555398709.8021382, 791608401.5010228, 677555659.3727235, 869210396.0428963, 770830351.6047856, 656789655.4509815, 870861955.4329702, 656776338.5869595, 714575689.0348959, 559977700.6822784, 605831345.4098533, 513386784.95733523, 740060883.7057246, 462590543.3266076, 707538793.3537526, 572981467.8794569, 769800383.1461014, 702725207.6730955, 881869395.3332677, 699669910.694716, 424772467.46592396, 588551482.7580637, 463221958.45576406, 533708107.33904356, 828714438.5144694, 685666135.2354861, 513219212.6672416, 479382463.4464283, 601413569.8729806, 458772623.7032521, 516319013.61644197, 638941801.4777007, 767144458.2917738, 681401824.0759904, 393025248.49104184, 637884017.733988, 606552451.400159, 653211568.0736717, 847803953.9211315, 397778337.57999384, 525351823.6214297, 678768912.4441134, 423894371.6638459, 822396533.7908535, 646794910.2779896, 717463052.174413, 527651880.71823704, 712374923.6937801, 752831186.9320614, 628074319.3993098, 628281703.8259062, 633196300.1231763, 495257725.9373315, 578361897.1345968, 577736224.7522564, 648906959.5476701, 741706239.8162398, 474750215.57531023, 581191798.2173088, 823379459.9078672, 508276962.97565377, 499687237.9519364, 623925538.8401766, 717121037.4742699, 598635949.0625414, 796588972.6020856, 719053323.8913097, 716722248.2583361, 673376010.3672987, 914016865.9513863, 571182263.757103, 399060363.3001045, 845607977.7570004, 540760943.5335515, 611284036.6174712, 793242303.1556354, 422001311.78018093, 455298780.50095415, 422091041.0385035, 502740369.8564329, 656867968.1251773, 669020559.0709465, 634010966.1897467, 439682408.32952523, 392643025.5401608, 604232327.4381528, 539113844.1273298, 659686571.1747217, 695310955.7949376, 615320441.0908186, 704138295.0675294, 627575277.8391634, 669873572.1608818, 512580968.061201, 574354100.6790872, 623178010.7748818, 713420700.3346195, 548308432.6287125, 668582551.5116489, 563719920.6790841, 582133171.7770243, 714812945.2229043, 399286598.8399762, 450899134.2496329, 433120505.903884, 392167425.1296215, 515522577.92098606, 702506562.5758958, 561397856.5198848, 623315008.5277333, 756226061.1074369, 796368796.1511586, 588272838.5013281, 800855259.8842089, 609200085.8845892, 498049864.2628174, 524976629.6026741, 433275223.50051665, 492604902.14403385, 552570017.5328603, 710804284.9141372, 867255035.180298, 442604936.3947301, 650235478.6550343, 476604382.98878676, 661880143.9236357, 580426697.8344126, 402943817.93861526, 730289827.2771239, 523772115.5307821, 531904563.3544623, 473597984.85484385, 518208432.89204276, 655197282.1152966, 573156191.4148401, 641252665.9239709, 645893226.004765, 795156335.946841, 554396951.902211, 433620601.27911735, 752627265.5275269, 555756077.8229803, 760399298.1801312, 648904602.9289207, 580420296.9692005, 644055034.7566798, 901009449.5121837, 914016865.9513863, 606203806.588551, 618255145.4966166, 754100651.1894472, 497159002.7506566, 641865814.6760138, 593816848.5393316, 639204866.6214678, 498484879.43034947, 423162978.6686893, 397570617.4373914, 468736018.35595244, 540646596.5982215, 560387980.8524318, 898959922.1641922, 758982490.0117638, 484774477.80483663, 643906005.4472872, 546725908.3499167, 561461156.977891, 621633054.2840555, 682941546.4497125, 554820965.6215184, 752077246.6342857, 466249250.6820158, 597976220.0901586, 914016865.9513863, 626741632.1982495, 814808170.3746803, 609120001.6378714, 677279797.3071793, 589850302.7277926, 575500993.7664444, 504339178.3866206, 655539845.2195415, 496526432.0484868, 689849351.7899549, 755581697.6241606, 646539021.3698134, 561231840.2395784, 658911795.9457337, 558510883.952602, 731438948.326004, 402916147.88646305, 555260159.7696913, 399335283.03737426, 431914285.46929896, 802642382.7878007, 725064649.8031187, 510939024.873907, 431218567.6016842, 388255070.9193959, 530799715.47017515, 914016865.9513863, 656191518.1854296, 528953706.98600984, 660501531.3143778, 425793259.36279833, 559886393.623107, 610171582.6534969, 586113909.452006, 708837326.6348765, 643478529.4506048, 690259444.8523533, 514394698.3834195, 725478365.4833373, 850148004.8846333, 483928845.5173172, 492651673.3154604, 797768886.9914324, 572895421.1008214, 809629618.1215155, 542540889.6188896, 818675898.7895042, 614419997.2052511, 631535538.8248097, 838386389.8400979, 552120670.39074, 486981871.2182399, 541832551.1828115, 658678745.703213, 425350747.23272485, 685656782.5680096, 531343394.89457786, 765897704.2167733, 390951353.83488953, 503565713.26224625, 414374468.67445564, 499256576.46793, 630091034.7165667, 574402003.3888791, 565244442.4817295, 576902566.2603736, 624071909.3857187, 479920893.18363935, 696049514.8275175, 689412821.3853968, 649138295.8049083, 673728980.295886, 636785746.4521995, 913125130.6515787, 585987705.8073684, 558703357.7981385, 507183487.4362482, 477460240.59191644, 456007042.5546712, 492534096.10424966, 588076194.6408913, 642036267.0673025, 603811838.1949003, 505865607.62119514, 725851190.7944417, 700981663.1172786, 576844621.37882, 518361971.5383463, 672545981.8762827, 621989986.8714751, 436327506.43518394, 588420472.233657, 632056966.6912903, 491372549.46261346, 622242153.6836009, 435695193.15803444, 797838411.7404783, 782714121.4897927, 565349837.0309975, 646107854.2094305, 390639763.182153, 464796067.0810355, 560316652.5895255, 473353790.4106457, 697189489.0233865, 907938550.9296051, 462759824.31577873, 498042830.5429759, 628424388.6468554, 846867665.9183012, 458195153.653672, 630278228.5519272, 881963854.3493834, 417501212.1030632, 452406145.4726435, 544771066.6312501, 533441172.3707154, 712195381.242969, 629271152.8491606, 406687638.8327936, 667748560.8653005, 526898313.0148144, 787225490.2815456, 521214816.12046784, 520196190.8793632, 671482868.422472, 704564941.0013243, 658074292.8174042, 414452629.5519248, 671032102.5965908, 477248710.1615269, 628400921.9843688, 438639012.99576515, 657820775.2648113, 501384637.9896518, 452252755.3845632, 697102364.1615392, 629269079.5629354, 522754332.78841615, 817989506.6726565, 542762363.3559053, 601325656.0133666, 633000062.8517468, 522110278.6953641, 661369355.8010842, 531956192.0839889, 546185877.1180744, 802430079.2119, 476600034.563913, 390583004.2893458, 846834752.9847438, 914016865.9513863, 546940285.172742, 400510791.8536999, 558291725.5754335, 561234976.4577734, 573071786.3272173, 469141984.44960517, 677101258.265711, 669066910.4714963, 431975586.73455876, 694895426.6812654, 913911728.7873018, 619834588.2051758, 555053482.2725961, 579054966.0708762, 682362154.27982, 410426374.8882041, 618818316.6750998, 548697997.3387074, 885814329.6440525, 575031539.4840103, 857362205.0649133, 470123523.6925074, 678232360.069538, 639966386.5203495, 494646246.2216754, 620565408.8009822, 776722147.7140554, 556683860.5484049, 413881655.6947113, 594886141.8602982, 491082172.82127345, 554450446.999408, 586687509.7800426, 412656363.3033035, 420778425.8623153, 662938574.1552193, 533194971.07069296, 388255070.9193959, 707921495.7564054, 633474541.6030644, 511559987.04936814, 448915075.1952883, 715788431.6602523, 644135288.9619288, 914016865.9513863, 654104142.7232116, 649513490.1345975, 575935192.1157331, 712840390.0362861, 683817869.6850945, 783355263.419104, 533356271.13297534, 543379643.6713831, 538258488.6269073, 708836650.2383146, 826406904.8594028, 540627240.5142869, 544633294.0766412, 639228288.0831137, 566178235.912681, 734061940.639238, 393832826.0719669, 499205133.37479395, 504018664.5712349, 392435358.73056936, 484611989.5740881, 489729257.05652916, 571684733.0538372, 760131099.5138596, 566264243.4598906, 477610145.84958255, 589828396.0471704, 749686980.4681026, 483320147.09672, 490215593.78504336, 674023467.9669338, 569158762.9638028, 687147159.137635, 595391315.2139325, 695267237.5242673, 477169095.736848, 595592953.3016852, 570498285.4892737, 458839138.7995757, 425560955.1394044, 692872106.6954813, 553416644.0689994, 478493954.3675636, 584834958.8457336, 762616775.3604462, 393240266.28964335, 431766697.2255158, 488909713.3889264, 819765818.3656182, 634879238.7714777, 705236081.6582109, 466428806.30734813, 468517563.8648827, 658033539.0185518, 604746073.4779778, 672591318.9265105, 573351675.1954815, 634267982.4164095, 617977576.741405, 706835997.0919526, 711332130.0769712, 420394587.1685013, 393925398.09513277, 742015327.8001869, 772556494.8032994, 478665787.0475946, 402210682.3614876, 610113037.0603414, 730692398.0462046, 878542045.6408703, 667877016.3576038, 550931828.8274293, 492071885.5273373, 598639223.7357843, 559650875.0899253, 479242218.42259455, 913847733.5829073, 876755440.621253, 763946060.3069687, 489125434.6301676, 718776656.149339, 685977318.0281792, 657282384.2148707, 783005376.091704, 685344681.3470807, 701073107.5925679, 685572845.4600976, 642941129.642296, 405980749.6296731, 608077907.7650206, 529341316.47570896, 452526532.06499934, 859956918.5407441, 868739949.0161668, 801834678.5209541, 631122836.8053396, 800341103.3345485, 598717331.0137097, 623991964.4717348, 471170606.3259336, 650822731.8301333, 605022943.2575504, 450295930.9589045, 590564929.8827602, 586923856.5981302, 878537243.2324588, 724911887.1487317, 598638464.2952515, 630244232.6962988, 602905525.3638325, 571460590.2951192, 472299302.6099796, 577920410.4219303, 508000600.01723003, 455430142.27703524, 667142418.8491383, 650015202.6398785, 405728000.6631315, 581484678.8847156, 741043361.0801336, 751322796.993134, 745902304.2657127, 602213382.2265141, 497225330.3626759, 472169206.1994955, 643472904.4478819, 648328467.7826362, 789428486.384583, 757993224.9773145, 580283045.5394435, 456033310.7143601, 557249394.0755365, 625947508.384675, 571563492.6964859, 526857756.27267873, 630804318.9202945, 535367134.8977724, 521160770.1836045, 638864701.503408, 547328811.8690033, 629604736.5850053, 633589122.4916703, 466502769.78314054, 538009164.6726053, 815614962.6984131, 464219275.6506436, 396644875.7744763, 402165971.4127402, 600935043.1774529, 601170513.4117439, 582124505.0672681, 777003703.3418518, 388255070.9193959, 650673545.181586, 837790092.0642724, 467681457.7505934, 549966769.9464848, 507253349.1467787, 491942320.85320044, 556385905.2456297, 813796183.1226145, 884296429.6452788, 555220226.1778228, 894199794.2141764, 601777969.036552, 872251586.1598458, 585200186.196751, 614362995.5887125, 646390888.3713896, 914016865.9513863, 718194916.0829868, 512293241.4740366, 736764291.6266041, 552113244.6233797, 537018001.1904117, 727177264.7840189, 601192446.5440085, 634327412.383676, 598968121.5193189, 642354815.1399348, 654781979.773854, 400507969.0582441, 689997069.489321, 482685934.54627585, 436878677.2197826, 589642189.6350749, 608125352.3383764, 513822783.60033375, 715047481.6229278, 446457204.0831542, 546741843.253433, 526061457.66460454, 591155320.0930802, 634367069.1236577, 479987763.93074936, 698685661.7834896, 605366183.5379077, 401498525.3625971, 400035444.2735311, 595562661.7880509, 569228932.6417933, 583917769.0973641, 593544087.9068804, 627078687.9691145, 733361189.3338263, 469374089.9014268, 463225530.89900875, 471185664.0404564, 635751029.7796477, 782204540.8116481, 543858896.94193, 388833942.3890108, 412804690.82128143, 498520748.0440285, 529165047.33042055, 546570669.6532873, 602170034.12142, 558139005.8742448, 749713968.8201382, 515773660.11031747, 495367974.4994467, 662480037.5413723, 428134461.9520196, 649793572.0419118, 610578534.7214053, 578372701.7527987, 842681960.8110881, 521822816.91580456, 914016865.9513863, 568678448.6336812, 452803497.917959, 606274565.3546546, 472932275.079363, 507378231.3677411, 650828657.4407396, 673590022.4941173, 521827311.12246597, 739711280.2759266, 767509876.9139403, 815354012.892107, 669778984.0011365, 802566910.5157363, 401745227.9585173, 557394343.0517678, 494865142.03476405, 612789261.5357707, 527594077.7047109, 576031329.7390994, 890834151.3965062, 575586791.0033519, 653197694.0166827, 567836285.658266, 607036457.5168654, 597934435.1424031, 658106353.2366983, 768809350.5253706, 853558888.440536, 638610912.3696542, 678568868.8059154, 465348504.09315896, 585888317.3881271, 732191572.9510541, 720485348.373348, 625185169.1604881, 723683705.4766166, 664190218.4613447, 774667478.6283512, 635812019.0025835, 552847721.2578332, 642251510.4854004, 388255070.9193959, 648835477.9798112, 388255070.9193959, 411067603.09248555, 658598014.4442334, 662286706.0257275, 464184152.36662996, 511756531.6494323, 803806005.3971264, 537684089.9504898, 914016865.9513863, 596906678.1073439, 652383039.2928511, 847926218.0021055, 614358905.7246652, 480565151.110821, 583120037.1094694, 592563485.8440481, 444280132.5379006, 564943829.0872726, 508430747.5785217, 729666231.1790996, 601652155.8661964, 561652002.5240825, 583568328.7643664, 626747376.13607, 682592622.4846509, 480839236.2711824, 476496627.8797865, 758766199.3679407, 546103198.1024808, 439294364.4408847, 657462973.9420309, 660256640.7446209, 428591581.90456635, 627612058.5354125, 700399804.2707715, 647640999.3780277, 684841154.2854779, 440492383.7901313, 641583364.0301008, 559244082.4214681, 537828591.5304826, 721202376.4228842, 822989997.7324766, 878077965.7941606, 794147356.7979722, 583119186.5123155, 644606008.0989664, 705160483.9093721, 613048624.3121102, 614323890.6878312, 713919745.461925, 589530828.7874749, 509854463.6146792, 545850440.2123395, 685127642.1324878, 597542706.4314064, 642860090.4191946, 690521901.4415457, 550558864.8428744, 703545366.9579244, 648266986.1301914, 456962164.1219287, 816416431.4175537, 535740027.8197698, 417199648.25594056, 476139982.86756957, 478622011.61003876, 603946830.3970892, 562741934.772439, 555112813.3891137, 683020159.2626028, 642813456.7010605, 639501440.5610106, 652636587.8270259, 682492056.093251, 396828657.37408984, 551801547.2075617, 395312442.756932, 601841035.3290617, 596555743.675683, 749095174.8222781, 772541297.1836362, 623988957.6056676, 535784572.62648726, 663383474.3547522, 532594596.59085715, 596974894.197262, 739507763.3920898, 529160178.6340554, 711127061.0382471, 691619101.0100696, 485541729.52347183, 737547027.4889939, 694800447.5443631, 610495514.0873964, 506217777.56865394, 495702092.56276333, 531471074.22332484, 671695879.1803379, 485454072.0141403, 656565499.5683274, 456275443.28833324, 571317602.6659839, 611518266.1939147, 914016865.9513863, 443071691.6123198, 821694937.9591005, 616869802.2008768, 652826707.941515, 612672649.5054758, 657593287.0351661, 577590665.2084048, 818499148.684622, 540904904.0549434, 763314369.9037604, 519323122.3176106, 589406994.5785087, 473371272.32745194, 659062977.4690108, 816916201.2045217, 587225868.1718823, 572207726.4658004, 469017099.2328166, 568202743.5468137, 422867338.4768696, 489971039.3615885, 627245401.803355, 794872071.9616988, 914016865.9513863, 525866452.42028415, 815176884.4453254, 629556706.49893, 577895888.78546, 655865833.2825234, 605223706.9900849, 611617425.2519108, 546577239.4883189, 441080481.092541, 427394807.36840093, 688005933.3619998, 562394497.5476372, 524784575.002629, 598257111.3321577, 709471833.424754, 620964786.6696193, 518009530.6887231, 779046089.1409714, 841021776.2055035, 664736215.6316398, 737510141.4320444, 781697873.9568386, 762960958.9918984, 682190905.1768999, 679864876.4614146, 668364178.8309696, 470776115.60844016, 695125464.238271, 445140143.71926385, 502689919.2721219, 792213104.8300169, 716473630.2983935, 824441577.8170457, 563007404.5422902, 465208968.1576483, 566831957.8950586, 610509463.9499607, 607467612.0362781, 763553778.2770003, 552180507.98868, 644510190.2535965, 481995418.3426045, 658390812.6834818, 597557635.3698994, 507591832.76304066, 567398322.0289998, 573786187.4597834, 563192816.0391167, 874773158.1990005, 584547650.1922798, 566407183.8607897, 397050925.0380523, 491957103.9639387, 564057883.041108, 514675615.9982859, 805755311.9351044, 576183675.4879563, 789619109.7486153, 605195914.5824943, 601993417.1118011, 585771534.230184, 597646717.7779826, 866883549.7997067, 392450439.7459596, 399103068.053221, 530837062.78281796, 599038580.9791007, 693526764.6099601, 661649159.7711529, 549437900.3701062, 744804218.3415123, 746607702.8430498, 621462229.6175818, 735751942.7137213, 633512378.4482384, 528734735.34418315, 694687537.743566, 611646248.7466071, 597328584.9187691, 821862326.7096608, 389829799.47692835, 439214243.75398743, 461712832.0630479, 551942391.2306625, 565093705.506733, 430768401.0047574, 482357821.9858651, 495526449.40251005, 914016865.9513863, 879139448.3441017, 546172727.2359562, 551903798.8905778, 465515933.3533056, 401141377.0531338, 582216703.7441752, 481033066.98927456, 586272747.017347, 422189063.37601066, 506256059.52835715, 616707307.962415, 646493915.0717447, 653719000.3014574, 448559423.50408006, 718724661.013281, 502079005.0265105, 684971310.7759371, 595779657.8015933, 443160780.57278705, 557600812.6140933, 646375371.0708146, 682023217.703959, 579182409.5751482, 832417056.8656061, 742943676.148309, 564843185.5413353, 702611361.9731519, 898449653.848248, 902421728.3742377, 457637108.5400819, 488523582.84505606, 823998261.2320244, 474776447.04842955, 448360067.6109598, 537431999.1736472, 654109547.3628879, 584047309.4433326, 518626283.4803425, 515975411.99173194, 511730470.84813833, 493526229.55337876, 914016865.9513863, 636936662.8976218, 723741004.1678011, 537096294.5748081, 573564749.3514526, 511595552.587672, 388255070.9193959, 443005126.1899872, 404068432.2269938, 393873745.6600547, 460884537.6177583, 795897286.1659633, 591431017.8472788, 789982201.1271267, 652799909.9346528, 707570780.9349391, 491244575.94776136, 668986198.0704801, 699357376.0217679, 527000123.20668983, 674168370.6866431, 675140746.6283201, 530103453.4056102, 468189575.05999076, 462007201.25092, 608458235.2878047, 641023026.245805, 502915829.80068636, 600606276.8574222, 675777717.0043545, 682796383.5143254, 836054779.053318, 787658221.7210413, 480674750.4595423, 860287123.1044018, 532241674.8075523, 748988046.5633711, 606020588.4945797, 546125388.2654734, 404230805.7072085, 575356702.3585961, 425938548.25412875, 736492935.5486102, 829715323.3579106, 502438209.63136864, 637552765.88965, 510284996.0588408, 521113493.9086349, 706334558.8312688, 592187588.826971, 870252373.2330089, 537893594.0651877, 741627761.3280563, 609898636.1049583, 709601962.2170436, 541997735.6418029, 590774678.7206292, 582391042.4733682, 498194607.86612093, 689325461.4526124, 687559150.4881396, 679158795.0722404, 833354184.5973978, 817664142.1309973, 550546548.2612529, 647453702.2386451, 521665299.0982602, 600185910.197584, 524368467.5851092, 848514301.6917517, 646142007.3510711, 569591540.0992178, 773544638.1203017, 395512474.45066404, 398832064.19120616, 709611294.0954578, 605033765.7061849, 630470939.3148335, 447985816.85039127, 594155352.1349617, 908874081.8195616, 713988871.1302137, 619531827.9729657, 542950418.3779507, 548209614.6641262, 396380518.1198648, 631454986.203691, 717291794.2326825, 424443311.23146415, 517408016.26976323, 464683610.8242104, 484432193.6323496, 604118131.790046, 397327756.1137502, 682216238.1486695, 703180375.1164706, 565523212.277446, 389243955.0981934, 481182470.94705284, 780163615.6467308, 388255070.9193959, 553828059.8882793, 462420497.7811166, 710956168.8691351, 515874630.2988606, 651805917.3856237, 675034283.3986461, 884127842.0594695, 571457127.3950574, 647873827.8780766, 432851333.44904625, 773007106.1264515, 506416854.7547237, 528818252.5761361, 594282339.4988643, 425615673.2811446, 627515236.235314, 736519615.2047514, 636304937.3021264, 423224384.33944905, 581342950.1861973, 701379446.6092851, 401807495.71755445, 473083854.4686754, 722139486.7080281, 633162284.7894135, 652939898.9262486, 887515455.9503317, 660999003.6862192, 688698949.8075119, 914016865.9513863, 570113307.9317769, 502332428.0350127, 655183923.4270849, 656776035.3801177, 532733371.8084384, 477446343.5271256, 914016865.9513863, 640999902.1301715, 509523314.8000991, 728333924.1180506, 583193638.7804549, 565305224.2153866, 674567909.3148812, 451347689.70315, 644593017.2440746, 895364773.0724232, 660658709.3303633, 550395348.5658154, 535002091.1927855, 546339580.4917047, 565172767.1196054, 550205195.8066326, 728394126.1559948, 410200882.3509742, 719865561.5462964, 549981071.1358172, 648000733.7706962, 467761795.33023834, 796532037.9856046, 782321202.8189569, 735262730.9584079, 430075790.382589, 714751259.3890467, 651933263.2548703, 421726128.43494, 594018380.0699955, 646259175.0341877, 673662055.1005895, 620547282.0428433, 636070141.1112602, 821979611.1904707, 779002319.2286404, 388255070.9193959, 557450880.3650228, 576219486.6217873, 408562600.03651536, 609471707.0534947, 782851270.1197606, 471875816.5678444, 642329444.1012294, 489658451.3276006, 516232677.8066429, 822654282.7308396, 530907584.10575557, 660090991.1004122, 401957695.39789724, 887927593.3945571, 680499840.0359442, 573994644.9568831, 676512122.449919, 439963116.65357894, 771686621.2648265, 556660567.5059481, 571317487.4321377, 536796301.0488831, 526543053.07002646, 694213773.1893625, 631217719.24138, 687782684.0694026, 596017838.9296398, 667428591.3528576, 545333068.9047476, 914016865.9513863, 425150752.34307677, 784922073.9821168, 803346969.2159907, 496459561.9411721, 914016865.9513863, 741009435.6694092, 737106479.9947089, 600793367.7513463, 569690676.3818213, 570656724.0762548, 649911763.0458407, 809166971.1274805, 621092718.7007525, 490123332.5511997, 714024086.5791286, 729158943.0815618, 688217004.1353929, 701907390.651996, 563098470.5096883, 488263693.62294877, 494737761.2453089, 418977366.4696964, 628628805.0502119, 586450901.4552591, 542840555.2885151, 388255070.9193959, 455726022.88067234, 761430433.3103341, 517048347.3634368, 645706989.4254113, 441790385.4760358, 815779258.409345, 578800939.7080009, 635905927.0279826, 914016865.9513863, 829651870.0367594, 558766035.095301, 525110903.10685396, 556472368.9435418, 666950996.6948425, 583689490.6999234, 548129866.4169711, 820833883.3718338, 582553776.4774921, 914016865.9513863, 609017334.9787688, 876776976.9657426, 645249073.4895034, 735800290.7987889, 510371299.71725243, 496287439.47295624, 659732367.4919953, 739895480.6412935, 602388759.2694213, 451884673.1646671, 444711802.96289897, 438315901.696473, 407288562.6496718, 611496739.4843359, 762124883.121763, 595421128.5566764, 393655724.6158514, 572967881.5594565, 576450835.3009081, 914016865.9513863, 435476732.37361383, 548672591.8584776, 864452911.358386, 658342432.9461906, 674720067.0203302, 612173023.6407158, 641430850.9307026, 706811801.9011967, 501071056.9359295, 722376770.9116626, 443485791.7208705, 641211791.0235486, 620746351.9066442, 522492015.05258715, 594225988.0428606, 521785197.2482929, 473398062.72092235, 553097419.2434258, 470098272.2981272, 640437892.462606, 465427044.58497393, 696823818.3708043, 462272432.4341464, 528183693.40498364, 521551962.87299025, 795930268.5618918, 641479023.9251443, 570369237.5633305, 665336444.2287111, 396844746.5241941, 591598026.4277178, 907971302.345473, 614534643.5294598, 606010938.8738582, 672502303.8481402, 725130732.9836912, 399191254.0431216, 414746332.3364121, 625006507.0540326, 511448959.9516165, 793668186.41594, 557724490.396661, 400561335.5923482, 453687401.37696767, 388255070.9193959, 567607888.3574052, 573263061.9740936, 544670004.7088633, 754532357.8756979, 774367384.4894032, 575503383.4205366, 396264908.047649, 682661800.5081543, 673557621.0281603, 638579276.447052, 738761342.3057982, 463942942.5484777, 909665018.4475584, 485054291.17464113, 702474425.2955734, 414295541.09455824, 488128778.271608, 829639010.323961, 564323666.7610704, 716427400.7180083, 628629728.6285973, 583723141.6143817, 802640310.1398841, 567296328.2248542, 406215416.5457951, 501749661.6068922, 672949124.6654241, 650613626.7796593, 425231073.17938507, 510400997.116086, 526420985.71919155, 551678226.1210021, 443206275.7240547, 521126324.42064077, 509929200.81505275, 705881116.0030637, 711658141.7109436, 578577327.6525393, 548510641.2663512, 615544954.8633277, 500302028.7007022, 465755198.0308666, 487076932.30536115, 520399369.3714048, 464079078.2424979, 618505682.0706441, 699509259.1243885, 423389348.9366224, 600416669.4532276, 569356208.3930846, 643041117.0929914, 595482697.0397588, 435810647.01436067, 454240525.9225663, 600975898.059483, 746378706.6097469, 394607252.99797547, 643629400.8283148, 772874406.6556418, 577673199.2026746, 672804802.4327469, 512759172.82031906, 581903068.7112505, 420299764.69170755, 391951207.6959543, 732584883.9941685, 482374867.5359838, 541015488.8836358, 442196631.90832764, 439948795.71325445, 575073297.2642758, 509822398.0669787, 648144497.9333012, 658707945.9786301, 640167507.3828914, 628854000.7046628, 840763235.7043861, 473819519.7769135, 590086663.2253278, 763389740.2839813, 785535630.9778159, 438826303.0982827, 558065330.6041205, 801643469.748034, 666687990.986054, 622973639.3389138, 569634062.5807576, 549490889.0707122, 635654889.570269, 565367384.7160914, 591669195.460542, 607416257.7201155, 515544127.9790814, 670173512.7031484, 914016865.9513863, 406522052.21124494, 640606618.2246304, 506451833.3108449, 676784431.1550465, 603212080.8358902, 704401224.3702348, 770511878.6838529, 622589960.3870327, 763284193.3090985, 391952122.06527615, 843079877.8495541, 647735880.716876, 754362896.1918254, 458443225.24331236, 498765660.7979181, 616347954.1280942, 594953834.4629486, 634945528.377066, 755455226.5387369, 407485404.09677666, 737535022.3607209, 598228100.7269409, 571353107.6330278, 434160300.6331135, 665961248.159864, 390556654.9538548, 687282656.2482262, 432190822.8102053, 604115026.3724743, 581927961.6774685, 769515109.3364537, 574473151.9903718, 513752378.68793285, 535060362.93987703, 786958407.7444903, 670779361.9105567, 549273119.3690677, 567322444.5480679, 425220127.860886, 649622076.6655779, 407928714.43779683, 702866551.0972962, 614038628.6592298, 914016865.9513863, 470490845.99137557, 584013714.966511, 878641854.2087917, 773170770.4314556, 513521604.1522426, 626862251.6162041, 597413982.3807707, 634792380.5911045, 513247014.31906784, 585705013.4396911, 422386027.08786225, 614904686.8452944, 658348475.2210317, 568433479.2816803, 420833789.7574927, 739892050.0831304, 646257850.8625124, 510216052.18471134, 561919292.8286031, 431389905.91508484, 478169605.9136384, 531453940.5832727, 779405717.7851218, 519870739.2560513, 686064671.267108, 531395800.8549043, 630129509.330912, 579131243.287012, 721593628.5939772, 531799555.7433803, 424727573.0633974, 442627226.09517014, 532137766.3866245, 455554031.3505336, 652690861.504592, 539816207.2392182, 914016865.9513863, 409800811.6160408, 624105047.3468714, 467664005.13240165, 536593263.5613959, 615744493.8825147, 392333932.1131533, 628612111.9663982, 893882472.5341098, 541260531.2571737, 631751760.311414, 745754279.3786032, 576306608.1880008, 526507821.6074691, 393342347.50700754, 686180275.8604118, 582685296.3333052, 479489815.2770536, 613769160.8227303, 526197561.24411595, 532535912.04209673, 681036943.1918132, 446824153.1540091, 749384898.1335354, 441120945.0529705, 517264020.78126055, 896842087.1923382, 762506942.5370944, 609923832.7752028, 487044324.0107244, 532438270.48100066, 606715738.8522449, 602031964.7112556, 585508204.4767953, 593177527.7963399, 570042812.3208311, 436908997.9482155, 533912755.13892007, 728127636.0410769, 443934520.006768, 573117537.3611963, 499957558.10046935, 611744014.4321713, 548915742.230378, 822654288.2279911, 666471789.2389587, 449404190.9929749, 690693925.769541, 504867329.0425929, 526960259.92393696, 639192506.9778001, 536785621.730832, 724698514.0832689, 504882840.6465763, 522191674.3383244, 517974066.61476356, 528258801.64605635, 757863678.1355526, 684368338.6110702, 865220535.3847097, 914016865.9513863, 477620150.6942283, 606340219.6211276, 462801369.9251895, 504544277.6804183, 520933101.6919693, 474892298.4066802, 475434560.1607008, 578768734.7925553, 458756894.57160187, 716769947.8252435, 489453733.50976026, 914016865.9513863, 541501495.5663036, 606550356.7380824, 451009631.7501977, 864497749.4359696, 761209181.3515842, 636854481.1855552, 446009913.82086515, 625057397.6061578, 468325243.9655794, 819975036.7467251, 711669472.2431282, 609637663.8901019, 390115746.15456825, 482539909.777277, 693174467.5661395, 776783615.6070114, 759505541.1707354, 422938899.22202396, 637494933.6688166, 744234493.5006845, 416906968.49947625, 596132853.6449738, 633676812.9796138, 559468981.376336, 402381567.02083826, 556453905.3482468, 556260100.5407615, 578293741.7842399, 528506960.54285973, 542484874.7784305, 592037680.6171075, 657269413.7267525, 559025110.2800062, 546421406.646265, 609230113.5580424, 400860071.78673047, 662215745.409268, 597082248.345612, 602315252.4644904, 735445132.6659031, 400161449.3421919, 399703641.7279675, 633671516.8010907, 596234641.6329285, 619595006.1758404, 540242323.1080251, 689665157.2341024, 730977778.1190882, 663213946.6160643, 564332395.211796, 396834237.67797333, 705529602.8479962, 778275240.3920821, 686711298.4320529, 493512029.5611155, 691078387.9780099, 719636069.2586994, 837313705.4037553, 493889894.9687543, 568552358.2544402, 702177319.67592, 604632789.5814811, 468741756.92113614, 653314391.8899388, 676969213.260433, 608650483.6165992, 626266980.0420089, 564592062.443428, 822812281.8553249, 491266375.5058564, 525782625.9585329, 598578786.599018, 722517058.0760773, 431698013.40078294, 449550864.5447515, 398324066.57667434, 601402245.5233877, 468642431.19903183, 549401679.7765181, 689220342.0426359, 519641056.62993324, 627857050.4830102, 559641996.1276453, 690826676.0682034, 661941993.7041504, 513997888.9290251, 575720048.7107911, 748804611.2029436, 650312934.0002847, 441190139.97807854, 688360057.9768815, 472075945.4600543, 811157494.799338, 745621208.5274441, 635884570.1986663, 617858864.2578654, 570703301.2799153, 691787471.2186868, 551043898.4292109, 628440941.5287399, 721418041.3272765, 528697669.1926359, 522503376.67637163, 460983741.2015846, 474140004.56697863, 403082723.0894283, 699526416.7956979, 880173895.745646, 813415622.1349349, 419829306.2322923, 698772325.5636375, 812847216.2604655, 540865187.1127008, 610432199.5009806, 398965991.71660864, 632701350.7730685, 474233799.50051486, 623564351.9877579, 425770704.74997485, 671734293.5196915, 745688130.5492344, 503935287.5463873, 466756143.37158775, 395817460.2073061, 563649705.5038695, 526435520.661413, 426710860.2646493, 658776548.4152973, 541667461.4199895, 472984454.0395838, 529527125.44891346, 753293875.2798609, 680541818.8682077, 580560140.6949416, 682931758.6237826, 464336707.64109933, 601359863.1156151, 616532902.0798094, 539340488.4044443, 656273193.7522525, 504235259.04140615, 666939783.9956019, 673046459.1352003, 388255070.9193959, 772989022.8023756, 388255070.9193959, 522519648.7429499, 745823236.1197113, 557469223.802223, 434624098.4853926, 471143486.4440571, 746075235.9999, 400847139.2491401, 762777600.4567435, 590065273.9202045, 461180530.4574334, 526262022.08558047, 479018371.3964853, 720525434.9360077, 699920760.587798, 411450803.9056772, 547139115.1163735, 495274852.5670178, 790487190.387958, 445691536.07719195, 845603344.5740238, 592861031.4000275, 464233868.72503114, 515633208.4816294, 501925948.6381302, 453038778.38479817, 609556769.0232491, 457645468.88909996, 395309190.6989682, 549982269.5224847, 404500038.2099353, 507333706.0567759, 490371961.3368213, 494413860.57614064, 908490505.0524328, 604501935.8652116, 629777641.0584242, 406570164.28339654, 518244383.1451388, 625685866.3885278, 478260904.62048674, 727092348.3642163, 460152515.3703968, 561217560.1588063, 525927243.95793355, 618808920.6737818, 519759600.1110178, 563102681.3084539, 567361341.0701414, 509291256.5832701, 663373802.715287, 628825043.3989947, 585794706.3342476, 543962755.2899073, 709719843.405901, 567397721.7106332, 558750090.55168, 610861424.3041272, 862716904.1055473, 446633150.6073338, 705624567.7111573, 401471452.6188938, 625953202.6412303, 840273593.3291693, 663888137.6471479, 619655200.3271166, 528853170.213291, 601187444.0691829, 565405531.8998327, 503630001.6514793, 560790857.1763289, 623394882.0468404, 505681300.3589753, 501419086.1145116, 444713241.0652864, 649939159.2508103, 672093409.5498493, 627908559.5595889, 736153011.2372214, 608637915.5401425, 650120380.2436287, 637810825.2158821, 585423297.1333449, 532259515.22395205, 914016865.9513863]
thresholds = [449226567.99670756, 595460410.8250294, 788335628.9976403]
display_name = "dFDA Total NPV Cost"
units = "USD"

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-dfda_npv_total_cost.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that dFDA Total NPV Cost will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
