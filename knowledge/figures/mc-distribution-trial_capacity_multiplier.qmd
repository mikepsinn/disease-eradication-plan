```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Trial Capacity Multiplier (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata
)

setup_chart_style()

# Simulation results
samples = [24.704309820834375, 31.773169356787626, 22.751741696985107, 21.96658661581576, 40.98275209787113, 34.23455479331864, 25.524764238831587, 27.706692968230765, 26.21589181471147, 30.594463828460807, 22.2162006449451, 22.637122966908844, 25.81784753094721, 20.96644949710824, 23.972497973782094, 30.62979161846986, 24.41382788243813, 31.198386437159172, 22.220090200279593, 26.376782552244137, 27.042445941497974, 29.637215821499822, 20.40528098909466, 26.891360979493232, 28.286260308802408, 27.890973533344223, 23.68726282227862, 24.42874452870671, 24.21628893010292, 24.13551143108595, 16.677018633540374, 28.172009200451082, 28.728082430718988, 30.37336379627341, 23.323975289598504, 20.95611990877521, 26.690544553955746, 30.521729685886672, 30.433494604068702, 23.175320669553834, 22.782009599590914, 23.639857481715712, 29.552930455916616, 25.037627341185967, 25.577409033606376, 25.100013317011644, 22.24892998483995, 25.07727352177781, 23.054395474985697, 25.810464701939765, 24.775588575913382, 23.258111146327657, 35.77807621377644, 27.72424439288631, 28.50677597375232, 29.40792356849444, 27.497159153210543, 18.88264424586372, 30.66680332068401, 21.85441510135476, 38.15132029423013, 27.80225936936132, 25.360690617846796, 23.452535070778765, 22.917193983503658, 22.57216926165031, 27.873420336902846, 28.46457615651058, 22.304290136383496, 27.074641739572865, 33.97743079911053, 32.62810718423134, 30.972014295650467, 23.841555309892524, 25.456091191549433, 23.005167411668364, 28.280643665314674, 25.380435499401074, 23.282603586742486, 27.671425096119734, 24.020077500641236, 29.53337579848163, 27.947285994060305, 28.04389727073049, 33.214109000612886, 23.886466592459136, 28.501667579005492, 26.074418727418458, 23.913952488297607, 24.06557288691758, 23.11208095418028, 26.614427293864836, 28.259996085190107, 26.522329873111595, 38.199806704954504, 35.67597294684217, 34.43504375234758, 31.420225126171353, 24.274323358928868, 30.892187590642255, 28.02538415163068, 19.964628420837816, 27.91225943967108, 22.806172775215444, 31.053149230277334, 27.14541144937755, 31.1473738204014, 27.823568188945657, 22.377203998756443, 38.63681123027937, 24.119455269608356, 25.011860769533495, 29.165984443010274, 35.66526833403431, 25.788779858379712, 28.819756758545562, 25.03524620788433, 26.02938782132406, 18.31692252197522, 27.31600541073602, 31.62444622603486, 25.28340990852067, 25.09394936594029, 19.626727176172412, 22.39869660164693, 24.467459872446472, 19.053499972377207, 33.1472902128964, 29.412669362621315, 31.01278984260553, 28.08573859340221, 34.96813354038155, 23.241521675719056, 27.22970031304588, 35.917318769885604, 31.553262959872384, 24.664200503902705, 22.386223728902806, 16.67722759759335, 16.677018633540374, 24.208789383998354, 31.3755238138871, 41.78528170477782, 24.87375395245785, 30.368698943250656, 28.218577330133044, 29.26282142766089, 26.823208299557393, 21.33529424483953, 25.387426942374507, 26.91175986530938, 31.734038385563906, 38.062570777567636, 28.59080104699442, 26.39557871258448, 17.47059039339482, 25.513290668217984, 21.796110726913785, 28.659466934898138, 33.11128345171606, 31.23432826537507, 29.88068087583048, 16.677018633540374, 30.416105803360793, 22.384724154170666, 30.877631368196848, 22.003104190862533, 24.340880125933218, 26.90183544569936, 26.332176463720984, 29.494464807759428, 24.067613274815486, 28.425864591738225, 33.49664432949568, 33.999204614676195, 25.314661853225548, 18.435623867137096, 25.37362970801332, 26.713680067505752, 24.790664468980825, 19.926167291520613, 25.096796373873126, 28.195497653604654, 21.09187954030109, 24.14471754661274, 18.664492843651665, 25.264928452416157, 33.48581067225431, 34.883389090718296, 18.062387145209204, 17.692158036539375, 27.0157708402385, 28.051405889262185, 19.0635847769962, 32.385358644436195, 30.830903038879313, 23.206447339274796, 28.110625013884793, 26.159398329414948, 26.935670055311054, 24.554826609191988, 19.35872241703477, 25.70101825370718, 23.203823998050165, 41.42042357261534, 26.370900248329114, 30.53906183931135, 33.43195830318882, 30.73666863321558, 27.798348801200607, 22.066890970063845, 34.471251125198634, 25.987212188820756, 28.57951070561132, 27.765249942515542, 21.715657471103395, 23.661871099554094, 19.74885607085337, 26.891242751966352, 29.71950858263351, 27.237930288788803, 24.989873614385083, 25.296033099578715, 32.177215562270625, 25.701469840130954, 25.055823183251487, 16.677018633540374, 17.00888267369395, 30.595590691073095, 27.559399469870947, 35.842131690289186, 29.147443777824762, 24.65467534722148, 20.502450383533553, 29.90197857318133, 29.49097179672847, 41.853562304297455, 26.931804754572518, 31.976632400842252, 28.819473145438337, 30.729337467280036, 26.593676105630752, 38.97247973376688, 35.878899987001645, 16.677018633540374, 34.09109563120631, 32.29093852930269, 17.130813149737413, 16.677018633540374, 32.985476888281404, 27.974115381234448, 24.5367767658903, 17.66682808868338, 31.359991871106374, 27.345901417568868, 22.639023023890815, 24.117929687360142, 28.014999929850106, 26.788708720131684, 34.950323340318604, 27.310043044429925, 27.45273147018937, 25.037587722740724, 28.957600333857492, 23.95466272556802, 21.66125659509821, 25.395021264342848, 24.4905866243971, 25.87932058903921, 26.134254533858893, 29.860444753187775, 24.65062591607259, 26.608534405852478, 16.677046921521892, 18.465757875095612, 24.336853751766018, 30.09019246429987, 32.43484792748198, 20.588491040303563, 24.896563559486786, 23.916617433111455, 38.82704676052149, 22.019915919207392, 24.030528341515556, 32.41657010862148, 28.512842881628565, 24.89211246920241, 25.882612168577626, 27.5837816016401, 26.639031569055213, 27.379760810461093, 25.408472352426628, 19.009129236296136, 41.88187180101736, 27.3033678984187, 25.296317828625877, 24.744147567283168, 27.99306145047209, 38.96132143927105, 24.59831243652325, 17.67360729704744, 36.56757750249952, 22.28019107129156, 27.769620237890848, 26.432373957311118, 31.890156106153654, 27.800057226385274, 19.959989377384225, 23.467993447295886, 17.64865830363457, 20.669127560040817, 24.09868901428072, 17.59035036454031, 24.099105319337717, 22.42818874783193, 27.60620655184633, 25.815391148907445, 29.727640075938478, 21.76856965381871, 33.0487757779714, 22.618069267285005, 27.071375078667113, 20.705433243343453, 22.74998585612137, 17.210338163804753, 22.83458887811785, 36.967002890937344, 26.45986953096413, 32.98961259612904, 28.760133229881447, 18.79528708067623, 23.231293737316754, 29.7359132552826, 31.536550167227112, 25.976891208981947, 33.410531701970456, 29.583679545022086, 24.67105516765264, 20.79957332323238, 23.35509421246048, 41.88173308072344, 24.705908612099876, 25.789236840530194, 24.21111101287748, 18.241818372743243, 41.47843642098132, 29.14957790091736, 23.432251927952198, 37.067638067703626, 18.98502294605006, 24.415605515595747, 22.35127666078531, 29.04124333662991, 22.487199565661403, 21.32016860827536, 25.03431299219853, 25.02727195888494, 24.861665103486175, 30.65272702796451, 26.856610694822866, 26.881394375698477, 24.347882123003018, 21.72742888779601, 31.94135960526581, 26.745132680141207, 18.95528295784901, 29.982189138530963, 30.420956068484948, 25.176082000466675, 22.36035709983607, 26.079563204064563, 19.796351566885193, 22.30916035255173, 22.370955035870214, 23.592036410526926, 16.677018633540374, 27.14402831580644, 41.21392623473123, 18.304017180785134, 28.44012749908549, 25.619043121987875, 19.906045156052144, 37.28624441778227, 33.745794542031035, 37.27583142913764, 30.263408665694058, 24.09624115966646, 23.722824518209613, 24.83444334356025, 35.32899209401403, 41.881742866759645, 25.873593462824882, 28.514165937991777, 24.008497482694533, 22.956483372045078, 25.475773506285275, 22.7110867962433, 25.051273929355627, 23.697085609759963, 29.76746982823105, 27.01623091848907, 25.20181195618738, 22.459116276126043, 28.10613971526478, 23.73606465789591, 27.449949388659846, 26.70827198346098, 22.42184712643485, 41.16774407245509, 34.179001170717946, 36.033805809886054, 41.88175503203509, 29.622631115194157, 22.756017611038168, 27.546680295441973, 25.1970922051561, 21.19462861791257, 19.803535511511626, 26.470549307260857, 19.658052118083717, 25.69370023129401, 30.506185133551696, 29.167333318697306, 36.016902937300586, 30.793383372208236, 27.921296880731457, 22.529521374433404, 17.70675195115138, 35.02285783077503, 24.305491783022664, 31.77823177052826, 23.940690542006756, 26.775172811022376, 39.79226885437326, 22.01642401154715, 29.22449425098697, 28.84322725442494, 32.043476861564024, 29.491717130957888, 24.148580168475423, 27.064342135341203, 24.59528417024957, 24.444643273469346, 19.843178273778094, 27.842862077885037, 35.97922083552358, 21.327751195955923, 27.784821605573995, 21.04208063859559, 24.347957460847233, 26.775424437794737, 24.504073593179054, 16.786292446360616, 16.677077245113626, 25.801874886530328, 25.37269714563738, 21.27307167689679, 30.552775108971513, 24.575264520812564, 26.25980778225266, 24.66240390574773, 30.483490961193045, 37.151829340669494, 41.52175708009668, 32.48077861504914, 28.44525397598177, 27.588980808303653, 16.8274292011857, 21.09365291169105, 31.21687933515181, 24.50890562193641, 28.175460383433208, 27.544033536749883, 25.25517119048958, 23.310228076130738, 27.824726593939893, 21.348226747810237, 32.70853160024115, 26.104079347281473, 16.677018633540374, 25.079662901771005, 19.217417435813083, 25.696578680212234, 23.47613669519248, 26.41021225024326, 26.970342642628786, 30.18161281546034, 24.137828249441384, 30.585951169697644, 23.111226558775826, 21.2183563888934, 24.423838509165193, 27.553624502097822, 24.032547045865808, 27.66798316125982, 21.986956842714033, 39.79793203365299, 27.80596890080845, 41.1578257934135, 36.16606597163531, 19.60062441364673, 22.151505700915678, 29.848987835567357, 36.242739907729174, 41.881904761904764, 28.894389023050568, 16.677018633540374, 24.117403124005524, 28.980313419750633, 23.983256990348483, 36.85061755439774, 27.61004329136957, 25.65883774145547, 26.553614895377475, 22.582767356322304, 24.522777333087966, 23.09952862765461, 29.67798400709735, 22.140744560784526, 18.17583541363057, 31.263373822523995, 30.790891340498995, 19.75793131320336, 27.07484008099673, 19.37890719246766, 28.360586119587076, 19.098345162679493, 25.507582972269745, 24.91736040295421, 18.511221653523755, 27.940662183845507, 31.096218212374673, 28.392181973127496, 24.03979134650914, 36.90099107070026, 23.231563699800528, 28.869188418652165, 20.844025478248184, 41.88178607934105, 30.22112355359716, 38.190394026899355, 30.443322755388458, 24.966024550131145, 27.014310886698457, 27.386842657142513, 26.914494076967, 25.17105060772757, 31.490083467256106, 22.93573063871815, 23.12369278886811, 24.340489090385123, 23.581505885359665, 24.742209654322235, 16.677155288313077, 26.55848817769735, 27.659859773378187, 30.037278764022936, 31.703428702497373, 33.67695978566947, 30.79715684937357, 26.478091848325967, 24.56970545109311, 25.888946206341835, 30.103967303587066, 22.131056757679143, 22.79818192632206, 26.916798025400418, 29.48427135655925, 23.616839897125033, 25.24282173743691, 35.686276296416274, 26.464889687139962, 24.899844579153655, 30.859203248425544, 25.234104975042257, 35.754328922354304, 19.75567155580289, 20.258214022117212, 27.382491568907337, 24.43772459399306, 41.881794020943886, 32.842929347227056, 27.591973868753946, 32.065192671853424, 22.90377856203681, 16.677225185818816, 33.032895926741894, 30.506552375449907, 25.02243008217003, 18.26829216067799, 33.46585606082687, 24.959706484567178, 17.207140304728114, 37.81512952555907, 34.029516558826344, 28.261605304687173, 28.772398784028248, 22.492028686919852, 24.993737807725438, 39.16401174504602, 23.761319123670894, 29.07664040959473, 20.10597395528749, 29.346664172272714, 29.395637027152155, 23.648691596524948, 22.699370635663467, 24.058602755270947, 38.180934234534746, 23.662225126364827, 31.721887850228764, 25.023226261506647, 35.43943203596723, 24.06650210915411, 30.33314743072375, 34.04467904369055, 22.906217146474727, 24.9938079728074, 29.272984057007317, 19.119381453375237, 28.35072284250329, 25.980127382459102, 24.868232003955168, 29.303758993961498, 23.95644260506107, 28.84084132114306, 28.199201043634258, 19.607431126365626, 31.778612622504106, 41.8817954669762, 18.269224014475768, 16.677018633540374, 28.166048077124536, 40.920445021958606, 27.677239095630714, 27.553493283603643, 27.067739098844477, 32.44386306627637, 23.48141031617941, 23.721424343220814, 36.15932376146023, 22.968177275371943, 16.677122570811235, 25.317596562565683, 27.814792532923402, 26.82921531184964, 23.327089024611034, 38.67366224392774, 25.35302039727916, 28.089132139539362, 17.096775362602322, 26.989105439232667, 17.97537793476378, 32.35491395946794, 23.44804373864085, 24.637397434399592, 30.685024464758396, 25.292189077623167, 20.463584787919487, 27.745352230838396, 38.25013432051815, 26.219580288949647, 30.874756825844752, 27.84057262256507, 26.531490134683132, 38.39938409741, 37.428671675465445, 23.90812150418331, 28.78372172701008, 41.881870869495295, 22.607652649726973, 24.852360471810595, 29.818101714022564, 34.37757805073159, 22.39581429205562, 24.501472341896367, 16.677018633540374, 24.18295998036527, 24.328509027250167, 26.953014170109757, 22.474690500002428, 23.28477642869583, 20.236454456124537, 28.776302347313443, 28.323271758857647, 28.552780539627857, 22.58278571362556, 18.864196738159233, 28.446121959597765, 28.26769821482228, 24.66163397848838, 27.348344400049495, 21.920015262871114, 41.8817123773891, 30.445996878220754, 30.197971906764934, 41.881748180192815, 31.225801573923995, 30.94744907797912, 27.123695560328983, 21.051826092945955, 27.344804417287488, 31.69035871608774, 26.411048119028685, 21.437613035095335, 31.296934585814032, 30.921275349142626, 23.57272794563882, 27.226247426005056, 23.188630286626115, 26.200621936600914, 22.957713090541855, 31.72884028852698, 26.193063104439535, 27.171759306076755, 33.40416959239039, 36.877046863530104, 23.025303681859924, 27.88488942793085, 31.613493571519207, 26.60309107330568, 20.961808538527954, 41.88172757202357, 36.18230753230235, 30.991664586907262, 19.06502541753735, 24.80550163478631, 22.680966975508454, 32.69199265672466, 32.50067389247816, 24.059872222403996, 25.8548626245887, 23.615483639031744, 27.05647826378135, 24.82586869381285, 25.38240740398229, 22.6372256116555, 22.515278944076194, 37.473574480198984, 41.881710001850664, 21.71971926628026, 20.60853320946556, 31.598587360932367, 40.12109361810361, 25.66093575571004, 22.00609102407291, 17.323660776510895, 23.757425493550603, 27.992038340246946, 30.82181424463873, 26.079441639087438, 27.619945181066782, 31.548673207245727, 16.67712988048415, 17.385056863420285, 20.91394710766152, 30.980012809009178, 22.31647513203346, 23.22231541141675, 24.08329656962618, 20.24832409094753, 23.24057634224493, 22.795648644556273, 23.233986829676134, 24.540240357467653, 39.260490283331286, 25.734098477420478, 28.962225652226376, 34.01762477513561, 17.904230344162272, 17.665330664655162, 19.626542646124683, 24.93124292272239, 19.674629071499105, 26.07654244506461, 25.173798391230793, 32.260497856230266, 24.28680485907616, 25.844780364695374, 34.239159217326645, 26.38297654346355, 26.52238548952861, 17.323825293537112, 22.15548208120174, 26.07946983152215, 24.96085363586301, 25.922104652097467, 27.132761551689445, 32.159265046231276, 26.874093380081984, 29.996091624515014, 33.733009000869295, 23.779710718291483, 24.31250923472031, 39.295087474903056, 26.73365270418356, 21.743983255317804, 21.37636905928135, 21.580500927789444, 25.94748976333725, 30.549300997262346, 32.17090483922402, 24.52295997981301, 24.366390937118606, 20.032362903968654, 21.12979473122713, 26.780821217489862, 33.6744115878982, 27.721353293263395, 25.10677117664158, 27.12859859890359, 29.078548129174834, 24.941968776935195, 28.68415585440156, 29.349258101934893, 24.673591958516873, 28.14900706583762, 24.98245409616996, 24.848530991478196, 32.68518413511148, 28.56405756949547, 19.192471611529665, 32.896543992768784, 41.7164462832485, 40.14403780402032, 25.99451673962465, 25.985840435333117, 26.708610835625375, 20.45385259583744, 41.881904761904764, 24.291549149922865, 18.528515610828823, 32.577019242872694, 28.033895051536387, 30.033752525855025, 30.82873379669172, 27.758014428952404, 19.248788741499883, 17.128505613799803, 27.807673301296425, 16.923857050716546, 25.963486755129164, 17.541557471123213, 26.588941811919714, 25.50959954448932, 24.428607315168097, 16.677018633540374, 22.33187271253599, 29.781719660737, 21.851510482931378, 27.9409824540917, 28.608984311515588, 22.096673565294406, 25.98503259223266, 24.82388689086791, 26.0672383153827, 24.55932377569058, 24.16162911397642, 40.9210102653579, 23.10701141682347, 31.331985548255133, 35.62714258086776, 26.418155313909697, 25.732387681952275, 29.70613791309721, 22.415582035866112, 34.626412119587336, 28.174760519265234, 29.116059884168752, 26.360521774194236, 24.82256465447526, 31.484320917484933, 22.86198934439367, 25.83229308033831, 40.48925904879743, 41.01595287359204, 26.19419834335447, 27.223387215114283, 26.63869622460488, 26.27009071599642, 25.068176377839993, 21.937855742588425, 32.42279032032589, 32.989278391591384, 32.25914363451964, 24.776516376284064, 20.27553799490838, 28.30199871638788, 41.881839936480816, 38.38126213002381, 30.48162138118201, 28.970448193063387, 28.182280477628787, 25.949081402699232, 27.683693042807917, 21.436600099084032, 29.61033931043354, 30.64691173097304, 23.922219327175227, 36.5861104946749, 24.31957429059955, 25.6442646913691, 26.856183146716646, 18.387476591499997, 29.317517555030758, 16.677108391594356, 27.245843254440384, 33.990293882986016, 25.79930885818085, 32.102738412590384, 30.027451395353307, 24.286616460113024, 23.585650339603234, 29.317302344157387, 21.777333045327147, 20.78657622764388, 19.200533868981097, 23.69993672749599, 19.603043669954744, 40.361063094922, 27.71520951793414, 30.673454214552162, 25.565411568294063, 29.04395517793745, 26.949180677035315, 16.992787740711698, 26.966916629480565, 24.211549151441417, 27.280275927717387, 25.771714383091695, 26.1056338034802, 24.05760418640337, 20.740472711591373, 18.08057038422404, 24.681946295217283, 23.438136906580905, 32.791722720098534, 26.56232737504159, 21.967703582473582, 22.271382485721915, 25.132854497031932, 22.187507929431348, 23.869731235028095, 20.53485387247057, 24.774491367531212, 27.909343404526297, 24.562689491359933, 41.881904761904764, 24.350167515581497, 41.881904761904764, 38.59444129757388, 24.042301962953935, 23.92816877549482, 32.89981379831354, 29.808340233993416, 19.56339110316881, 28.578775399712175, 16.677018633540374, 26.14393124375405, 24.23730598538874, 18.238366315322587, 25.509744246813852, 31.44981748891068, 26.66974845980427, 26.30713137775806, 34.849481686931405, 27.399261390109523, 29.974459045617618, 22.032451028968072, 25.96811310198871, 27.536057129626425, 26.65228873031824, 25.07946705819679, 23.320378969178137, 31.434534942064253, 31.78767175285592, 21.101545564878585, 28.202839590972985, 35.369994334403785, 24.07766044905107, 23.99083553516395, 36.53485562400493, 25.050023009562874, 22.814315494101713, 24.388426301705717, 23.25513289689058, 35.24367626511016, 24.584482286298453, 27.637066145894835, 28.572231022326726, 22.252518998976708, 18.96705692496928, 17.339571676571158, 19.876274757043053, 26.669781611881543, 24.486227176375323, 22.68303835389385, 25.556195063256645, 25.51098317703734, 22.445741794543295]  # Truncate for embedding
baseline = 25.70736842105263
mean = 26.754299053956686
std = 5.531885405204729
p5 = 18.104544631472233
p50 = 26.19830254274332
p95 = 38.05618874621381
display_name = "Trial Capacity Multiplier"
units = "ratio"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG (same directory as the QMD file)
output_path = Path('mc-distribution-trial_capacity_multiplier.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 25.71 |
| Mean (expected value) | 26.75 |
| Median (50th percentile) | 26.2 |
| Standard Deviation | 5.532 |
| 90% Confidence Interval | [18.1, 38.06] |

*The histogram shows the distribution of Trial Capacity Multiplier across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
