```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Total Annual Indirect War Costs (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Simulation results
samples = [3844464802348.4043, 3030048351100.346, 4160119700304.876, 4302516708514.117, 2587000000000.0, 2892616563477.501, 3725948586295.837, 3444243687393.413, 3631752129923.9775, 3132004015537.722, 4256178223903.7085, 4180304326131.7266, 3685400283557.7163, 4447081118683.903, 3956872452861.3906, 3128541327895.9067, 3888293799990.6416, 3073866382682.3213, 4255464228677.6465, 3610517282112.335, 3525290743473.4556, 3228904442363.6426, 4522745319585.893, 3544272143253.0786, 3376574087333.9155, 3422428801024.445, 4002525793035.885, 3886018270562.6655, 3918687061601.3447, 3931255727673.178, 5175000000000.0, 3389698199559.2153, 3326783581730.14, 3153854445308.6646, 4062253893798.168, 4448444173690.677, 3569827080089.8853, 3139157832162.162, 3147881188954.896, 4087222558717.6084, 4154822634971.2803, 4010217754753.9707, 3237730786771.2856, 3795399480673.581, 3718598118638.4404, 3786357818893.746, 4250177809886.6553, 3789648419750.4795, 4107766120150.127, 3686410635199.3164, 3833863735918.8413, 4073278169901.2925, 2814333989273.2285, 3442153741877.6523, 3351534531084.9917, 3253031771910.8296, 3469395730578.205, 4746193148348.714, 3124921967739.1343, 4323677655310.1387, 2704094068909.073, 3432895326484.3247, 3749048784814.9805, 4040910314422.4717, 4131331754571.3887, 4191831890612.5796, 3424494556949.839, 3356296933697.0283, 4240067626802.8223, 3521272664405.7783, 2906215244289.4385, 2980410065621.003, 3095398406409.917, 3977697728874.191, 3735581709118.302, 4116189848581.5615, 3377216849228.031, 3746253395959.236, 4069171518656.5273, 3448451075665.74, 3949360403681.58, 3239785594392.217, 3415818790872.8457, 3404539007760.3643, 2947587636747.1416, 3970529803736.4204, 3352110297524.6567, 3650636109499.3813, 3966156003303.231, 3942204601578.7153, 4097939886916.6587, 3579612054042.291, 3379581883099.3643, 3591524799326.8486, 2701957624192.658, 2819342321835.6914, 2882127546963.3457, 3053060295393.958, 3909707678123.969, 3103065020624.306, 3406694597602.0005, 4584565207321.525, 3419927171764.048, 4150603812809.6836, 3087645692919.475, 3512473305795.8706, 3078691846683.3037, 3430375343015.818, 4226826405784.1914, 2682898497326.526, 3933763821879.2188, 3799146738841.537, 3278892473463.253, 2819868746755.3623, 3689381514086.7515, 3316639723019.7495, 3795745454618.785, 3656689040027.535, 4836815690314.442, 3491445499471.592, 3038904968733.338, 3760030927751.642, 3787234742461.17, 4633488397779.228, 4222939433295.9478, 3880124930363.2563, 4719683879057.122, 2951282648541.266, 3252528662614.172, 3091497203016.692, 3399677428895.985, 2854713203282.291, 4076064541589.226, 3502051429262.6685, 2807541145417.9272, 3043167941531.9263, 3850456506003.126, 4225194283170.654, 5175000000000.0, 5175000000000.0, 3919850504412.9893, 3057229625405.9917, 2587000000000.0, 3819361269451.386, 3154318809012.216, 3384336322626.841, 3268491391740.4355, 3552902936217.793, 4399112270912.316, 3745264600265.507, 3541697168272.6543, 3032372116713.782, 2708016045759.7354, 3342092981520.8857, 3608053040307.414, 4981199561150.501, 3727554511068.0127, 4334760865026.562, 3334417524351.9375, 2953278797541.7046, 3070475784337.7656, 3203682644262.2124, 5175000000000.0, 3149606176129.534, 4225465542395.464, 3104467194013.207, 4295673305650.8496, 3899461275174.605, 3542949461758.204, 3616379078415.4985, 3243882304030.5386, 3941884296932.5503, 3360677847390.9517, 2932095972394.2446, 2905057218944.2075, 3755581897678.498, 4817427818036.494, 3747216447399.122, 3566863796805.468, 3831629191057.2856, 4590065949967.036, 3786822977658.8135, 3386991560568.6016, 4430616228968.833, 3929819135440.9585, 4780611098978.375, 3762667019418.561, 2932686082298.0605, 2859025780166.5747, 4879084363023.8955, 4942318396515.6455, 3528626933582.6304, 3403665529692.2954, 4718131204635.152, 2994288079223.5103, 3108977204824.2383, 4081968473377.6675, 3396792574035.909, 3639268960984.745, 3538683817671.925, 3866892610053.6616, 4673272990792.456, 3701455196389.4604, 4082410752801.842, 2587000000000.0, 3611289179025.967, 3137450088732.7446, 2935624023772.7017, 3118113123760.052, 3433358201446.58, 4283772833545.1387, 2880243829164.6475, 3662376794720.6494, 3343358469644.683, 3437281064652.427, 4350150049491.5254, 4006642086528.673, 4615649395330.36, 3544287078397.1284, 3220334052070.739, 3501037219563.0415, 3802350333947.3574, 3758232593517.591, 3006322686066.9224, 3701392863417.129, 3792757786315.9717, 5175000000000.0, 5078176251237.679, 3131893444134.6143, 3461885432149.9517, 2811203776606.031, 3280891608834.317, 3851882219226.5283, 4509403626782.629, 3201495432326.415, 3244250580301.23, 2587000000000.0, 3539170598411.0264, 3018040212095.5283, 3316671007677.1226, 3118826171713.1436, 3582289158229.982, 2668494730589.5864, 2809411106701.754, 5175000000000.0, 2900183273270.905, 2999731761137.4053, 5042404680179.916, 5175000000000.0, 2960281004024.6523, 3412678694944.774, 3869618828648.995, 4946723047334.523, 3058681027111.623, 3487786898162.546, 4179968091008.707, 3934002299448.7583, 3407904913676.426, 3557288319489.0723, 2855618142747.385, 3492176097352.421, 3474777037632.9175, 3795405236628.101, 3301505547426.729, 3959695881227.6475, 4357825645028.703, 3744191143621.723, 3876613223977.1406, 3677009511584.8154, 3642624738895.162, 3205763665338.3096, 3852488659603.8184, 3580371878078.3643, 5175000000000.0, 4812538098937.346, 3900079575772.8076, 3182298176026.8975, 2991445098433.475, 4497675211904.998, 3816007520020.6514, 3965732456872.891, 2674710563785.727, 4292530252125.5225, 3947714282845.8247, 2992494273640.185, 3350850993135.3164, 3816661501666.807, 3676561327585.311, 3458952379347.1997, 3576443154836.5474, 3483652712828.302, 3742291375273.169, 4726531129357.41, 2587000000000.0, 3492994406221.425, 3758192050502.0767, 3838532489360.195, 3410464807719.461, 2668970305197.2896, 3860340666412.616, 4945543201233.385, 2776375394908.153, 4244462689613.462, 3436762574468.7, 3603238987992.138, 3023128758578.7856, 3433155967773.1074, 4585227776012.495, 4038359321707.7695, 4949888918713.735, 4486755334859.065, 3937012520170.386, 4960084474141.073, 3936947339067.406, 4217617598619.593, 3456259243639.756, 3685736380466.39, 3219489718455.322, 4340016417135.6504, 2956752479956.1143, 4183679136718.756, 3521679921615.834, 4481861297244.229, 4160427406417.9287, 5027904174697.588, 4145653624160.407, 2757673437262.0703, 3599650201131.4863, 2960050128600.0874, 3323229930347.2617, 4759897839929.509, 4077784369808.4766, 3218631136822.748, 3044171086221.1606, 3663771423001.066, 2936795096875.936, 3234505044555.785, 3849431175536.794, 4469235674329.7295, 4057066411245.5176, 2587000000000.0, 3844226362661.7295, 3689318855919.828, 3919490262892.7925, 4849188199418.31, 2587000000000.0, 3280661371586.339, 4044262503563.0854, 2753013068774.5156, 4730262059033.711, 3888022479796.1797, 4231525144555.7085, 3292390751472.91, 4207010166355.3696, 4401052908485.875, 3795881066579.234, 3796904566458.2637, 3821141163248.203, 3126297474691.8223, 3548667529516.9175, 3545531630377.518, 3898386506846.6196, 4347891433738.174, 3020113080857.837, 3562843277629.6436, 4734875508366.084, 3193285342577.325, 3149124830622.164, 3775392461850.9497, 4229878308448.589, 3649945905466.408, 4608760074931.328, 4239180550926.0854, 4227957912725.896, 4018007828980.648, 5175000000000.0, 3512644851395.2017, 2587000000000.0, 4838935835801.639, 3359062383107.7886, 3712805949646.0347, 4592950696277.708, 2742959844654.801, 2918609587093.746, 2743436545972.496, 3164837228646.5386, 3937395826655.035, 3996775328321.5864, 3825155351468.313, 2836537446826.1997, 2587000000000.0, 3677789587571.9395, 3350701966678.252, 3951186020494.601, 4124555263300.6167, 3732815571965.6406, 4167256300266.0996, 3793417900308.559, 4000935721295.2104, 3215360519543.0186, 3528569338056.3755, 3771698135750.786, 4212051446487.4116, 3397312144179.008, 3994638655076.7607, 3475114584841.7974, 3567556034404.1084, 4218760782718.0327, 2587000000000.0, 2895540612647.163, 2801891129364.265, 2587000000000.0, 3230428231365.866, 4159370552957.327, 3463417504778.321, 3772375247966.8047, 4417246406755.537, 4607720360868.862, 3598258219602.4966, 4628895733285.409, 3702465610102.547, 3140691058514.644, 3278747128896.6953, 2802709137961.316, 3112608135321.7363, 3418866174396.328, 4199436144529.6533, 4939785282858.989, 2851937321834.753, 3904902465844.576, 3029748062110.1772, 3961910639469.6943, 3559011946198.263, 2634147927319.678, 4293182698628.8877, 3272599974515.517, 3314052838242.3247, 3014122129597.2383, 3244171990813.9434, 3929216701875.1226, 3522557050888.7393, 3860796196022.908, 3883595915214.5786, 4601993939403.323, 3428096902798.871, 2804534992644.6606, 4400079774417.299, 3434960333607.947, 4437134164198.442, 3898374946189.099, 3558979889151.7046, 3874568276181.347, 5145293110881.606, 5175000000000.0, 3687586877160.0596, 3747348448751.4717, 4407109821022.452, 3136100259363.349, 3863810433958.3022, 3625930693199.0923, 3850725336018.27, 3142932231615.9673, 2749129942092.7173, 2587000000000.0, 2988812831481.6377, 3358482128756.675, 3458327596356.7954, 5132755147268.207, 4430384581012.367, 3072120887143.469, 3873836160829.8906, 3389300233397.7666, 3463736490972.6387, 3764060264023.5405, 4064549853208.4136, 3430238458193.7754, 4397454782607.624, 2975849031179.269, 3646660377929.842, 5175000000000.0, 3789302385808.7583, 4694610730537.813, 3702068109797.602, 4037016818297.4287, 3606136910009.9316, 3534323396620.5513, 3173058156248.7817, 3930894092723.365, 3132839562857.6504, 4098085075626.571, 4414173844579.788, 3886766381941.142, 3462580877223.523, 3947396476500.734, 3448862254151.3374, 4298696578692.8926, 2633914652352.082, 3432456365055.0537, 2587000000000.0, 2795511857435.791, 4637324503338.863, 4268090090176.464, 3206943084433.967, 2791830954789.38, 2587000000000.0, 3308428119652.515, 5175000000000.0, 3934084618188.6055, 3299025349021.9844, 3955171222814.554, 2763088906917.495, 3455798897514.373, 3707286888280.4116, 3587469028595.564, 4189946577879.6636, 3871735984912.1494, 4100073980179.895, 3224652818714.084, 4270078079441.2534, 4860126422453.552, 3067741326894.3506, 3112849606145.1167, 4614330938415.5, 3521247940120.7974, 4670245586385.172, 3368091803364.38, 4712789619806.489, 3728353928646.592, 3812954950258.782, 4805185305217.514, 3416594946423.1357, 3083546400919.9814, 3364499159301.3574, 3946256430241.6895, 2760741602022.8604, 4077738956560.842, 3311196231982.3027, 4463306103075.676, 2587000000000.0, 3169081672848.342, 2702372028588.076, 3146907079410.595, 3805831459689.3926, 3528809712583.409, 3482789294496.612, 3541352315968.591, 3776115737151.33, 3046964671863.301, 4128131787885.4233, 4095967711476.709, 3899521314842.048, 4019727411224.6094, 3838820634878.9805, 5175000000000.0, 3586838101322.0723, 3449833082957.3096, 3187671416089.7217, 3034193092314.936, 2922319404284.754, 3112242568882.669, 3597275801584.3403, 3864648282527.737, 3675699194032.791, 3180902412779.3794, 4271869401420.631, 4151998023688.2065, 3541061783835.443, 3244957262376.562, 4013963475045.7544, 3765825160662.347, 2818835871824.715, 3598995746640.618, 3815525598903.1895, 3106244197451.07, 3767071916816.4443, 2815496763104.9834, 4614659145608.758, 4543135168333.635, 3483319727130.2505, 3884649675875.3247, 2587000000000.0, 2968267499782.199, 3457968028089.1978, 3012852109629.1636, 4133650809504.198, 5175000000000.0, 2957636653884.3735, 3140654818217.381, 3797608719343.1055, 4844817553302.525, 2933773821635.5386, 3806754766426.0986, 5028485172423.175, 2719028197375.9404, 2903447099785.725, 3379397436863.6016, 3321872030340.4175, 4206144524060.2246, 3801786909646.2856, 2660365777761.7437, 3990569591568.6426, 3288548900348.7915, 4564496503261.291, 3259540278168.6035, 3254335026811.809, 4008782048202.274, 4169317610756.2524, 3943299189536.2124, 2702788674169.008, 4006584635222.8613, 3033094613289.4507, 3797492912862.007, 2831034832046.1523, 3942058723605.467, 3157862384604.709, 2902642566481.9043, 4133229066218.6016, 3801776680701.3965, 3267403748520.907, 4709564645976.46, 3369214924519.4233, 3663334016482.985, 3820174079780.771, 3264114602324.767, 3959413930624.884, 3314315624219.3823, 3386565211605.6704, 4636323379756.556, 3029725474115.39, 2587000000000.0, 4844663897464.473, 5175000000000.0, 3390385819267.9077, 2587000000000.0, 3447756754309.1006, 3462596682403.345, 3522133335269.6777, 2990927968377.817, 4036147890507.7744, 3997001422900.1846, 2795836137463.2026, 4122542723625.291, 5175000000000.0, 3755164664390.8926, 3431412695330.8916, 3552140488760.249, 4061734228401.2144, 2681307291587.407, 3750135848545.837, 3399283751500.985, 5052154449873.706, 3531968362598.222, 4893755418057.432, 2996040518455.662, 4041652106244.388, 3854471109029.179, 3123143268995.4937, 3758780037296.8423, 4514727684989.031, 3439643742888.1274, 2699744697453.7466, 3631262456822.236, 3104744246285.045, 3428367105873.4893, 3590336299339.18, 2693209794888.5703, 2736461193944.127, 3967083058737.9717, 3320619490995.503, 2587000000000.0, 4185526492689.5977, 3822512279003.6426, 3210127040449.37, 2885123848793.5234, 4223460279723.674, 3874962516705.901, 5175000000000.0, 3923862957150.286, 3901361651439.229, 3536501250799.2803, 4209254167355.53, 4068807606302.82, 4546172370224.258, 3321440110768.099, 3372344782345.9614, 3346358449962.749, 4189943313771.0913, 4749078646274.353, 3358383903917.3438, 3378699263257.879, 3850840554127.256, 3487488277927.4287, 4311276571571.506, 2587000000000.0, 3146642142363.4844, 3171410490774.8877, 2587000000000.0, 3071279464563.2446, 3097753543265.5737, 3515168633975.807, 4435856662666.642, 3487921008005.457, 3034971496837.638, 3606027523256.2256, 4386042968068.7905, 3064587978732.5015, 3100266923650.87, 4021161954260.5156, 3502477119770.4565, 4084974246949.0234, 3633780758658.333, 4124343532335.794, 3032681151674.4688, 3634785818849.001, 3509208730896.4443, 2937143053116.1226, 2761856705796.9585, 4112739941405.9507, 3423144523449.8013, 3039559880381.6895, 3581074029581.407, 4447693388057.452, 2587000000000.0, 2794731089538.639, 3093517108787.1655, 4717909509720.743, 3829432626282.556, 4172559711097.068, 2976785502765.504, 2987674514471.607, 3943099786457.3735, 3680343225613.474, 4014184405952.6826, 3523538339841.5493, 3826421575246.999, 3745974456659.62, 4180286160649.4966, 4201981895740.2065, 2734420681837.9062, 2587000000000.0, 4349370430334.3115, 4494954615230.24, 3040451785312.216, 2620691694117.182, 3706996382555.4146, 4295114555879.9253, 5007427654247.081, 3991196390976.502, 3410584285320.982, 3109855970066.0547, 3649962212046.0884, 3454611410871.719, 3043443344443.6733, 5175000000000.0, 4996424279094.192, 4454020461963.753, 3094632355436.983, 4237848926971.2485, 4079295297830.3203, 3939424071893.395, 4544514949905.243, 4076223437300.884, 4152440220145.307, 4077331382477.876, 3869095389112.09, 2656295433194.92, 3696894763964.008, 3301000168240.1514, 2904078493915.121, 4905837764675.348, 4946983756327.68, 4633515487599.866, 3810920042541.4424, 4626470121572.649, 3650351150541.644, 3775720701319.292, 3001492287480.3364, 3907781965433.3105, 3681719274010.915, 2892374556163.403, 3609704848676.035, 3591517580938.719, 5007398085160.525, 4267355980752.438, 3649958430333.586, 3806587090530.052, 3671192688815.6904, 3514042869594.26, 3007366477643.5566, 3546454842941.355, 3191866700766.6465, 2919297729656.5386, 3987611615279.973, 3903822253978.965, 2654839757309.872, 3564309664804.3135, 4344719149536.3555, 4393853554025.6255, 4367959981069.1772, 3667750263669.128, 3136442112138.778, 3006689536108.0767, 3871708347726.3887, 3895548416533.952, 4574919404953.699, 4425670395848.676, 3558292485754.315, 2922456974188.4526, 3442497822925.123, 3785381035972.633, 3514559710458.768, 3288342104442.1587, 3809349359103.4014, 3331666595530.66, 3259264146761.4478, 3849051860090.6074, 3392353084173.2056, 3803432625832.83, 3823076877119.7764, 2977171239550.5664, 3345092135909.2954, 4698404096607.615, 2965257055166.6367, 2587000000000.0, 2619759443150.3506, 3661390418271.746, 3662562091203.2573, 3567512653090.494, 4516063429520.202, 2587000000000.0, 3907050498929.053, 4802396056077.902, 2983316846392.5737, 3405703278035.186, 3188030154584.306, 3109186895539.4634, 3438139834582.584, 4689851592302.58, 5042827062192.158, 3432254716008.3057, 5103605616176.953, 3665584327680.081, 4968659028049.9375, 3582900501028.2993, 3728071448354.5312, 3886039190045.9966, 5175000000000.0, 4235048654539.483, 3213885848256.7314, 4324228430558.748, 3416557409956.9707, 3340056949382.8228, 4278239432264.507, 3662671223621.958, 3826714351124.6533, 3651599908826.7773, 3866213975854.36, 3927182918341.1006, 2587000000000.0, 4098801514929.2383, 3061301672969.7505, 2821745754773.3174, 3605097707273.2407, 3697130332403.01, 3221723379335.476, 4219890792567.9624, 2872207643239.2, 3389380929099.0347, 3284281237277.0186, 3612651901822.451, 3826909713312.8467, 3047311583133.25, 4140891770448.2695, 3683425022889.883, 2605836213465.821, 2587000000000.0, 3634634835559.9814, 3502829822020.527, 3576486306891.3467, 3624570355451.2983, 3790966474028.7466, 4307916555514.29, 2992137116183.639, 2960068783787.884, 3001570671021.584, 3833726140726.698, 4540720864859.912, 3374774333379.3745, 2587000000000.0, 2694001066762.095, 3143117008480.4443, 3300102133434.287, 3388514068669.465, 3667534644231.5483, 3446986343272.455, 4386171855933.7383, 3231713602467.087, 3126866094871.26, 3964842434825.2754, 2775500320781.4556, 3902735330743.4844, 3709306058815.234, 3548721677237.3794, 4825267414483.363, 3262646309371.8584, 5175000000000.0, 3500062641756.924, 2905530984665.3247, 3687938403666.1787, 3010659583995.234, 3188671399504.832, 3907811018232.37, 4019050463148.055, 3262669265966.13, 4338342723036.9736, 4470973267928.559, 4697177242563.2, 4000474435875.4023, 4636968617331.43, 2610983978638.9517, 3443229250940.651, 3124272485737.978, 3720270643487.531, 3292096095232.2446, 3536983417164.138, 5082970439720.078, 3534753762973.022, 3919422285580.419, 3495828284097.1245, 3691722968938.7803, 3646452261351.275, 3943456055418.3633, 4477151118049.189, 4876032856822.413, 3847803211567.43, 4043289310010.5186, 2971150183386.1675, 3586341213105.557, 4302307058513.1274, 4246071477243.4224, 3781615767995.5425, 4261452839277.2505, 3973197712042.8486, 4504977277911.129, 3834026467776.1177, 3420269658402.435, 3865706239698.0327, 2587000000000.0, 3898035842531.0547, 2587000000000.0, 2684731051400.1035, 3945861487754.5117, 3963897640455.6284, 2965073714035.5474, 3211134664960.8066, 4642810723691.819, 3343440921021.586, 5175000000000.0, 3641332503785.287, 3915430333820.8745, 4849758868755.805, 3728051180216.1157, 3050306573520.328, 3572495016858.6055, 3619678844975.5737, 2860756062046.052, 3481276258212.5615, 3194074696429.9, 4290189793539.079, 3664958423687.4805, 3464698167104.4263, 3574738077730.995, 3789330745769.0894, 4062854269114.0815, 3051728059484.5474, 3029188314433.047, 4429353980070.778, 3386146434341.3687, 2834491279519.808, 3940307844170.9346, 3953973789797.724, 2777922184072.992, 3793599454655.0586, 4149184087692.7705, 3892175073245.525, 4073778110841.908, 2840807396574.653, 3862421973660.8315, 3452560140139.435, 3344174938674.746, 4249520871291.648, 4733047656499.392, 5004570050127.531, 4597227314825.519, 3572490760528.0127, 3877274692383.8535, 4172194547346.165, 3721556528367.737, 3727877655180.128, 4214456663422.8013]  # Truncate for embedding
baseline = 3700100000000.0
mean = 3689884879189.981
std = 628352120130.7825
p5 = 2708298651093.4595
p50 = 3634089096874.429
p95 = 4872017098402.497
display_name = "Total Annual Indirect War Costs"
units = "USD/year"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax1.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Mark key statistics with formatted values in legend (use format_parameter_value for full units)
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {format_parameter_value(p50, units)}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {format_parameter_value(p5, units)}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {format_parameter_value(p95, units)}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {format_parameter_value(baseline, units)}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax2.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('mc-distribution-global_annual_war_indirect_costs_total.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 3.7e+12 |
| Mean (expected value) | 3.69e+12 |
| Median (50th percentile) | 3.634e+12 |
| Standard Deviation | 6.284e+11 |
| 90% Confidence Interval | [2.708e+12, 4.872e+12] |

*The histogram shows the distribution of Total Annual Indirect War Costs across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
