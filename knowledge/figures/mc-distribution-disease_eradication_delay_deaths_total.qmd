```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Total Deaths from Disease Eradication Delay (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata
)

setup_chart_style()

# Simulation results
samples = [431305881, 363111075, 453910719, 463552083, 316908281, 349814170, 422335806, 399814703, 415000494, 372591508, 460450090, 455297269, 419201206, 473019143, 439561683, 372274622, 434553269, 367224035, 460402030, 413320614, 406477484, 381320070, 477852168, 408015777, 394130444, 397994539, 442847925, 434385573, 436783751, 437701081, 524463470, 395241724, 389874806, 374583097, 447091154, 473106933, 410073843, 373245079, 374040030, 448846527, 453545731, 443397919, 382102067, 427626309, 421770115, 426943056, 460045942, 427191906, 450282779, 419279729, 430514865, 447867520, 341954744, 399640825, 391998194, 383452668, 401899055, 491666585, 371943022, 464957545, 330507949, 398869276, 424106357, 445582061, 451921492, 456086136, 398167396, 392404961, 459363696, 406150788, 351157738, 358379327, 369223693, 441065416, 423075483, 450869627, 394184970, 423892681, 447578562, 400164428, 439017317, 382283813, 397440730, 396493193, 355207060, 440548731, 392047402, 416486166, 440232997, 438497802, 449596700, 410857977, 394385509, 411809736, 330281529, 342464079, 348773519, 365278442, 436126583, 369932327, 396674511, 481741249, 397785070, 453254705, 368505313, 405434039, 367673386, 398658913, 458467699, 328253690, 437883784, 427909001, 385720986, 342517563, 419510499, 388999996, 427652420, 416960747, 497084717, 403713928, 363947173, 424944278, 427009394, 484782008, 458204145, 433950804, 490062083, 355565941, 383408360, 368862426, 396083836, 346035661, 448063413, 404582802, 341262477, 364348745, 431751998, 458357063, 517114204, 557850973, 436868789, 365669379, 307728535, 429429189, 374625272, 394788229, 384810834, 408712513, 469912371, 423817061, 407807580, 363330684, 330923133, 391190058, 413125030, 505510854, 422459249, 465690924, 390531403, 355759631, 366907877, 379073628, 523795171, 374196965, 458375454, 370061743, 463096081, 435374840, 407908852, 413785324, 382645820, 438474526, 392778636, 353697510, 351043569, 424605119, 495934143, 423966314, 409835952, 430347851, 482084756, 426978247, 395012893, 471956564, 437596379, 493736450, 425145044, 353755158, 346468094, 499577248, 503266052, 406748455, 396419687, 489967827, 359710133, 370477603, 448478041, 395840647, 415592794, 407563745, 432972206, 487231191, 420446441, 448509078, 311880679, 413381851, 373089195, 354041993, 371318166, 398907899, 462301373, 348586228, 417405980, 391298508, 399235020, 466706127, 443142381, 483676983, 408016985, 380558701, 404499829, 428150459, 424807236, 360859185, 420441617, 427426852, 543523029, 511034324, 372581395, 401278262, 341635948, 385895590, 431858048, 477005872, 378877986, 382678341, 306955518, 407603148, 361973551, 389002698, 371383667, 411072138, 326711589, 341453214, 523834595, 350562549, 360230461, 509009270, 557850973, 356438035, 397177267, 433174097, 503521240, 365805345, 403413590, 455274227, 437901150, 396776268, 409065882, 346126455, 403773865, 402343041, 427626743, 387689831, 439766018, 467211134, 423734943, 433691421, 418548249, 415856823, 379259648, 431903146, 410918777, 522004905, 495643231, 435420259, 377155070, 359438014, 476259839, 429177535, 440202404, 327378089, 462886403, 438897891, 359538467, 391939764, 429226625, 418513330, 401035454, 410604268, 403073832, 423589556, 490477382, 304282348, 403840984, 424804145, 430863501, 396991369, 326762638, 432486416, 503452907, 338064718, 459660479, 399191805, 412742557, 362456138, 398891025, 481782647, 445401161, 503704517, 475563486, 438120264, 504293959, 438115521, 457842908, 400812325, 419227329, 380483583, 466038030, 356096377, 455528443, 406183918, 475250846, 453931906, 508184291, 452912850, 336128526, 412457098, 356415693, 389568642, 492492566, 448184257, 380407178, 364443159, 417515045, 354156246, 381816520, 431675706, 474442720, 446725105, 304282348, 431288114, 419505634, 436842461, 497816556, 311218045, 385875487, 445819604, 335644000, 490703417, 434533279, 458785970, 386897863, 457121531, 470038716, 427662655, 427739885, 429562656, 372069089, 408370814, 408117557, 435295874, 466557355, 362170235, 409512870, 490982672, 378142414, 374153182, 426112244, 458674461, 416432001, 483249085, 459303757, 458544374, 443953855, 533896502, 405448030, 314246465, 497210257, 392640900, 421323562, 482264736, 334595994, 352376851, 334645774, 375578934, 438148153, 442436061, 429863436, 344205923, 304282348, 418609016, 391927023, 439149707, 451451226, 422863281, 454401723, 427476706, 442734099, 380115937, 406743779, 425831792, 457464598, 395884462, 442282876, 402370868, 409891542, 457920544, 314777028, 350103602, 340685401, 304282348, 381455227, 453859128, 401405011, 425883215, 471090819, 483184452, 412346301, 484497925, 420524629, 373384960, 385708287, 340769022, 370811967, 397696183, 456605333, 503119191, 345756970, 435774287, 363082684, 439926201, 409204651, 323000489, 462929941, 385170703, 388776473, 361601414, 382671401, 437552461, 406255258, 432520217, 434206948, 482828215, 398468581, 340955582, 469975367, 399041543, 472377678, 435295024, 409202070, 433540268, 514795657, 521183962, 419371119, 423976405, 470432690, 372965922, 432743782, 414540942, 431771998, 373589307, 335239655, 310723832, 359185833, 392591411, 400983706, 514096751, 471941586, 367061319, 433486134, 395208089, 401431394, 425251097, 447253017, 398647482, 469804417, 357940602, 416174021, 547590254, 427165748, 488536189, 420493872, 445305913, 412972856, 407210540, 376322087, 437674728, 372667920, 449606850, 470891490, 434440716, 401335804, 438874829, 400198583, 463297623, 322975119, 398832643, 314891051, 340032440, 485019077, 461250708, 379365021, 339654996, 304282348, 388289861, 538600804, 437907144, 387474548, 439438493, 336690531, 400774168, 420897416, 411486058, 455957267, 433330786, 449745845, 380942621, 461384107, 498462003, 366652647, 370834190, 483595142, 406148777, 487045555, 393409909, 489643324, 422520679, 428948289, 495205222, 397505815, 368124736, 393104181, 438792083, 336447068, 448181067, 388529443, 474062398, 304282348, 375962863, 330325461, 373951369, 428412603, 406763293, 403002823, 407779685, 426167118, 364705924, 451699521, 449458803, 435379251, 444076427, 430885004, 519058691, 411435673, 400279209, 377638353, 363502658, 352740743, 370778321, 412268078, 432805894, 418446147, 377029398, 461504255, 453350914, 407756183, 382740733, 443665366, 425385384, 342412616, 412405011, 429141355, 370225669, 425480209, 342073076, 483615517, 479140735, 403046448, 434284666, 304282348, 357209846, 400953920, 361480684, 452082250, 517142890, 356182028, 373381654, 427793007, 497558244, 353861389, 428482092, 508217392, 332085684, 350884752, 394369874, 389451566, 457062581, 428108008, 325837606, 441990924, 386563395, 480484509, 384025241, 383567411, 443295343, 454543387, 438577331, 330369625, 443138274, 363398929, 427784271, 343649667, 438487202, 374946908, 350805362, 452053021, 428107237, 384715493, 489447228, 393505417, 417480843, 429490146, 384426975, 439745619, 388799188, 394976830, 484957227, 363080548, 304282348, 497549159, 545138459, 395299829, 317628272, 400106744, 401337111, 406220798, 359388488, 445244247, 442452266, 340065668, 451311414, 519951844, 424573292, 398745528, 408651031, 447054505, 328083740, 424189408, 396050662, 509562632, 407019595, 500437336, 359877741, 445634643, 432050520, 371779920, 424848961, 477343890, 399431860, 330046815, 414961867, 370087307, 398491159, 411714923, 329352566, 333916491, 440299948, 389343531, 304282348, 455654908, 429665428, 379649292, 349071178, 458239475, 433569414, 536683180, 437161872, 435514413, 407387006, 457274290, 447552942, 479332181, 389414316, 393771408, 391555437, 455957044, 491840692, 392583033, 394310685, 431780569, 403389062, 464134730, 304282348, 373927251, 376173296, 304282348, 366982848, 369441568, 405653777, 472295189, 403424605, 363576140, 412964166, 469060045, 366358036, 369673899, 444178641, 404617621, 448688904, 415160463, 451436520, 363359876, 415239685, 405167668, 354190185, 336562753, 450629431, 398054441, 364008902, 410974951, 473058581, 304282348, 339952420, 369049534, 489954366, 430183582, 454766058, 358030736, 359076709, 438562845, 418807851, 443681133, 406335048, 429958247, 423871351, 455296024, 456778939, 333702800, 304282348, 466654784, 476086507, 364092948, 321533362, 420874968, 463058817, 507015257, 442035916, 397001405, 370558562, 416433281, 400675715, 364374669, 519752573, 506385082, 473465803, 369152789, 459213758, 448290381, 438295680, 479227724, 448074580, 453381421, 448152433, 433135345, 325398979, 420093279, 387645977, 350947041, 501143728, 503536337, 484783683, 428795366, 484347774, 416463805, 426137148, 360398537, 435985451, 418914938, 349790202, 413256147, 411809160, 507013565, 461201432, 416432984, 428469474, 418094717, 405562019, 360958628, 408192140, 378015121, 352444385, 441778505, 435695031, 325241950, 409630748, 466348269, 469569724, 467876550, 417825977, 372997147, 360894139, 433328741, 435087246, 481137899, 471636608, 409146735, 352754229, 399669459, 426869146, 405604149, 386545380, 428677274, 390294969, 384000973, 431647476, 395466002, 428231986, 429707737, 358067854, 391447013, 488767567, 356919162, 308509112, 321431440, 417328817, 417420473, 409888059, 477428632, 304282348, 435931825, 495038890, 358658580, 396591140, 377670590, 370496924, 399306582, 488245639, 509033265, 398815814, 512465243, 417656759, 504788747, 411121021, 422498974, 434387115, 557850973, 459024405, 379984524, 464994034, 397502667, 391015487, 461931102, 417429009, 429980165, 416561786, 432921927, 437404147, 317621735, 449656926, 366050680, 342708182, 412890291, 420111533, 380682262, 457997264, 347785841, 395214910, 386191397, 413489929, 429994790, 364738537, 452583615, 419047628, 319904901, 316525076, 415227786, 404646467, 410607724, 414433448, 427291523, 463911385, 359504275, 356417498, 360406018, 430504583, 478988462, 393977713, 304282348, 329436718, 373606148, 387568034, 395141635, 417809136, 400042725, 469068463, 381569187, 372121187, 440138105, 337974414, 435615261, 421053397, 408375185, 496399941, 384298086, 520337938, 404420075, 351090282, 419398425, 361272140, 377728204, 435987581, 444028180, 384300102, 465927536, 474554073, 488692755, 442701069, 484997092, 320470249, 399730318, 371883477, 421898931, 386872225, 407426060, 511304642, 407245420, 436837493, 404073300, 419692246, 416157671, 438588726, 474949629, 499398029, 431554531, 445750662, 357487917, 411395986, 463538124, 459769038, 426584061, 460804882, 440741151, 476724544, 430527024, 397813757, 432884304, 304282348, 435270105, 304282348, 328449294, 438763412, 440069834, 356901450, 379739196, 485357782, 391305572, 529599387, 415755180, 436545577, 497850266, 422497416, 365019946, 410287855, 414046590, 346641410, 402878346, 378213217, 462730168, 417607840, 401510917, 410467662, 427167892, 447133489, 365153412, 363029754, 471874941, 394941404, 343999203, 438359939, 439351752, 338224271, 427490416, 453156702, 434839075, 447902678, 344636826, 432640822, 400505568, 391368456, 460001661, 490872064, 506851732, 482531348, 410287514, 433740296, 454740987, 421997928, 422484082, 457628133]  # Truncate for embedding
baseline = 415852543.0
mean = 415576655.3601
std = 50175617.741364345
p5 = 330953026.65
p50 = 415184770.0
p95 = 499162006.75
display_name = "Total Deaths from Disease Eradication Delay"
units = "deaths"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
n, bins, patches = ax1.hist(samples, bins=50, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG
project_root = Path.cwd()
while project_root.name != 'decentralized-institutes-of-health' and project_root.parent != project_root:
    project_root = project_root.parent

output_path = project_root / 'knowledge' / 'figures' / 'mc-distribution-disease_eradication_delay_deaths_total.png'
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 4.159e+08 |
| Mean (expected value) | 4.156e+08 |
| Median (50th percentile) | 4.152e+08 |
| Standard Deviation | 5.018e+07 |
| 90% Confidence Interval | [3.31e+08, 4.992e+08] |

*The histogram shows the distribution of Total Deaths from Disease Eradication Delay across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
