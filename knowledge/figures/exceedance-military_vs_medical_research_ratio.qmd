```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Ratio of Military Spending to Medical Research Spending"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples
samples = [40.25003699050127, 40.492108291521845, 40.21371716844378, 40.19823609093949, 44.426265315588424, 41.5872020290367, 40.26445854964818, 40.30068943093835, 40.27625567372064, 40.34452833999053, 40.20321629127503, 40.211490425812705, 40.269499394054904, 39.700089564249375, 40.23676836246852, 40.34503891927349, 40.24481730521366, 40.35317748439486, 40.20329345577512, 40.278957851275486, 40.2899672710191, 40.33046709794015, 39.316886651871144, 40.287492159265334, 40.30983914933939, 40.30361904818088, 40.23148797100689, 40.245086834753266, 40.241232533876904, 40.239758318842064, 36.91358024691358, 40.30805020434405, 40.3166906335047, 40.341319566167485, 40.224670899220776, 39.693095653182056, 40.284180972602265, 40.34347530316577, 40.3421945106791, 40.22185109684509, 40.21430334432069, 40.23060429764001, 40.32920758154063, 40.255952166074174, 40.265368207573935, 40.25705063831664, 40.203865189268676, 40.25665055616267, 40.21954407181694, 40.269373110031744, 40.25130853261743, 40.2234237323131, 42.24835641150274, 40.30096928487235, 40.31327188016012, 40.32703234229675, 40.29733485678459, 38.24183779882451, 40.34557321150816, 40.19597984768282, 43.23013705099075, 40.302211102568656, 40.261611552434104, 40.227095239811774, 40.21691199834854, 40.2102235930568, 40.30334082030382, 40.312616998068826, 40.20496062550199, 40.29049294372942, 41.47521782620564, 40.8784561178319, 40.34995501937977, 40.234352051349816, 40.263269145729545, 40.2186014658057, 40.309751370940646, 40.26195512667165, 40.223887914788314, 40.300126561615244, 40.23764312709053, 40.3289148595469, 40.30451046501492, 40.30603567766632, 41.13953404213935, 40.23518228287694, 40.31319265602107, 40.273866039809434, 40.23568962739591, 40.23847797389293, 40.220646090190534, 40.28291946398078, 40.309428536892874, 40.28138833618779, 43.24978522524381, 42.205193110097056, 41.67414633993921, 40.35631306976601, 40.242288683425706, 40.34881311087598, 40.305743811720774, 39.01121496619147, 40.30395620947094, 40.21477074227206, 40.35111266468217, 40.29164625858241, 40.35245332879819, 40.30254969077186, 40.20639931169042, 43.42615497768984, 40.23946470787012, 40.255497686944715, 40.323379317682864, 42.200663236615135, 40.26900198208376, 40.31809920413355, 40.25591018626506, 40.273102729619765, 37.82826490680741, 40.29441421104162, 40.42422141424693, 40.26026426873733, 40.25694398468233, 38.77387564081069, 40.20682250489991, 40.245785625744034, 38.36517703372072, 41.10991470139628, 40.32710370131262, 40.350537185142564, 40.30669462009259, 41.90375810641358, 40.22310905296382, 40.29301601994763, 42.30709284641816, 40.39165626810015, 40.24931988491048, 40.20657696069436, 36.91358024691358, 36.91358024691358, 40.24109586960656, 40.35568300204159, 45.25230301934647, 40.253053799281666, 40.34125161780638, 40.308780232818016, 40.324845035802085, 40.28637116316021, 39.94839046617523, 40.26207671915803, 40.28782714038054, 40.474266176841205, 43.19413148894664, 40.314572983037856, 40.27927247145458, 37.1939558924822, 40.26426004986096, 40.194802575577036, 40.315633450242245, 41.09393778869724, 40.35368699835926, 40.33408552575873, 36.91358024691358, 40.34194166744735, 40.20654743057247, 40.34860457201555, 40.19896815738213, 40.2434968602642, 40.287664197489086, 40.27821032288366, 40.32833181403625, 40.23851537874322, 40.31201540427379, 41.264355105324476, 41.48472191838779, 40.26080959326876, 37.915714027324256, 40.26183673116338, 40.28456369812577, 40.251577008278566, 38.98433073496637, 40.25699406143487, 40.30841857164946, 39.78483936964703, 40.23992657939312, 38.08331134680886, 40.25994146670498, 41.2595813919623, 41.86740793506484, 37.639511848686084, 37.36189500125168, 40.28953126797398, 40.30615399944265, 38.37243495530088, 40.769424578857496, 40.347934464076076, 40.222443009742165, 40.30708608643749, 40.27530296970885, 40.288219463175345, 40.24735854070347, 38.58376064871105, 40.26749681828939, 40.222393153887566, 44.87678763266637, 40.278859344600214, 40.343726461094604, 41.235837313721106, 40.34658003581576, 40.30214893742612, 40.20024401262979, 41.689813429628636, 40.27238663400028, 40.31439837548678, 40.30162242821823, 40.193172956240446, 40.23101486664553, 38.85995832053497, 40.28749021705527, 40.33169342653535, 40.29314953897538, 40.25510950431982, 40.26048461473405, 40.675517934714655, 40.267504576260556, 40.256272831818976, 36.91358024691358, 36.91358024691358, 40.34454463510867, 40.2983339363813, 42.27539499882518, 40.32309813883318, 40.24914941738443, 39.38372000039682, 40.334400669128144, 40.32827943728525, 45.2962962962963, 40.28815606394107, 40.58465259495154, 40.31809485326815, 40.34647449316747, 40.28257493119175, 43.56075938485437, 42.2909013359889, 36.91358024691358, 41.524788636611845, 40.7268737633642, 36.933734538910706, 36.91358024691358, 41.03802725481094, 40.30493454548411, 40.247034032550225, 37.342765659455104, 40.35546387062514, 40.29489752511975, 40.2115274297066, 40.23943680026383, 40.30558001731261, 40.28580262983106, 41.89612331776572, 40.29431775785842, 40.29662033685082, 40.25595146762609, 40.32020884828423, 40.236440013548744, 40.16554176376177, 40.26220875918912, 40.24620252988869, 40.27054951303082, 40.2748782915423, 40.33378588480665, 40.24907692678233, 40.282821651132885, 36.91358024691358, 37.93785671098675, 40.243423864039194, 40.33717607673062, 40.79169534385786, 39.442729586952126, 40.25345835291483, 40.23573878724992, 43.50253188529097, 40.19930477789694, 40.2378350396903, 40.78347264896466, 40.31336595128521, 40.25337943667727, 40.27060567216726, 40.29872470975793, 40.2833276258425, 40.29544428300504, 40.26244253317472, 38.33321460751383, 45.2962962962963, 40.29420974934168, 40.26048958361104, 40.250748102565986, 40.30523377565514, 43.556296843574074, 40.24813938112935, 37.34788708476298, 42.579473379077164, 40.20448409710756, 40.30169198279271, 40.27988772939667, 40.54536551416266, 40.30217609681793, 39.007974049375726, 40.22738586403085, 37.32903288245682, 39.497889420948376, 40.239084679144675, 37.284900897411056, 40.23909230083137, 40.207402557815314, 40.2990838140186, 40.2694573813588, 40.331814419966186, 40.194245388111334, 41.066175404299536, 40.211119182334144, 40.29043963592029, 39.5226794543384, 40.21368314073669, 36.99493411974194, 40.215319780463936, 42.745247020414524, 40.280346933968666, 41.03986740506508, 40.31718359662208, 38.1784987560247, 40.222914932451154, 40.33193748806112, 40.384003616256386, 40.272211220227135, 41.22638327523227, 40.32966749074929, 40.24944251954597, 39.586830025331395, 40.22525893958029, 45.2962962962963, 40.250065551081605, 40.26900980634245, 40.241138181133735, 37.77274663436293, 44.93650592132936, 40.32313051292426, 40.22671362055999, 42.78683224658932, 38.31582959598938, 40.2448494338869, 40.20588826281744, 40.32148413936761, 40.20856092554856, 39.93826248365125, 40.25589373242796, 40.25576957007461, 40.2528392414739, 40.345370084602415, 40.286920927290204, 40.287328400938904, 40.24362377468127, 40.1934117642289, 40.56863603796985, 40.28508348639927, 38.29436214653098, 40.33558556192121, 40.34201220747669, 40.25838638586071, 40.20606731227518, 40.273953159896195, 38.893343350694224, 40.20505686602678, 40.20627619310748, 40.22971109842148, 36.91358024691358, 40.29162374651573, 44.66422381164183, 37.818735459566305, 40.31223714994207, 40.266086300205714, 38.970252150556824, 42.87691747932117, 41.373867728384816, 42.87263410085613, 40.3397152064484, 40.239039861344885, 40.23214972272312, 40.25235572083716, 42.05791475098776, 45.2962962962963, 40.270451783093705, 40.313386463457284, 40.23743038259265, 40.217667313948304, 40.263610363526915, 40.21292862131294, 40.256192681796804, 40.231670856973935, 40.3324065988984, 40.28953879153295, 40.25883729493117, 40.20801003267786, 40.30701555747088, 40.232395852125855, 40.29657555527168, 40.284474262773855, 40.20727789415519, 44.61669156644315, 41.56305279564349, 42.356118231389445, 45.2962962962963, 40.330249405247166, 40.21380002361275, 40.29812995002923, 40.258754616923206, 39.85402368232859, 38.898388538343944, 40.280525170134965, 38.79598774382716, 40.26737108047312, 40.34324992918056, 40.3233997671907, 42.349010707295214, 40.3473956859738, 40.30409928251635, 40.20938984367366, 37.37290844647343, 41.9272014466699, 40.242854877730096, 40.49441551406913, 40.236182615248346, 40.28557936809745, 43.88640045975051, 40.199234880484475, 40.32426549229844, 40.318459114840536, 40.61497404625982, 40.32829061388392, 40.23999715780842, 40.290324845522676, 40.24808504917358, 40.245373930849645, 38.926208026610354, 40.30285604154588, 42.33315797476438, 39.94334028820979, 40.30193383292271, 39.75123034918937, 40.24362514001806, 40.28558351945529, 40.24644547882761, 36.91358024691358, 36.91358024691358, 40.269226135443134, 40.261820505594464, 39.906697277827426, 40.34392507843986, 40.247725698118295, 40.27699487016096, 40.24928773696573, 40.34292069191388, 42.82156678458085, 44.98109740508032, 40.812345201375095, 40.31231682451396, 40.29880799348107, 36.91358024691358, 39.786035269810974, 40.35343971348128, 40.246532488932345, 40.30810434795842, 40.29808749039545, 40.259770949623025, 40.22441087729665, 40.30256808999497, 39.95704629560469, 40.91446427594176, 40.27436809982195, 36.91358024691358, 40.256692611580334, 38.482842633179494, 40.267420542030116, 40.2275388845634, 40.27951726215727, 40.28878776629354, 40.33851797813744, 40.239800669398676, 40.34440522259977, 40.220629787737884, 39.86996977500001, 40.244998205626025, 40.29824133069461, 40.237872100387754, 40.30007159093902, 40.1986446003116, 43.888634976805186, 40.30227006390301, 44.60648299680832, 42.411658869767734, 38.755432549175566, 40.20193085299203, 40.33361615057436, 42.44379726854184, 45.2962962962963, 40.319242657950106, 36.91358024691358, 40.23942716739033, 40.32055551071888, 40.23696632043352, 42.69706271934491, 40.2991452251573, 40.26677158890055, 40.281909041023006, 40.21043054010706, 40.24678218198344, 40.22040652322833, 40.33107504647513, 40.20171667764129, 37.723849801377696, 40.35409832704912, 40.347359877707525, 38.86634137029821, 40.29049618020804, 38.598137722858276, 40.31099911320746, 38.39743276218132, 40.26416127036563, 40.25382688881334, 37.971220003713526, 40.30440570338608, 40.351725965128765, 40.31149130319048, 40.23800507067902, 42.717929656090256, 40.222920057272255, 40.31885688191689, 39.61705666464359, 45.2962962962963, 40.33909668824157, 43.2459721729816, 40.34233735453411, 40.25468806789438, 40.2895073928344, 40.29555855540161, 40.28787202127069, 40.258298159106694, 40.36271320974548, 40.21726851408104, 40.22086759295541, 40.243489771501274, 40.22951416947988, 40.25071353660858, 36.91358024691358, 40.281990096866515, 40.29994182660387, 40.33639754757994, 40.460299578017036, 41.343663790705165, 40.34744990201273, 40.28065100575749, 40.2476258619491, 40.27071372020877, 40.33737852651752, 40.20152377653744, 40.21461622627995, 40.28790983607952, 40.32817894884065, 40.23017459965414, 40.25955503824514, 42.209552357376715, 40.28043072485821, 40.25351651529182, 40.34834042321838, 40.259402576068155, 42.238324502909684, 38.86475215124818, 39.215344229278195, 40.295488349874965, 40.24524901751948, 45.2962962962963, 40.97451117496294, 40.29885593091718, 40.62481586510354, 40.21665380155334, 36.91358024691358, 41.059117104345354, 40.34325525497694, 40.25568416785412, 37.79233321260285, 41.250786052062125, 40.25457635479152, 36.992476666894426, 43.09347238597064, 41.49794633386971, 40.30945370612733, 40.31737210554467, 40.208655586973826, 40.25517775099217, 43.63723137535575, 40.23286494747264, 40.322022739742145, 39.109730747303956, 40.32611020666391, 40.32684754571652, 40.230769105289234, 40.21270111434578, 40.2383501722239, 43.242139427195106, 40.23102146640229, 40.4687231604673, 40.25569821218446, 42.104892017538035, 40.23849500899279, 40.34073343444209, 41.50455854741129, 40.21670074631637, 40.25517899010222, 40.32499857861482, 38.412546764393326, 40.310845355258024, 40.272266229142105, 40.25295580628367, 40.32546322279249, 40.23647279218113, 40.3184225407247, 40.30847662389969, 38.76024339783649, 40.49458907988738, 45.2962962962963, 37.79302231097857, 36.91358024691358, 40.307956668282905, 44.36211844348772, 40.30021940086705, 40.298239226290484, 40.29038029381215, 40.79574991555078, 40.22763795368323, 40.23212368603935, 42.40883073656149, 40.21789187571234, 36.91358024691358, 40.26086076770899, 40.302410280332325, 40.28647008140135, 40.22472977297951, 43.44096895901268, 40.26147801412354, 40.30674802115989, 36.91358024691358, 40.28909499798631, 37.57459833195016, 40.75571325995037, 40.227010765313274, 40.24884003601042, 40.34583601356683, 40.26041752634542, 39.3570125790813, 40.30130561325594, 43.27016259307385, 40.27631780542386, 40.34856337856501, 40.30281970026298, 40.28154086150839, 43.33049200750677, 42.93542798508041, 40.23558204518223, 40.31754605700932, 45.2962962962963, 40.21091609360238, 40.25267402884816, 40.333158251683685, 41.64925896446398, 40.206765775014496, 40.246398631201195, 36.91358024691358, 40.24062485979343, 40.243272540189686, 40.288503833252335, 40.20831562682003, 40.22392907133442, 39.20028022054518, 40.317432082626105, 40.31041714367782, 40.3139847157926, 40.21043089848356, 38.228477957255016, 40.312330313118636, 40.30954899035158, 40.24927395934269, 40.294936996533856, 40.19730072973647, 45.2962962962963, 40.34237621275588, 40.33875767901131, 45.2962962962963, 40.35356617581804, 40.34960392796539, 40.29129267696459, 39.757811517753474, 40.29487979968658, 40.45433336359749, 40.27953124057305, 40.01678150079444, 40.35457312770806, 40.349229544112255, 40.229349948804426, 40.292959990149356, 40.22210429210518, 40.27599836333555, 40.2176909339446, 40.47189499640019, 40.27587093575695, 40.29207488344251, 41.22357537885269, 42.70801318772586, 40.21898727053228, 40.303522631346546, 40.419213822476884, 40.28273128118663, 39.69694755843921, 45.2962962962963, 42.418470276329856, 40.3502356675025, 38.37347156722203, 40.25184107510803, 40.21234351361439, 40.9070639927435, 40.8212840522486, 40.23837345141324, 40.27013200330942, 40.23014926777966, 40.29019645794833, 40.252203306975545, 40.26198942462905, 40.21149242491308, 40.209111062296884, 42.95384487106709, 45.2962962962963, 40.19325537276669, 39.45645245990691, 40.41239686259791, 44.01580809793324, 40.26680768888493, 40.19902798118011, 37.08183053159965, 40.23279265641219, 40.305217621984625, 40.34780400954194, 40.27395110142783, 40.29930367657408, 40.389554916759444, 36.91358024691358, 37.12875719413164, 39.66451851769519, 40.350069276465746, 40.2052013746515, 40.22274445924828, 40.23880278384602, 39.208498780201516, 40.22309111460834, 40.21456723000374, 40.22296605401921, 40.24709632083776, 43.67566099281776, 40.268064759515426, 40.32027946480012, 41.49275911890101, 37.521368507666146, 37.34163424455434, 38.77374531503169, 40.25407272846544, 38.80768018013184, 40.273902006355925, 40.25834634435086, 40.713138534967186, 40.242515504046736, 40.269959780435755, 41.58920244965714, 40.27906155408494, 40.2813892624005, 37.0819564187559, 40.20200996753255, 40.27395157881317, 40.2545966402647, 40.271278921509484, 40.291440324913296, 40.667401077137974, 40.287208402347076, 40.335790614661875, 41.36826056395425, 40.23320625671776, 40.24298225524054, 43.68942708583661, 40.28489383749319, 40.193747388183056, 39.975870557455664, 40.111939918652816, 40.27171113993134, 40.34387476917325, 40.672664685547495, 40.24678546872289, 40.243959081819625, 39.05848054593407, 39.81039402231516, 40.28567254666124, 41.34254490946979, 40.3009231989198, 40.257169466511904, 40.29137253348102, 40.32205174911425, 40.25426257543375, 40.316014129037924, 40.32614929156098, 40.24948789593684, 40.30768916960032, 40.25497843674797, 40.25260601500657, 40.904016849452375, 40.31415927886667, 38.464977299164914, 40.99842140543279, 45.18146944367423, 44.024812247797215, 40.27251073940592, 40.27236332385882, 40.28447986701467, 39.35031977847542, 45.2962962962963, 40.24260168966693, 37.983897261610046, 40.85555309954658, 40.305878012761774, 40.336345617209616, 40.347903331664135, 40.30150724903604, 38.50528857252348, 36.93195602484464, 40.30229715197547, 36.91358024691358, 40.271983297349315, 37.24789595317182, 40.2824962903013, 40.264196172405164, 40.24508435617723, 36.91358024691358, 40.20550541178259, 40.3326182716837, 40.195921271625174, 40.30441076931834, 40.314854047905214, 40.20083847267791, 40.27234959565055, 40.25216807315003, 40.273744413390766, 40.24743935608468, 40.24023550763887, 44.36270039884406, 40.22054935120723, 40.3550684739596, 42.18452246310773, 40.279650078078625, 40.26803540524611, 40.331494405059736, 40.20715470071514, 41.75683297500847, 40.3080933687242, 40.32262178258385, 40.278685490850094, 40.252144563995984, 40.36007148382954, 40.215848556029165, 40.26974638340096, 44.15989303858212, 44.46044448671552, 40.27589007605189, 40.29291357235382, 40.28332206529732, 40.277167776625205, 40.25649040130615, 40.19765927829205, 40.7862712872839, 41.03971870891596, 40.71252729933978, 40.25132505980447, 39.22733008635285, 40.310085021618164, 45.2962962962963, 43.32317482085316, 40.342893558052296, 40.32040497397807, 40.30821132519882, 40.27173822597966, 40.300322436373854, 40.01610547018979, 40.330065854333014, 40.34528614047192, 40.235842106935706, 42.58719076394777, 40.24311046013639, 40.266520753681995, 40.286913894622266, 37.88028684093482, 40.32567079541609, 36.91358024691358, 40.29327787739334, 41.480832929156804, 40.26918222046609, 40.641821881124294, 40.33625280641563, 40.24251208121475, 40.2295916843407, 40.32566754931471, 40.19442275710064, 39.57798441443813, 38.47075283629858, 40.23172392659527, 38.757142553961714, 44.10981813597226, 40.30082524748691, 40.34566915468471, 40.26516106434905, 40.321525425576915, 40.28844099576408, 36.91358024691358, 40.288731644181595, 40.24114616572915, 40.293835903728855, 40.26870969593743, 40.27439439627264, 40.23833185984995, 39.54657847309838, 37.653052167569825, 40.24963730004193, 40.22682437769932, 40.951651444097884, 40.28205394273296, 40.19825850055442, 40.204309791379764, 40.25762781157591, 40.20264664646746, 40.23487309295971, 39.40596201857655, 40.25128898692505, 40.30391003552327, 40.247499829398606, 45.2962962962963, 40.24366519066419, 45.2962962962963, 43.409111200447, 40.23805114420268, 40.235951810628805, 40.99987881362601, 40.3330134364021, 38.729097808476475, 40.31438700145858, 36.91358024691358, 40.27504177874822, 40.24161530502886, 37.77019129340742, 40.26419867675134, 40.356729688669795, 40.2838366676123, 40.277790057502635, 41.85284786910176, 40.29575887308527, 40.33547150735424, 40.19955560260262, 40.27206197466426, 40.2979595074815, 40.28354739527272, 40.2566891646914, 40.224602891184105, 40.356514580282926, 40.498717207529765, 39.79135701933027, 40.30853365237376, 42.07536664361347, 40.238699520100276, 40.237105707385204, 42.56584142381332, 40.256170640221676, 40.21492813988246, 40.244357948124005, 40.22336725537526, 42.021559852948, 40.24789119217448, 40.299577516209254, 40.314285757466806, 40.20393628832507, 38.302863623204686, 37.09400188219652, 38.949406342968715, 40.28383721669704, 40.24612397223004, 40.21238377679859, 40.265001870757125, 40.26422011819626, 40.20774743421176, 40.27972116705777, 40.33441726042236, 40.308708048215486, 40.22321011655018, 40.27464101268797, 40.24714371563416, 40.22026370597218, 40.30547270277766, 40.21324502916821, 40.243994735792164, 41.30304167696414, 38.44725557944801, 40.315751777174086, 43.10810712377814, 40.5129650580577, 40.41413318327675, 40.270629608847806, 40.29722943014972, 40.30237002285702, 40.224367630133024, 40.247170991532535, 40.24911331570103, 40.24146922926914, 40.22465825160056, 45.14147580856281, 40.30462347458112, 45.2962962962963, 40.27194386507984, 40.27526309006052, 40.0316146359419, 39.456816692000835, 40.258348156802896, 40.31572044966329, 40.23532989128245, 40.31797058746221, 40.27499877461818, 40.19452604910556, 40.32040844124326, 40.20921934462406, 40.21966725261051, 40.35284315079455, 40.19552266758838, 40.21794322375947, 40.26657191181841, 40.33711613188595, 40.3450318557064, 40.3187663430012, 40.2306499109044, 40.35291125903432, 40.23921299189022, 41.33223583997644, 40.29153454473744, 40.26594217199196, 36.91358024691358, 41.90644293405128, 38.33117580112161, 40.26266434436582, 40.2413597338953, 40.26523266155297, 40.23862502306323, 40.287423261649835, 38.401322925686735, 40.31213686547049, 39.67991878108258, 40.32748068591927, 40.27980023456113, 40.624111039464154, 40.23778586695629, 38.436217846241505, 40.2811956340331, 40.29094839688652, 40.800852784235346, 40.29359298192654, 42.835632106962706, 40.34941775604407, 40.25639042511454, 38.932739402161964, 36.91358024691358, 40.32276151090395, 38.474674726183686, 40.25500712784641, 40.28722437617724, 40.239613784587064, 40.269834948097284, 40.265881173389, 40.30820679720729, 41.995225330163585, 42.62180677920206, 40.221635050159016, 40.29746200114818, 40.323537668606534, 40.27419137524652, 40.210094510522964, 40.26017552748311, 40.32843532054798, 39.30187726343777, 37.91535033761777, 40.2345642543429, 40.19554144200423, 39.23925880524417, 39.68854292837253, 40.224824080413185, 40.226107409209945, 40.23251862313911, 40.72916229143535, 40.217767541193396, 41.814836397352224, 40.339753047781656, 38.99399991488351, 40.206406475613086, 38.27120747196983, 40.29705182522165, 40.957421640504975, 40.29450247783783, 40.26656331528311, 40.268442560224834, 39.674079930692834, 40.30436488409831, 40.24617986434233, 40.355608544922006, 40.23816942090122, 40.27463161103991, 40.33609411427288, 40.29412643419538, 40.28991124255028, 40.296927831223364, 37.1810446260664, 40.28291624276477, 40.29478476071877, 45.093249961948736, 40.34789199784034, 40.296349862659746, 40.33086923532319, 38.68510719131255, 40.288341441236035, 39.05405580411514, 40.269852226564865, 40.271848605450735, 40.28212897676231, 40.274575515442784, 37.3804208366924, 45.2962962962963, 44.655239771427794, 40.31921614481092, 40.27370014974205, 40.218632494899, 40.23631380846157, 40.30624041618649, 40.13968227097655, 40.094150215836486, 40.25987432720977, 40.19643744072425, 40.252651567974446, 40.32071154739084, 40.21800427480213, 40.26586344422889, 40.27477588400019, 38.32751270840146, 45.2962962962963, 42.07897281953784, 41.10283330394666, 40.30452734623962, 40.295658987489475, 42.46463323152872, 40.35532500193658, 40.345165509525025, 36.91358024691358, 37.06618117899233, 40.308485693545855, 40.30455368367241, 40.94473114230196, 44.232691834416784, 40.28442025199357, 40.35636253230509, 40.28180705073384, 42.86795636995986, 40.33708761990847, 40.262763448276054, 40.24502443623793, 40.240846268945546, 41.66477111153619, 40.205228538944176, 40.340211579753024, 40.223295856188834, 40.2757529845443, 41.90248444211779, 40.30068576708588, 40.24509338181763, 40.22491644965664, 40.28638723798847, 38.09872968473682, 40.18682519302922, 40.29582596232861, 40.21374399556064, 36.91358024691358, 36.91358024691358, 41.27441102161305, 40.35053368490539, 38.28086664371539, 40.567583043044806, 41.673474163325686, 40.314563692960995, 40.240621753734004, 40.28323856831767, 40.327986799341254, 40.32991843129153, 40.33303263492652, 40.34669094525206, 36.91358024691358, 40.25062442817744, 40.202616919011525, 40.314799119962, 40.29005656800064, 40.33313204260369, 45.2962962962963, 41.90940140194984, 43.79587912929371, 45.2962962962963, 41.137521498883224, 38.909199764129056, 40.27851000866043, 39.045632088810834, 40.241375165647156, 40.21110220322464, 40.3484386666863, 40.23216902529205, 40.21548760427229, 40.32194992703596, 40.22926917063034, 40.22872755920703, 40.31973728548603, 40.834716420535266, 41.090527453054584, 40.26782951350888, 40.248219724691445, 40.33958362958928, 40.27271666051447, 40.22837319562933, 40.22449074882942, 38.02086558973971, 39.09964709660922, 40.35664365767264, 37.514611404189885, 40.3182203677756, 40.03430156359133, 40.26933987009796, 40.30851834568407, 43.782857346145164, 40.28888216999144, 42.69021849097604, 40.196059558266086, 38.15688407805449, 40.33994190436987, 40.25026087237175, 40.334099042009576, 40.326183484141715, 40.21175895941591, 40.27802887448203, 37.3011705116398, 40.31424022288189, 40.193451483047596, 40.26693992126309, 40.210025632954896, 40.31137646635738, 40.27892790598089, 40.28430755188677, 40.3431403490201, 40.220915201628216, 40.22187910233803, 40.22649785110479, 38.0786229941312, 38.419717646410874, 40.30548112942333, 40.24446669139076, 40.32578458616433, 40.272980121207226, 40.323836622412145, 37.75790781189148, 40.24522914430797, 40.29267379686806, 39.43279283813978, 45.2962962962963, 44.71234540885967, 40.21002069405409, 40.26995305010619, 40.254461384368014, 41.689827794815166, 40.27678040008417, 36.91358024691358, 40.20771107480151, 40.26104454614164, 40.310714848041094, 40.30708345197967, 45.23918628516431, 40.25387485988721, 40.20597790793831, 42.76082049806334, 40.32887328062102, 40.97916949192418, 40.353706158507016, 40.27052290121975, 45.03340299574795, 40.22481012795458, 40.21343993617203, 40.29537288977549, 45.2962962962963, 40.35624537661149, 39.27545014130991, 45.2962962962963, 40.30324273143787, 41.073269412053975, 40.20930960471962, 40.329992066653354, 40.24194801390183, 40.22878682052465, 36.93631964598184, 40.29144260646418, 40.244222814050524, 42.36849257397603, 39.445657721706525, 40.336967885229484, 40.32065202626204, 40.276699974948976, 42.705433065463225, 40.2562286657485, 40.19604595967633, 40.250997572312, 42.81864717416301, 40.28498559895324, 40.21440313956117, 44.09720638034296, 40.63570384964878, 40.20344870940938, 40.252859443940984, 40.24129455943105, 36.91358024691358, 40.23668332973782, 40.22125681157767, 36.91358024691358, 40.292329046838574, 40.340021300381274, 40.240004822231505, 40.23909247436863, 40.31787241519495, 40.46085281948055, 36.91358024691358, 40.248233288869244, 40.33466220665628, 40.200241752441904, 40.28378915870645, 40.29551806579387, 40.22904653283725, 41.54364069017771, 40.246131549515084, 36.91358024691358, 40.236876885306785, 40.30558459138649, 40.31627113764364, 40.308370629043594, 40.29560630743404, 40.30571474872938, 40.20021072048086, 43.45218938994839, 40.20463294419345, 40.30586821788865, 40.24414917833161, 40.85225642962024, 38.89464777043236, 39.22458506297383, 40.196687134017154, 42.49675339242327, 40.207310302272255, 40.241874573810875, 42.890062188940476, 40.276867168344005, 40.245160974229286, 40.22955150035686, 40.260428513803326, 40.25113635595205, 38.32494673879479, 39.302913463863376, 45.2962962962963, 40.30078704853957, 40.28831804332918, 43.53580690438639, 40.26720337103833, 39.21212031473092, 40.68454286156928, 40.24745420707691, 40.349658465845955, 40.329730527975954, 38.31019661820484, 40.31916608633661, 40.237200021600074, 44.06682971453981, 36.91358024691358, 40.22575664351348, 40.2897744878552, 40.227965045487224, 42.04530429709169, 39.47731717544597, 40.30132137246024, 40.29153462067891, 40.31500962905222, 40.32227692640328, 40.2182605517685, 40.25401619420011, 40.22175697855492, 40.27560256706245, 40.233045078307065, 40.309065274771974, 36.91358024691358, 42.72737102923601, 39.16354330716529, 38.739479866462105, 40.34445601560272, 36.91358024691358, 40.19376457322016, 40.19574696135355, 40.27259946310901, 40.2926082695245, 40.29197033218226, 40.24304208561863, 38.608490879687025, 40.26009804169679, 40.34930053827232, 40.207692553196814, 40.19981671088872, 40.22151980990983, 40.21412051650419, 40.29699091966543, 40.35073440284654, 40.34576624483548, 43.022059262316546, 40.255561851141714, 40.281692690251454, 40.31079108573622, 45.2962962962963, 41.35563964568314, 39.72595971243547, 40.32913540014482, 40.24548235432372, 41.96350515706856, 38.46134237785577, 40.286635263811, 40.2512334506302, 36.91358024691358, 38.158253249320175, 40.29989957982977, 40.32330338478109, 40.301448725068305, 40.23331410877204, 40.2834692508399, 40.3071382533534, 38.350036267569834, 40.28420238437, 36.91358024691358, 40.26748396053924, 37.12819040184712, 40.24574907905032, 40.196412773020604, 40.33403528527378, 40.34458678773074, 40.23740428945282, 40.19432929369503, 40.27160157577664, 41.52043900730273, 41.833755023262405, 42.11947297721883, 43.60464499048467, 40.26595541566654, 39.708968783610004, 40.27597951969025, 45.2962962962963, 40.29044856338581, 40.28816692257128, 36.91358024691358, 42.24827941358147, 40.30676546269452, 37.429691766948096, 40.2381970428636, 40.22896177997572, 40.265539576918, 40.24798058360646, 40.21150528123212, 40.340969347389056, 40.20332535188951, 41.88805314046932, 40.24810901728177, 40.26030786623863, 40.32518775428513, 40.2767356619718, 40.32569796867592, 40.623030994485866, 40.303739955716, 40.75674171341811, 40.248563105632215, 40.94840469793016, 40.21685087265688, 41.07944957207837, 40.321104502967245, 40.32586648166892, 38.90844320607151, 40.24795234598447, 40.29216006195213, 40.234225036178, 45.13797966934903, 40.27840374759806, 36.91358024691358, 40.26409108244075, 40.26934586117092, 40.23019900619131, 40.201896634273396, 44.63670489189679, 43.227746739655025, 40.25773531127878, 40.33324008201858, 38.960438561747715, 40.30060224164682, 44.3517021173463, 41.44284362801821, 45.2962962962963, 40.293987386586636, 40.290254650826064, 40.309523598702285, 39.89598071139494, 39.41312730748628, 40.28878620304667, 45.26449754414211, 40.224564814422976, 40.229609761183376, 40.24965592812573, 40.19490513048038, 41.009891979323605, 36.91358024691358, 40.35322203908272, 40.213817206600645, 43.24984359541651, 40.350838643444696, 38.1585307500176, 40.29617246730679, 40.20643070620099, 40.2555612985911, 40.28344755030459, 38.75547950681018, 40.294194126051686, 43.66289180539822, 40.340459008208555, 40.2299494060137, 40.2426363103528, 42.723578451941606, 40.33401334887412, 40.32236430501365, 40.30470766361631, 41.90046340679646, 40.32617420415961, 40.33436200060106, 40.21200014729734, 40.20893898380972, 40.28678072981133, 40.30687666527076, 40.263473129221545, 40.34154853470201, 40.93484804607305, 40.35165233939968, 40.32670035698996, 41.00423973664981, 40.26166810330257, 40.215406037124474, 42.81080681038993, 40.272835471998434, 40.29282939321038, 40.24703785273027, 40.27594060809935, 42.23306642148646, 41.41912625567015, 40.272485158120524, 40.09992264252571, 45.2962962962963, 40.246694037329995, 39.44883567665427, 40.28736947152912, 40.230030008037275, 40.33227555867264, 40.28462308524561, 42.95839834237305, 45.2962962962963, 40.198056889959574, 40.355311670881555, 40.312059849205866, 41.9453868591473, 42.045947359844625, 40.28906765956429, 40.33444097182943, 40.24406577841401, 40.23798840741865, 40.248721886119604, 40.255427147314904, 37.9208199415677, 40.60605193899555, 40.279366476476376, 39.67808030756281, 39.14918666313993, 42.096447462354334, 40.300372153118346, 38.778084491677504, 40.23346234388344, 40.25896066707172, 40.29264568884086, 40.30620409022169, 40.251381930307524, 40.29547666227849, 40.2783584747323, 40.268474368386315, 40.330233647763215, 40.231502622491256, 36.91358024691358, 43.64622397175971, 40.24846405775445, 40.3369418438641, 40.22781382222979, 40.27108764904988, 40.21278839899686, 39.50554945151583, 40.25919239173832, 39.680654939170374, 45.2962962962963, 37.871897836527104, 40.24430287289478, 39.90018630492565, 41.240297478569424, 40.34270833940285, 40.26298270908826, 40.27627498466104, 40.25180181294904, 39.87310191033613, 43.59398726861114, 40.195528777903284, 40.274209623572474, 40.2915111469786, 42.308423124030895, 40.2338722580138, 45.2962962962963, 40.22203021586122, 42.398905499670526, 40.27052483538438, 40.28460698248961, 39.52955426635789, 40.289460762084126, 40.33154606235588, 40.31623009958944, 39.1159584644627, 40.23116303824837, 40.306353403088146, 40.29417679184182, 42.72409520429643, 40.24320969407075, 43.57001442145799, 40.213607601218534, 40.264394844373896, 36.91358024691358, 40.740761932860465, 40.283260220292014, 37.079214522703495, 39.441739310562426, 40.33171543582719, 40.25662023559006, 40.274722087803376, 40.25189252594693, 40.33191706721708, 40.28217172361993, 42.85856188299848, 40.26386462760477, 40.238193592970596, 40.29344011048014, 42.932773622181166, 40.19433103414773, 40.24516174458415, 40.33414998206136, 40.29778033389159, 42.435875284997856, 40.4320912263523, 40.31877849138889, 39.293366727173414, 40.327083434076364, 40.222696619166626, 40.31881971757058, 40.25466510436233, 40.28642049592151, 40.203732641746214, 40.31853351397271, 42.74737007765541, 41.92620939994929, 40.31829394086551, 41.362974552139356, 40.24143796828304, 40.312895934502116, 36.91358024691358, 43.4721191353935, 40.258278187674904, 40.8562693817224, 40.31515217045912, 40.26335120325835, 45.2962962962963, 40.255571838279025, 36.91358024691358, 40.31188924736643, 40.25369815418342, 40.115676155128625, 40.288261126887015, 40.32230214378861, 45.2962962962963, 40.22263331635472, 40.284117410838235, 40.37975593782169, 40.26455997187252, 40.32252429048392, 40.318012109830136, 40.22546019613631, 41.740717362274076, 40.0243507989689, 41.99341528729261, 40.32897819952817, 36.91358024691358, 39.69963074430542, 40.266924378709234, 40.35167759320045, 40.318081206567896, 40.26890853207304, 40.27182451175086, 40.2822982235952, 40.277400270426384, 40.29237560707008, 42.18314688027015, 40.31703913934947, 40.20034810612775, 41.86815405764149, 40.29035023753011, 40.341808262031066, 40.265803315432244, 40.30659856702615, 38.3101964980949, 40.23358424368727, 41.62795515473467, 40.22017012773888, 40.338123329045025, 40.32197843479965, 40.24929500770457, 40.31501712505263, 40.20212049995096, 40.33811174465039, 40.3254044689997, 40.32846112751308, 40.321050917843884, 39.81358732912125, 40.22362674067497, 37.41410942830673, 36.91358024691358, 40.4539352698971, 40.26914147812924, 41.05738540932251, 40.338364672518736, 40.326313981706605, 40.56293351280228, 40.541192782443986, 40.28665621051951, 41.22704735905613, 40.20625120247729, 40.34981619396317, 36.91358024691358, 40.31172156090797, 40.26901110567456, 41.55826816430399, 37.42878101917488, 39.731377819421894, 40.25067294962023, 41.77650338941996, 40.2577046876339, 40.82915859209579, 38.36887739572065, 40.20893300465709, 40.26710094006535, 45.2962962962963, 40.35518261859556, 40.21882337142667, 39.35555113390003, 39.77317501328752, 42.83222621869345, 40.25029498342987, 40.15409968829777, 43.1223256204279, 40.27552995409501, 40.25255397138957, 40.29942609662727, 43.981445674311274, 40.30146122159674, 40.30159241786042, 40.28696529230543, 40.320873926475954, 40.31103801152235, 40.278124157775174, 40.238810201658275, 40.29972500459564, 40.30831421349404, 40.26735253650521, 44.29028784571058, 40.23599208452361, 40.27493110751726, 40.271647494112536, 40.19659401668454, 44.43431596171064, 44.529470564690385, 40.2525571144232, 40.27546570346177, 40.26100618885191, 40.31259865063447, 40.22073011137869, 40.19888138130872, 40.23542595350541, 40.29616664300125, 45.1402631271245, 40.212187226293366, 39.32013872959148, 40.22234267733038, 40.346701796992726, 40.21996107221169, 40.20475267139018, 37.99403476082658, 40.346413136989995, 40.293361373013475, 40.21397609910347, 40.27020249292848, 40.81211047001497, 40.24107901081349, 40.22771124083574, 40.26771065772241, 40.2569775568455, 40.2959934143697, 38.30674490795288, 40.348421929642704, 40.322821591709605, 40.27398909421172, 40.20325243973892, 42.42164130097196, 41.62157332808221, 44.81998860731612, 40.27221830557246, 40.816173905361964, 40.30626524895375, 40.22097249680194, 40.3272499986997, 40.25602385718234, 40.29930965145379, 40.22009793000944, 40.23614749398388, 40.33136595831009, 40.288644493770256, 40.03890369442019, 40.242810098528814, 41.99032061080837, 40.22144172581696, 40.67643926277622, 38.56400851623422, 40.119035874501634, 40.25124608012294, 40.262061692499614, 40.29193960216549, 40.21957580888792, 40.305141008492875, 40.25567426160305, 40.20382402101889, 40.320737966773265, 40.325179558632954, 41.13336211004218, 40.59315558209301, 43.87518839773133, 40.21539682391233, 37.03913263457674, 38.513740069029424, 42.98101261930821, 40.21580196673791, 38.5263740653309, 40.31216453002896, 40.266610931623774, 44.68409672410771, 40.25313331125805, 40.58938368663851, 40.25860418555939, 42.69812552400984, 40.230628419470776, 40.11734614390166, 40.33882005899453, 40.89358376667671, 45.2962962962963, 40.29662246241886, 40.322353899493486, 42.653894239689805, 40.23794926208823, 40.3116061095817, 40.63971551362651, 40.32014720873065, 39.92674868019302, 40.22573346529549, 40.28549283267588, 40.22441626221304, 40.99354985194434, 40.272244824319415, 40.2628698463976, 40.31322810494539, 40.23938038204992, 40.33859567883037, 40.23332042725957, 40.22989505589681, 45.2962962962963, 39.44609074317142, 45.2962962962963, 40.325167821170815, 40.113935510063754, 40.30077465579695, 42.28720303445766, 40.71423948094471, 40.107576400266844, 44.29294118933221, 39.69301967112734, 40.2793801192238, 41.125115065926316, 40.32247812556112, 40.398420380708124, 40.2042889001914, 40.21518513479515, 43.39010776466686, 40.307819750856495, 40.34535704301055, 39.033925812493415, 41.790522338423855, 37.818832674891546, 40.27760112785423, 40.997815927034864, 40.33016851883196, 40.34032654721795, 41.47071015089204, 40.26715086602921, 41.27405677142576, 45.2962962962963, 40.30586739712622, 43.7612923045923, 40.336285894379266, 40.34910925159928, 40.34601323717959, 36.91358024691358, 40.27028393180037, 40.254875169415705, 43.643610531678775, 40.32826446511057, 40.2573267111719, 40.42846515088813, 40.20088231886483, 41.168254382520686, 40.2982509127871, 40.322717945943026, 40.261483725696706, 40.327164022297595, 40.29698810369483, 40.29415097651605, 40.33483395292343, 40.23533537101072, 40.255444465784606, 40.282114087313296, 40.310013086915546, 40.20996324911082, 40.29412683258224, 40.2999103265765, 40.26634648714815, 37.465006955289745, 41.74910335041017, 40.21213667570018, 44.16539866606868, 40.25716604505054, 37.93118545169847, 40.23504407276137, 40.26096964694568, 40.32062714395087, 40.27235272671463, 40.29545125569797, 40.3390485531258, 40.29853734907272, 40.258706421816626, 40.33751592376421, 40.340707527566906, 41.8336914613843, 40.243026238473064, 40.23042756716083, 40.25599300370793, 40.19623286093198, 40.267718426661524, 40.24292142945761, 40.25010869991629, 40.282352811510464, 40.3182077372046, 36.91358024691358]
thresholds = [39.08887552697784, 40.2759638405586, 41.641624915771615]
display_name = "Ratio of Military Spending to Medical Research Spending"
units = "ratio"

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-military_vs_medical_research_ratio.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Ratio of Military Spending to Medical Research Spending will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
