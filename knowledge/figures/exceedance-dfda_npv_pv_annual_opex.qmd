```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: dFDA Present Value of Annual OPEX Over 10 Years"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples

samples = [356298204.8054594, 268282509.13931885, 391436742.9401901, 407459510.8593807, 225200318.89713576, 253844571.6939778, 343245422.5076181, 312543418.89564484, 332927808.1432548, 279075482.0205925, 402234046.6156488, 393701619.35225374, 338797820.11222005, 423830914.17335176, 368750018.9376529, 278707801.67764014, 361145085.9807141, 272912641.8473263, 402153616.6570626, 330608948.97973555, 321328665.37001914, 289396165.15885407, 432440763.2128952, 323391844.3858794, 305238610.306682, 310185499.7698821, 373826790.70569295, 360893184.0299878, 364512346.04400253, 365906296.4541828, 499016865.95138633, 306653151.19717735, 299881739.49480426, 281397437.7978956, 380485542.97503024, 423985768.671645, 326172889.92762065, 279835346.9345253, 280762376.0925143, 383274765.6761072, 390842719.7176283, 374683258.1169583, 290339233.21436274, 350884863.7689437, 342438481.0553768, 349888767.2336461, 401558194.288903, 350251231.3189875, 385572126.08776456, 338908528.16253805, 355127464.91938937, 381716647.4109238, 245678952.41008517, 312317396.925906, 302542736.29377323, 291975268.1371786, 315265610.1932193, 458027695.0397939, 278323568.9371186, 409849385.52545893, 234253955.9552943, 311316441.9294078, 345783376.6152785, 378103888.2131517, 388210165.03479064, 394996049.54978096, 310408658.7962009, 303055181.09053004, 400419856.5536376, 320892194.779831, 255267412.74310464, 263052906.3147254, 275192538.68168855, 371064454.1428854, 344303419.8037111, 386514781.02671444, 305307863.77042085, 345476094.6558538, 381257973.86281747, 312998516.5941779, 367915735.2849021, 290558854.16979134, 309471609.1943037, 308253990.189473, 259604094.3681724, 370267576.72028947, 302604682.5664415, 334992143.8994974, 369781465.57424134, 367121300.1588965, 384472994.3182039, 327238766.94174, 305562702.7958303, 328537178.73008776, 234033411.6826521, 246200075.57490015, 252747975.21280262, 270712525.3372891, 363516998.0517, 276005048.092377, 308486619.8015661, 439495899.1552594, 309915289.0008565, 390369717.0413203, 274371297.8793712, 319936684.40781736, 273423315.08326364, 311044088.80811995, 398929775.4605788, 232067431.868664, 366184563.8789735, 351297823.4381388, 294743748.05467194, 246254861.077482, 339234092.41388345, 298792262.14421403, 350922987.90292895, 335654266.1714786, 468471777.9728107, 317655169.86962044, 269217332.02964884, 346991010.7019633, 349985355.61564064, 445092221.7588082, 398492531.2334956, 360240921.0624774, 454979769.71205616, 259991979.98083675, 291921450.3560632, 274779236.7876981, 307729436.32406056, 249885512.2020424, 382027909.0864237, 318805582.62470627, 244972433.52724642, 269667479.0202651, 356960179.8144606, 398746169.10698384, 496278594.013924, 499016865.95138633, 364641343.6623832, 271153176.1683337, 221320582.52574962, 353526878.80253667, 281446817.4837269, 306075110.755154, 293629768.58502334, 324330670.4137199, 418387085.36751854, 345367412.2601991, 323111833.1663518, 268527733.63327146, 234658907.11346024, 301527219.35809445, 330340021.7517063, 483300657.4814843, 343421763.2772058, 411102000.31323737, 300702066.76334876, 260201565.5238413, 272553910.9594547, 286704028.32673484, 499016865.95138633, 280945748.6447982, 398776683.5874289, 276153692.5166287, 406687114.24474365, 362381740.62265295, 323248006.7746242, 331248799.43971145, 290996796.64863086, 367085746.5122705, 303526700.3796275, 257978868.1721096, 255146197.65822154, 346501698.2107459, 466234167.37050354, 345581952.70591277, 325850210.33368206, 354880770.03575927, 440124557.6722845, 349940001.4165821, 306361338.3155892, 421961086.83959126, 365746925.15555185, 461989818.74315494, 347280985.471074, 258040746.2516713, 250335460.10790277, 473356110.1842622, 480678290.9150925, 321691137.3564691, 308159733.1672442, 454801351.6638808, 264513339.32151875, 276631886.362062, 382687564.32163095, 307418234.9043915, 333749277.07589006, 322784201.27572954, 358777089.4377974, 449651581.0680566, 340557707.5995582, 382736988.26792896, 223057502.478627, 330693194.7700537, 279653923.3591377, 258348850.20821783, 277600971.2695399, 311366472.4077806, 405344503.8917078, 252551119.11485985, 336276634.5328031, 301663301.1106968, 311790532.5641202, 412842294.94434273, 374285083.21940917, 443050294.3620361, 323393468.59658134, 288480919.3151264, 318695543.47401154, 351650931.875033, 346793213.18151784, 265780838.340353, 340550872.0167293, 350593787.8581742, 499016865.95138633, 489398839.8124559, 279063739.951692, 314452376.0489668, 245353340.43130907, 294957937.9374451, 357117724.57675, 430920580.79104084, 286470760.15859336, 291036170.97431517, 221000444.24039242, 322837123.7417697, 267015879.80556846, 298795621.215318, 277676630.2245526, 327530481.5806344, 230583438.9326058, 245166894.13224941, 499016865.95138633, 254636124.3829497, 265086553.2458387, 487146475.3389725, 499016865.95138633, 260936977.03006265, 309132567.3898697, 359078599.9210093, 481138791.9707545, 271306599.9695342, 317258481.4966242, 393663873.81264615, 366211024.208123, 308617248.6028886, 324807864.5262203, 249979917.22668976, 317734395.4301766, 315848520.087128, 350885498.0331481, 297168003.02434975, 369063666.03856677, 413710737.32414967, 345249430.69897115, 359852343.12110686, 337878637.22922677, 334116115.16508347, 286925999.5770298, 357184741.1082469, 327321558.03347707, 499016865.95138633, 465670104.1897614, 362450229.41456366, 284424671.8991491, 264214056.07954082, 429584933.7663731, 353156903.5951151, 369734397.4260954, 231223656.15481973, 406332445.5262569, 367732958.86461264, 264324497.36875108, 302469197.6238503, 353229043.9076083, 337829551.4152977, 314134869.7571419, 326893517.37016404, 316810323.6619635, 345040646.75453126, 455766723.0394137, 213255070.9193959, 317823136.0990647, 346788754.0935661, 355642986.9449032, 308893566.06644374, 230632411.95967844, 358052634.12076545, 481052192.6299392, 241735127.25213623, 400914646.56306064, 311734478.6130078, 329814757.348012, 267552506.19164926, 311344613.5427943, 439571613.8692016, 377819393.61838526, 481337174.6166792, 428341966.6707239, 366545050.4186399, 481976242.9797924, 366537817.14030236, 397894005.47896856, 313843380.36702186, 338834646.8734746, 288390776.88798124, 411696193.8869044, 260566349.53191006, 394080505.7886122, 320936429.4171496, 427785086.30391634, 391471254.1789014, 486234425.08526933, 389814833.5583008, 239795829.15442717, 329423270.2813736, 260912723.8445754, 299499995.09116983, 459604690.34251165, 382220049.12729096, 288299117.9815128, 269773423.33267444, 336429266.653403, 258471677.98462707, 289994515.06678563, 356846885.2546936, 426348988.8373641, 379906468.05357623, 218025248.49104184, 356271865.6327597, 339227225.4875169, 364601400.8186161, 469900628.6196058, 222778337.57999384, 294933268.74929893, 378477787.2636862, 239312965.29163766, 456195610.5796986, 361115049.2447577, 399458438.333989, 296190457.66426826, 396701463.12954926, 418607101.12997264, 350937931.66309273, 351050719.5468396, 353723256.5475376, 278469583.2362673, 323869903.50552326, 323528819.3990735, 362262694.1435097, 412586803.7946693, 267234458.78555068, 325412488.03890425, 456726037.88654673, 285595420.083389, 280894577.88396543, 348681356.20906687, 399273137.2111555, 334916656.77752477, 442262120.01438755, 400320002.76454306, 399057072.84347004, 375550972.2248229, 499016865.95138633, 319955307.9138978, 224060363.3001045, 468716575.0174933, 303352813.6195878, 341802827.2731166, 440454302.12176085, 238271879.34042925, 256565358.5294255, 238321228.75679988, 282565703.3799671, 366587587.1778229, 373186707.6311646, 354166211.1891741, 247990602.5212231, 217643025.54016078, 337964075.11905044, 302453164.94331247, 368118459.1209619, 387451277.9026221, 343999563.63716155, 392237285.34982574, 350666519.06791407, 373649782.42540956, 287950002.4127805, 321684879.13060296, 348274720.5607026, 397268157.8158863, 307474279.36743224, 372948920.1042805, 315885089.41296625, 325925585.2642568, 398022562.6327287, 224286598.83997616, 254150409.02418664, 244385029.60552153, 217167425.12962148, 289558942.01100826, 391352723.25467753, 314618245.2262839, 348349244.78399295, 420443732.9464887, 442143190.9689934, 329271444.5324606, 444566381.1071396, 340668515.0730364, 279998246.7104001, 294728176.63386786, 244470059.78420576, 277016968.7767438, 309800698.0018385, 395850306.45883644, 480384620.63495576, 249595962.80948502, 362984529.79097205, 268250822.60186577, 369309727.72881246, 324995451.4205586, 227856339.98694146, 406406064.8410873, 294069725.7848985, 298514526.3199842, 266602806.3702223, 291027768.49257743, 365680096.2915263, 321031703.00679874, 358102994.8619107, 360625059.58494127, 441488259.4186471, 310797874.1658039, 244659870.5348373, 418496771.73702615, 311539651.0874883, 422701133.3639292, 362261413.66413385, 324991962.40710574, 359626096.4049854, 493634067.34969133, 499016865.95138633, 339037420.79687256, 345596462.6251817, 419293911.11710876, 279510536.5242571, 358436260.5303847, 332291843.27636135, 356989885.3232682, 280236390.79229546, 238910751.94144514, 222570617.43739137, 263937003.63344973, 303290359.6191891, 314067242.97919756, 492841985.6367029, 421934789.37961596, 272727956.03717273, 359545103.0057942, 306610242.16417676, 314652781.9034927, 347434260.6459918, 380741884.7097307, 311029295.7618089, 418199185.85947025, 262573217.45566562, 334557358.6368557, 499016865.95138633, 350213112.367222, 452099994.94135785, 340624922.3293301, 377669687.3755566, 330130935.35591793, 322310201.7855342, 283440694.10141337, 365866176.68541616, 279164215.0824227, 384489230.98519546, 420095149.7527988, 360975997.105653, 314527666.3579396, 367697673.0431354, 313042997.9885668, 407028313.8198074, 227845142.30093908, 311268997.37697905, 224335283.0373743, 243722082.24748117, 445531516.5401568, 403576274.4304498, 287051814.13077456, 243339687.35265833, 213255070.9193959, 297910783.33262837, 499016865.95138633, 366220157.9729737, 296901954.769927, 368561054.63526535, 240357126.60963032, 313793559.543494, 341197322.8039366, 328095032.9246361, 394784300.86878794, 359312778.3872113, 384711664.2517746, 288942068.9171865, 403800351.12157696, 471164424.2639253, 272264656.3377234, 277042581.30092776, 442899438.44683635, 320889509.35929716, 449304373.53168154, 304324936.3887905, 454187635.72204524, 343509549.8694037, 352820207.9772081, 464822115.9325391, 309555421.348122, 273937222.23599803, 303938086.08586067, 367571098.983787, 240113809.39149415, 382214975.3367817, 298207880.8191808, 425674800.9942254, 215951353.83488956, 283017404.3772493, 234076187.85140446, 280658833.1612471, 352034695.3502462, 321710997.9227303, 316716739.48847866, 323074335.7694718, 348760976.31601524, 270068495.4173524, 387851776.6125, 384252454.00523597, 362388391.08953595, 375742555.2245184, 355674807.82104534, 498516609.05105424, 328026260.1011666, 313148026.5462061, 284997125.7480702, 268719924.49151844, 256954059.95612898, 276978194.30470747, 329164297.3604462, 358528905.15877444, 337735132.4349845, 284276000.57738286, 404002277.6119917, 390526021.87777007, 323042745.40290976, 291111728.42659557, 375100442.7465862, 347628438.0904395, 246147370.7345285, 329351886.43049437, 353103744.69593453, 276342091.2291157, 347765619.2410698, 245799924.57943526, 442936990.65898204, 434765696.0579158, 316774231.4843753, 360741693.7590158, 215639763.18215302, 261776172.52702224, 314028324.22164595, 266468933.55637723, 388469926.89520967, 496311475.9337481, 260659213.00815445, 279994396.13289076, 351128319.35141146, 469395800.22707605, 258154811.31403443, 352136493.1278794, 486270957.71035606, 235796533.8575829, 254977675.56676346, 305542826.9635692, 299354145.9303767, 396604168.66963226, 351588825.6591478, 229746607.1022445, 372496147.1300629, 295778581.9110257, 437203557.21059483, 292671629.61059767, 292114685.223059, 374523374.24653906, 392468560.34921616, 367242803.0399598, 234119196.63373512, 374278686.18505865, 268603985.2877256, 351115556.93226844, 247417388.046203, 367105107.7119401, 281823681.6118249, 254893476.33431682, 388422684.52115333, 351587698.1397336, 293513318.85947263, 453817170.4691897, 304445888.6104402, 336381394.42565984, 353616554.92384946, 293161208.1495927, 369032342.9658158, 298542737.9202382, 306315376.1260918, 445416865.3007206, 268248439.13782483, 215583004.2893458, 469378053.9132536, 499016865.95138633, 306727293.19316167, 225510791.85369992, 312923407.04709, 314529377.49290687, 320985678.53911185, 264159623.19260782, 377572795.9582486, 373211870.8280194, 243755775.10025755, 387225943.38103235, 499016865.95138633, 346455815.84613085, 311156198.4327447, 324247716.48971665, 380427526.68548554, 231903417.53937703, 345902883.5519062, 307686965.6948242, 487760031.9903367, 322054244.6304713, 475053324.92995423, 264697847.4599611, 378186621.6185342, 357403831.852419, 278134772.9121912, 346853424.21097267, 431527112.2529732, 312045982.1944797, 233805007.54179558, 332874306.07665443, 276183064.3602523, 310827071.42343, 328407602.70278454, 233130726.82226694, 237599285.8756515, 369884491.37999487, 299219623.5013671, 213255070.9193959, 394287931.41960865, 353874545.34034073, 287391507.128626, 253061151.78627643, 398551116.5799062, 359669712.1729937, 499016865.95138633, 365086283.96451175, 362592250.83641255, 322546931.3303529, 396953697.10248446, 381217332.63959897, 435112182.229574, 299307756.7683692, 304782993.1225418, 301985937.6141451, 394783934.27671146, 458359655.7565388, 303279787.67782474, 305467594.0218651, 357002616.95739096, 317226106.760332, 408448558.3270338, 218832826.0719669, 280630672.75550556, 283265290.5997911, 217435358.7305694, 272638934.7661329, 275442095.4546506, 320229317.5577813, 422556069.30979794, 317273021.10948706, 268802086.249683, 330118999.81760937, 416905867.1713927, 271931152.43582386, 275708460.3931389, 375902393.3545844, 318851770.77945584, 383023474.51559186, 333149472.49071294, 387427570.39452946, 268560348.48428184, 333259302.2992084, 319582305.6963767, 258508175.1225939, 240229393.99850655, 386128675.20771325, 310262814.7419444, 269286479.28650534, 327398068.08064616, 423900471.98699355, 218240266.28964335, 243640963.1650192, 274993217.44498056, 454775877.59061795, 354638295.1529897, 392832362.18435615, 262671695.64663583, 263817207.55019, 367220668.15560937, 338243786.9317333, 375125051.56375456, 321138295.80698866, 354305954.0670273, 345445434.789297, 393699580.09191835, 396136361.03983796, 237388161.47024333, 218925398.09513277, 412754102.73455405, 429275204.4389155, 269380653.5112132, 227210682.36148766, 341165455.7890487, 406624060.10281676, 484947460.02909833, 372565886.58867586, 308906463.5701678, 276725076.8689107, 334918440.18482023, 313665050.0463265, 269696564.25762004, 499016865.95138633, 484256356.5622136, 424619376.9624077, 275111373.6834745, 400170115.9247353, 382388863.60729176, 366812681.368833, 434923097.00395197, 382045660.33814955, 390575598.58683896, 382169439.6502909, 359020706.121006, 229327771.6183537, 340057658.15753853, 297113788.41521955, 255043757.88846454, 476451802.0893513, 481155127.7178265, 445095323.7264572, 352595788.3482372, 444288699.3565779, 334960977.8090455, 348717489.33638614, 265271977.6238202, 363303593.6208649, 338394527.3759865, 253819261.89861682, 330520282.7255991, 328536391.7215368, 484945602.40649873, 403493534.1874689, 334918026.58883536, 352118005.92432547, 337241659.2061159, 320107087.4956782, 265890817.74363512, 323629228.95410067, 285444211.7150047, 256637452.48315278, 372167062.85092634, 362864848.2616809, 229178013.56679645, 325572125.6611126, 412228003.01301754, 417790983.16878176, 414857820.8199631, 336864783.8208212, 279546849.01976734, 265819490.76508993, 359309721.281785, 361948364.0514755, 438393868.50296533, 421399676.6465289, 324917148.4949989, 256968475.86553547, 312354606.54820216, 349781184.95199317, 320163202.64662755, 295756414.4357174, 352422581.4218118, 300406416.11637986, 292642080.17977536, 356804974.0179932, 306939427.7910362, 351770237.7911182, 353936846.08266723, 262712260.98095912, 301849743.5529252, 452535492.0291315, 261459793.56622747, 221644875.77447632, 227165971.41274017, 336168689.4149408, 336296913.2674555, 325920861.56719446, 431679305.5860771, 213255070.9193959, 363222538.9638363, 464500500.75336593, 263358689.21180227, 308379633.8322911, 285035351.6152118, 276654122.99456364, 311883377.7215579, 451553718.28038925, 487173050.71305186, 311247202.8036802, 491002083.03695416, 336627692.8530446, 482513924.0233343, 327597103.3413333, 343478529.3944107, 360895499.695298, 499016865.95138633, 399854948.4206153, 287792613.87790334, 409911619.0879143, 309551367.93706024, 301308299.4854249, 404720470.3424564, 336308856.74552, 354338266.6395152, 335097558.5375343, 358702041.1658568, 365454500.1824363, 225507969.05824414, 384569353.0672413, 271583656.90588146, 246450218.9479014, 330017547.43655473, 340083485.22935635, 288629256.0415778, 398149644.8618243, 251711583.4930162, 306618942.761546, 295321164.3586168, 330841932.48939365, 354359828.2940886, 270105141.50287056, 389281181.5019003, 338581400.19908136, 226498525.36259714, 225035444.27353105, 333242802.9484899, 318890040.40033007, 326898218.36423165, 332143261.0099741, 350396433.7509947, 408069144.13566226, 264286900.40041438, 260914683.536095, 265280233.72046438, 355112273.54098517, 434490302.39547306, 305044711.8744454, 213833942.38901076, 233212354.68349317, 280256026.3944445, 297017455.5691273, 306525480.09633684, 336841180.15155256, 312840069.7579399, 416920470.6202741, 289696261.65191215, 278529947.62899566, 369635493.6190529, 241644330.36305097, 362744429.5816188, 341418828.915403, 323875793.5305201, 467138749.51872385, 293004046.01715815, 499016865.95138633, 318589810.0592956, 255195787.46408898, 339075942.61883307, 266237844.95038095, 285103682.39881104, 363306813.0557231, 375667132.8472506, 293006503.1246664, 411506950.72130865, 426546584.57414204, 452394635.73911566, 373598434.2321676, 445490759.0161455, 226745227.95851734, 312433707.03391385, 278254628.7177458, 342622065.50351804, 296158864.99269485, 322599345.8973111, 489700966.835678, 322356979.75062364, 364593863.7123296, 318130483.9905574, 339490716.6752729, 334534601.55759835, 367260216.20311105, 427249237.2694039, 473003221.3360585, 356667014.2416214, 378369232.3061324, 262079182.43098772, 327972099.54495275, 407435844.7098943, 401095786.2817805, 349366530.59794486, 402828300.6297716, 370564142.9095232, 430416423.80108386, 355145431.67981964, 309952280.0777326, 358645893.6916909, 213255070.9193959, 362223854.25354636, 213255070.9193959, 232256346.46558693, 367527251.9884452, 369530507.90610564, 261440527.55074638, 287499023.0545395, 446159897.15528876, 301672167.6996098, 499016865.95138633, 333974846.31026876, 364151293.0355535, 469966549.8471788, 343476303.67323077, 270421551.6428831, 326463452.5605028, 331609076.6895741, 250516023.83213323, 316552755.29706293, 285679560.3108429, 406068375.76242995, 336559184.2206111, 314756906.40727973, 326707774.64110786, 350216236.46318763, 380552571.6294733, 270571747.5164436, 268191759.55838227, 421817795.28151023, 306270231.2806755, 247777425.64660516, 366910769.1902366, 368428059.0183106, 241895634.1333889, 350686523.11158955, 390210562.190371, 361574809.82251257, 381772492.0968117, 248435556.03843164, 358282740.83514875, 313443082.0759537, 301751103.74491197, 401484211.63099444, 456515870.30639005, 484767947.29638296, 440943219.5992327, 326462988.9740478, 359925530.86169434, 392791383.7918415, 342763221.2699302, 343457248.32593775, 397538576.35903823, 329956873.34890467, 286458484.6459618, 306132217.84570295, 381927915.19816345, 334321254.55673015, 358976661.3805732, 384854017.9370778, 308702864.04522234, 391915865.8869331, 361914956.8233182, 257478213.7285341, 452968103.08384705, 300610137.78814644, 235630627.89737108, 267996271.59115022, 269356662.13512164, 337808631.78261334, 315351549.5297411, 311188579.8604837, 380784536.6952799, 358951315.9272795, 357151098.482546, 364289037.92805046, 380498007.554529, 221828657.3740898, 309381224.1630088, 220312442.75693202, 336662033.98076004, 333783707.9046435, 416585636.18157625, 429266988.12343496, 348715853.7129931, 300634473.57503724, 370126079.48093766, 298891576.318593, 334012000.21492416, 411396784.19509935, 297014794.7651596, 396025228.91534555, 385449110.5702226, 273148293.4865362, 410335365.60669225, 387174437.2319554, 341373640.69736356, 284468708.1502786, 278712884.98202133, 298277650.8523451, 374639000.69200057, 273100271.4229667, 366423295.8266069, 257101356.6092465, 320029112.43153274, 341930313.5386729, 499016865.95138633, 249852326.56863514, 455816989.35971034, 344842664.7048907, 364392323.16271317, 342558599.94127893, 366981548.6361317, 323449466.3884617, 454092239.55246264, 303431441.4357419, 424277750.1616506, 291637301.0813797, 329889402.86524993, 266478517.59535262, 367779781.943879, 453237858.9883781, 328700960.3318523, 320514512.28445995, 264091140.48084506, 318330357.01208144, 238748165.70369884, 275574519.7109049, 350487106.7580066, 441334705.06694436, 499016865.95138633, 295214573.31316674, 452299024.0531745, 351744117.860983, 323615860.9382464, 366043250.92502695, 338503831.01363164, 341984283.3232912, 306529067.3136693, 248758608.29962665, 241237686.10691842, 383489319.28936446, 315161998.9474535, 294623192.32720554, 334710337.53324854, 395128185.1718193, 347070703.05659074, 290919001.24613386, 432783258.059105, 466243440.4641596, 370860611.6494119, 410315397.0443982, 434216478.2952369, 424086617.14030874, 380334611.4151842, 379072502.8387285, 372830367.2856748, 265055676.9972912, 387350689.39783967, 250988326.65181476, 282538091.6773308, 439898300.9686297, 398922369.64801526, 457299179.6084063, 315496379.069016, 262002648.37347066, 317582685.99973434, 341381233.6344058, 339725430.60420185, 424407226.4441383, 309588084.09551597, 359873457.7895384, 271205297.1288169, 367414715.2627847, 334329385.3695307, 285220555.8314957, 317891605.5975801, 321375221.638614, 315597530.91417825, 483489499.8497097, 327241493.1178118, 317350990.05147505, 222050925.03805235, 276662218.7384176, 316069458.5673679, 289095715.2278887, 447212504.331215, 322682404.82166696, 438496860.58150774, 338488699.8002035, 336745009.13902587, 327908459.5958617, 334377902.5893539, 480184457.5465993, 217450439.74595958, 224103068.05322102, 297931192.31160647, 335135930.528061, 386483713.30254525, 369184291.9693234, 308090910.5997973, 414263544.4934004, 415239564.1890758, 347341327.9744975, 409363548.600454, 353895118.2967004, 296782281.9747695, 387113207.21610767, 341999971.1806969, 334204635.98865384, 455907322.7536526, 214829799.47692835, 247733409.6697433, 260084843.03239363, 309458105.89940095, 316634512.9858167, 243092248.30962265, 271403873.59583086, 278616716.72855306, 499016865.95138633, 485178538.8453469, 306308195.96891254, 309437039.77052414, 262171014.85029328, 226141377.0531338, 325971113.3633521, 270677963.3263254, 328181588.52618206, 238375138.87916422, 284489655.8307962, 344754244.60075504, 360951485.8087421, 364877061.135357, 252865883.26207465, 400141946.9811976, 282203730.94387364, 381843103.7892456, 333360997.0214241, 249901257.53063068, 312546379.0745192, 360887067.36050844, 380243627.94261867, 324317188.42754084, 461602234.82186824, 413256574.39501494, 316497853.829399, 391409536.7782594, 492644771.81072176, 494179833.2177872, 257848592.8136342, 274781719.8664822, 457059959.0380764, 267248838.36874664, 252756426.16379896, 301534458.0898321, 365089219.9286396, 326968816.5637919, 291256261.16736734, 289806600.6354508, 287484767.0635406, 277521487.53279483, 499016865.95138633, 355756852.902909, 402859336.6744933, 301351069.932303, 321254479.0592756, 287410962.65527797, 213255070.9193959, 249815766.19052616, 228311419.2495204, 218873745.6600547, 259630422.82410133, 441888500.06189924, 330992131.91512996, 438693033.5706002, 364377764.8477235, 394097843.2589815, 276272005.9326308, 373168053.73711467, 389645382.0469212, 295834229.0414445, 375981041.00390345, 376508796.89541835, 297530293.44110084, 263637342.10276297, 260246334.83683008, 340264692.787175, 357978176.11523527, 282661732.341571, 335989659.36655724, 376854499.98432845, 380663125.07327753, 463564515.94119155, 437437376.01418734, 270481611.2563969, 476629764.1578758, 298698733.4786264, 416527667.40175444, 338937674.33018965, 306282347.69303185, 228377118.38841617, 322231531.4580721, 240437012.80674708, 409764713.12054807, 460144688.4191931, 282400329.33933324, 356091788.90378606, 286694019.702201, 292616231.9676191, 393427786.66482496, 331404299.61121, 481740371.26532495, 301786612.1096448, 412544325.7052924, 341048754.2301771, 395198710.1132803, 304028300.81809264, 330634556.7781767, 326066134.00392556, 280077485.5899376, 384205068.8821413, 383246962.6039145, 378689356.9214501, 462107769.5378011, 453641558.85605556, 308696140.40679806, 361473034.97745836, 292917926.27809304, 335760744.1926869, 294395728.56308985, 470283623.54996616, 360760253.3026186, 319087799.61473036, 429809416.022458, 220512474.45066404, 223832064.19120616, 395203767.62825537, 338400419.5671513, 352241290.1608344, 252550938.72144032, 332476235.33783174, 496672908.58101964, 397576033.18823457, 346291092.9797575, 304548588.9602515, 307420328.1392285, 221380518.11986482, 352776405.2995692, 399365652.3222155, 239614829.77248037, 290590063.2575405, 261714489.40372726, 272540430.2677552, 337901899.76051354, 222327756.11375022, 380348356.4632452, 391718004.15819186, 316868805.8185648, 214243955.0981934, 270759833.238162, 433387269.09020495, 213255070.9193959, 310487371.86819106, 260473065.6829078, 395932617.3998453, 289751482.8400718, 363837755.25610965, 376451015.16765386, 487107854.5857566, 320105199.08811975, 361701324.6462596, 244237094.95686492, 429518817.09161246, 284577641.6194329, 296827926.1349186, 332545408.0179372, 240259480.9745294, 350633863.9625563, 409779156.9447934, 355413414.2709306, 238944521.36912543, 325494875.26041025, 390741679.21948725, 226807495.71755448, 266320946.43379664, 401991842.192609, 353704761.1922373, 364453815.23409945, 488417824.3669248, 368831218.4871787, 383865236.04919744, 499016865.95138633, 319372355.6096345, 282342433.7989253, 365672839.79113746, 366537652.4483649, 298967404.61755043, 268712307.5955098, 499016865.95138633, 357965607.1226933, 286277316.43377197, 405346878.3739845, 326503566.35077065, 316749895.53984445, 376197892.76398844, 254396649.42330605, 359918470.8774276, 491452407.95125943, 368646414.4140713, 308613599.94360167, 300206978.808582, 306399301.56415755, 316677640.9018583, 308509793.95096296, 405379480.9988805, 231779303.90135002, 400760029.0462435, 308387441.10296327, 361770282.4803162, 263402747.11825138, 442231366.68268293, 434553350.7269849, 409098688.9034447, 242711533.19512206, 397989138.31102836, 363906940.1802032, 238120531.82376125, 332401623.3103478, 360823924.5004614, 375706230.17101866, 346843562.3753967, 355285764.4620413, 455970616.4441839, 432759600.3820372, 213255070.9193959, 312464560.00144875, 322701928.9665597, 230857471.70687813, 340816367.055405, 434839814.6662206, 265658634.22489598, 358688251.6877825, 275403314.7841601, 289947298.6695906, 456334704.2798767, 297969729.5977116, 368338096.9061554, 226957695.3978972, 488577182.9520746, 379417047.83611465, 321488885.12953836, 377253072.423772, 248144809.9664598, 428804915.6554104, 312033270.4675706, 320029049.5911418, 301187187.2231805, 295584402.54752487, 386856285.64381146, 352647384.0109434, 383368218.61824894, 333490728.85972226, 372322431.5879386, 305849711.866488, 499016865.95138633, 240003839.02671722, 435958883.992576, 445912011.1500709, 279127604.1397483, 499016865.95138633, 412209639.73091286, 410096869.80714446, 336091540.2532377, 319141866.03735363, 319668710.0728608, 362808646.513934, 449054590.0758478, 347140302.7752228, 275657929.805373, 397595115.19221085, 405793663.5203915, 383603812.7335075, 391027897.34706426, 315546060.5216313, 274639366.55880195, 278184881.8948667, 236608595.27396917, 351239491.28799844, 328278669.70845026, 304488590.8031413, 213255070.9193959, 256799835.51481545, 423258842.86090416, 290393373.27559555, 360523853.21039027, 249148555.37788227, 452624175.401044, 324109240.47398347, 355196486.6753489, 499016865.95138633, 460110454.6036511, 313182227.88685715, 294801574.965629, 311930564.1938521, 372063134.8940088, 326773807.8263921, 307376788.12390274, 455352302.21206206, 326154828.9388626, 499016865.95138633, 340569036.9252885, 484264687.66513157, 360275004.819029, 409389724.02219474, 286741233.9080179, 279033367.5869584, 368143330.99147624, 411606660.1917102, 336960278.6599011, 254691424.56492525, 250753092.71903008, 247239871.34580383, 230102647.8736802, 341918597.0584042, 423634437.2268162, 333165711.52172977, 218655724.61585143, 320929021.0075941, 322828058.88594216, 499016865.95138633, 245679880.57170582, 307673095.4765095, 478874723.3617237, 367388438.80896276, 376280476.2154861, 342286676.9592462, 358199844.9670248, 393686465.7558596, 281652043.806336, 402120375.5033988, 250079763.38819823, 358080777.7415708, 346951865.5857888, 293369908.64837337, 332514712.25001866, 292983478.2775003, 266493204.76279122, 310088573.6339426, 264684001.32331994, 357660125.7087318, 262122260.81892884, 388271645.38644207, 260391838.98500374, 296481119.3084947, 292855961.49416107, 441906315.9805841, 358226028.6292635, 319511928.9942732, 371186519.2307669, 221844746.52419415, 331083116.79106575, 496324129.33159226, 343571940.5433513, 338932420.91928226, 375076734.3966911, 403612066.6509358, 224191254.0431216, 234280807.43609354, 349269349.9611012, 287330771.3863956, 440684369.805283, 312613870.43352354, 225561335.5923482, 255680954.3709053, 213255070.9193959, 318005909.959596, 321089977.187424, 305487640.511548, 419527466.95081294, 430254195.35533017, 322311504.6641533, 221264908.047649, 380590105.2560048, 375649546.1808033, 356649816.84383315, 410992728.5557116, 261308216.7241913, 496978468.1995306, 272881253.43784714, 391335301.04325515, 234032756.9554933, 274565466.3637239, 460103516.6275465, 316214449.79180557, 398897321.94373876, 351239993.5741026, 326792147.4863633, 445530397.2431933, 317835974.3923254, 229466814.33731544, 282023472.57776, 375319265.7937, 363189984.5234484, 240048004.88609767, 286757480.4338828, 295517681.64731365, 309313907.1178512, 249926245.0497774, 292623247.03184277, 286499372.16472876, 393182003.3073215, 396313033.13059795, 323987342.61736876, 307584677.5094589, 344121738.90334636, 281231105.34793615, 262302246.30889836, 273989295.65922064, 292225777.7157551, 261382891.47542328, 345732780.33014756, 389727731.01031655, 239035241.30789715, 335886407.1853966, 318959454.5823507, 359075048.9862425, 333199247.1883888, 245863365.69519863, 255984546.20107123, 336190936.7895337, 415115638.5254054, 219607252.99797547, 359394774.4547772, 429447076.60112077, 323494460.55984706, 375240929.1416566, 288047480.46489537, 325800169.38238674, 237336005.0424766, 216951207.69595432, 407648809.8082133, 271413213.4793547, 303491839.8401566, 249371696.7491548, 248136942.80748358, 322077012.16242856, 286440942.04951805, 361848400.2557112, 367586958.28407556, 357513154.6584895, 351361962.83298314, 466104009.3738352, 266724255.06046304, 330259712.15551794, 424318511.92313015, 436290435.77972794, 247520283.1874401, 312799865.8255521, 444992061.4238798, 371920341.0093013, 348163545.44096816, 319110990.33397657, 308119838.8212331, 355060004.60697985, 316783803.59543765, 331121888.8622127, 339697474.3485776, 289570728.0512193, 373812606.9784102, 499016865.95138633, 229648497.2828099, 357751837.71955246, 284596781.4856513, 377400855.1325749, 337408576.2508493, 392379813.7861267, 428169777.9575707, 347954826.8019637, 424261430.0420859, 216952122.06527615, 467353331.69758093, 361626366.7944347, 419435787.6531888, 258290933.3638346, 280390098.24389625, 344558702.3640874, 332911178.4202403, 354674336.37090975, 420026731.3108944, 230219272.34140226, 410328866.53753746, 334694537.88156843, 320048474.3125826, 244956467.0150502, 371525761.5861145, 215556654.95385483, 383096976.45984274, 243874073.6846688, 337900208.96942127, 325813737.1674544, 427630841.46828073, 321749791.34543043, 288590746.894719, 300238815.1454837, 437059242.0089156, 374141489.54106134, 308000950.8924137, 317850219.2310497, 240041986.4190956, 362651250.09352314, 230481921.02210894, 391547878.09309, 343302006.2381014, 499016865.95138633, 264899259.52065733, 326950507.95092386, 484986066.9595524, 429607297.4163547, 288464519.85323304, 350278716.42891335, 334251146.77655494, 354591070.77492076, 288314325.0229987, 327872209.518266, 238483463.52388388, 343773316.31798744, 367391720.5486128, 318456202.74472255, 237629737.4699638, 411604803.20337325, 360823204.9216643, 286656302.3649475, 314902737.1557877, 243433863.4630316, 269108715.0356939, 298268288.24730164, 432977636.2058762, 291936734.5492516, 382436251.7304151, 298236517.9754932, 352055618.2798259, 324289296.73887795, 401696154.37572956, 298457146.54169554, 239771142.44713622, 249608205.5247961, 298641955.3523766, 256705444.7376055, 364318522.8999129, 302836806.42540956, 499016865.95138633, 231559095.80246177, 348779002.0545332, 263349117.9990538, 301076268.9175072, 344230322.4128991, 217333932.11315328, 351230412.78690255, 490879418.00200695, 303625674.03028595, 352937783.49968284, 414777712.27510154, 322749427.2932426, 295565145.39631575, 218342347.50700754, 382498965.6203893, 326226510.70847, 269832255.3861517, 343155357.59928584, 295395558.7379946, 298859510.27064675, 379708484.44075316, 251913081.0705817, 416742408.8049005, 248780835.42855567, 290511317.768877, 492023435.99918056, 423841070.4870236, 341062469.20492834, 273971433.22437286, 298806157.3521724, 339316119.2578021, 336765999.04128975, 327764959.0528342, 331943579.82558995, 319333909.92118365, 246466878.7721292, 299611810.1071587, 405235161.7521002, 250326212.41763076, 321010625.7201222, 281042548.6112064, 342053182.2721181, 307805843.5998325, 456334707.24639004, 371802957.2244792, 253329690.9725947, 384947321.27390575, 283729721.5311717, 295812440.7157622, 356983166.7593565, 301181353.19771826, 403377964.92090577, 283738210.0393558, 293205708.6237554, 290899608.0258682, 296522168.97057617, 421329600.7390615, 381515979.8226727, 479288364.33964545, 499016865.95138633, 268807569.79166454, 339111685.38259095, 260682003.7845033, 283552934.52823436, 292517602.26411885, 267312345.5634109, 267609595.90015715, 324091684.65960616, 258463047.31646404, 399082916.6955844, 275291188.87285537, 499016865.95138633, 303757279.24501294, 339226085.14801115, 254211068.71001524, 478898885.05049944, 423139176.2781339, 355712175.234577, 251465963.0480032, 349297031.21254444, 263711741.86305705, 454888792.5010525, 396319173.3260058, 340906701.67994595, 215115746.15456825, 271503645.7124029, 386292654.6076552, 431560338.5181031, 422217709.78141075, 238787520.5619685, 356060349.5981403, 413955203.4655235, 235469606.35837793, 333553374.2288596, 353984525.56608236, 313565799.6129241, 227381567.0208383, 311920487.93708634, 311814721.0203614, 323832749.2546694, 296657796.577227, 304294345.0941515, 331322633.22048634, 366805636.3817881, 313323597.19963735, 306443980.1802577, 340684860.17655164, 225860071.78673047, 369491973.6118367, 334070470.4249847, 336920253.4462609, 409197441.9515943, 225161449.34219187, 224703641.7279675, 353981645.90840364, 333608815.0746495, 346325466.55644006, 303069550.5634256, 384389323.16474086, 406778593.5735327, 370034023.6878908, 316219211.33264124, 221834237.67797333, 392991466.60321915, 432366607.9742036, 382787034.107403, 277513711.81972486, 385155845.21883714, 400635704.0311278, 464243555.234648, 277720623.3846005, 318521040.04010916, 391174233.5293887, 338182109.48267794, 263940150.52703145, 364657259.8979297, 377501135.93450344, 340369343.45172584, 349954948.86322147, 316360863.9393603, 456419967.56408435, 276283944.5991975, 295168752.92000014, 334885525.7017402, 402196366.3931864, 243603212.1390685, 253410217.5466876, 223324066.5766743, 336423100.15289277, 263885682.49543098, 308071136.5773132, 384148050.56705546, 291811146.62850827, 350819766.8702026, 313660205.2554888, 385019322.5274707, 369343314.98973584, 288725032.1920827, 322429633.4974921, 416428407.0965328, 363026612.96289676, 248818844.54047495, 383681410.43033916, 265768359.06404477, 450129245.8019306, 414705696.2070912, 355184875.62248206, 345380841.5918385, 319694110.7900567, 385540427.8078741, 308967641.1489962, 351137321.6807661, 401601038.5155464, 296762024.37333846, 293376120.13797575, 259684849.25239387, 266899946.70684865, 227912552.32019097, 389737033.6352226, 485578655.4935624, 451348284.11133504, 237077227.89043596, 389328170.7933298, 451041442.43701977, 303409749.0446467, 341339178.3839793, 223965991.7166086, 353454132.05892074, 266951365.0123329, 348484881.7778435, 240344725.0275936, 374659852.6419421, 414741913.5079593, 283219661.4067347, 262851222.5893924, 220817460.2073061, 315846784.4219556, 295525626.3369866, 240861651.08872902, 367624217.66995174, 303847922.295229, 266266451.48958558, 297215333.8929944, 418857430.2742734, 379439826.1348469, 325068188.8283864, 380736574.23970735, 261524207.70701113, 336400021.43484604, 344659342.1195363, 302576963.058078, 366264522.4946486, 283383823.83207095, 372057047.20784646, 375372097.68980587, 213255070.9193959, 429509040.83747387, 213255070.9193959, 293385016.1988704, 414815030.5447692, 312474570.1763901, 245211342.97393242, 265257107.86083722, 414951407.94359905, 225847139.24914008, 423987451.4760682, 330248058.6346246, 259792813.50028074, 295430792.9217531, 269573887.11788285, 401117502.09610945, 389950838.9512273, 232467251.07442182, 306835854.37375337, 278478960.60417485, 438965867.5687221, 251291128.13798147, 468714076.7457819, 331771167.6942686, 261467798.22707796, 289619447.32657635, 282119959.5468102, 255324933.43970004, 340862668.5864814, 257853180.50084728, 220309190.69896814, 308388095.3230516, 228486051.28614163, 285079319.90277046, 275794100.7837534, 278007529.1566904, 496524719.3136237, 338110865.73078555, 351864266.982126, 229677003.681411, 291047427.32501125, 349638873.30097276, 269158753.0633801, 404674481.31548613, 259228800.6402831, 314519875.07724434, 295247802.45467365, 345897771.2613861, 291875965.0886085, 315548357.73653966, 317871434.8431983, 286150357.7255907, 370120827.6715733, 351346214.6154197, 327921087.0576992, 305101427.74273527, 395262596.989844, 317891278.1624972, 313173527.3820978, 341572804.69700414, 477939220.9315368, 251808199.1064895, 393042942.3061488, 226471452.6188938, 349784282.1386961, 465839941.4383406, 370400114.2986724, 346358216.4971567, 296847009.39656436, 336306132.69663876, 316804612.5265247, 283052587.8029423, 314287061.28833514, 348392694.2734692, 284175146.0474219, 281842536.5229491, 250753882.49912027, 362823531.6958945, 374854785.2124945, 350847780.9202885, 409580683.6754812, 340362502.0293307, 362921994.0582911, 356232076.5923491, 327718688.7295659, 298708481.8910934, 499016865.95138633]
thresholds = [253232171.58318073, 333187108.14695626, 437803393.6053659]
display_name = "dFDA Present Value of Annual OPEX Over 10 Years"
units = "USD"

# Calculate exceedance probabilities (1 - CDF)

sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure

fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve

ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds

for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('exceedance-dfda_npv_pv_annual_opex.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that dFDA Present Value of Annual OPEX Over 10 Years will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
