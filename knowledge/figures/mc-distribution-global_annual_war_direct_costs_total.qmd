```{python}
#| echo: false
#| fig-cap: "Monte Carlo Distribution: Total Annual Direct War Costs (10,000 simulations)"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)

setup_chart_style()

# Simulation results
samples = [8059627305623.066, 7034290665941.287, 7056600515571.564, 8640507743269.026, 5997516660267.1045, 6944760700364.052, 7687487364940.601, 7528472494941.046, 7763777538508.33, 7301297483623.841, 8317861640599.547, 9444750670766.943, 7278957333963.888, 9188141112844.658, 8328877493644.857, 7827755584866.795, 7528063059745.299, 7006613836369.21, 8372208402244.259, 6918016452826.82, 7880724906513.896, 6167924446021.1875, 8281877468564.045, 7434399448004.727, 7726603110954.952, 7653663170266.596, 8300831902534.554, 6948468202117.932, 7601972584568.867, 7757888740319.956, 8809143573831.12, 6147658943666.314, 7114433545588.392, 7214662102058.178, 7902837314585.384, 9500953999258.744, 6604090687172.745, 6165360280156.544, 6807199776978.97, 7883683826810.631, 8835009036245.79, 8452234514735.422, 6631109210943.529, 6967792577408.54, 7302074260152.927, 8106164477562.291, 9027541040447.514, 7440134345672.428, 7125256993193.126, 6743584731121.273, 8118442689046.344, 7898105509653.43, 6071671871981.124, 6607163544371.514, 6464580495919.965, 7485689966616.177, 7545530995981.007, 8571380600184.902, 6723544029536.639, 8762038444327.597, 7167710986386.043, 6543636601942.366, 7840063270902.157, 8834912374683.26, 9604286647370.297, 7887704572406.093, 6904615965730.206, 7506861635025.927, 7425034943759.21, 7540842753996.748, 7466039396052.804, 6737318620865.57, 5550607055073.177, 7460862653886.518, 7234668853764.623, 9179614472934.719, 6979294241613.159, 6642553859746.572, 8133671120340.123, 7289554360487.161, 7627891352600.215, 6291122238750.31, 8370043003172.676, 7748987415461.54, 7056298645215.503, 7904225250764.688, 6632916644739.818, 7208719960117.292, 7160308181564.142, 9341810255589.305, 8128116882188.736, 8458380207962.636, 6822071557736.577, 7743771150650.954, 6246546123487.96, 5579903625704.123, 7430608191087.081, 6329166779817.707, 7181290548165.599, 7076838473339.127, 7128597739532.93, 9174920396124.252, 7215670843295.383, 6994318822120.973, 6128033658897.602, 6742219468567.42, 7234624351426.053, 7191003854692.698, 8830302352963.861, 5937563119069.046, 8395986384615.818, 7641716918322.984, 6782011605830.789, 6386681801651.49, 7647441858748.451, 8183860155434.071, 7171491304239.435, 6627237463371.04, 9453297588925.242, 6798441686393.65, 5471392371834.171, 6994463460484.595, 9058411737497.09, 8243942233471.42, 7241077460934.243, 9228537530187.832, 8176972655863.698, 7532233292615.979, 6651066564467.778, 7757139372528.3545, 6958279032429.697, 6592627167677.996, 8083063366716.024, 7122834995863.745, 6405691427536.221, 6854865964960.036, 7952519353068.055, 8459224874363.416, 8920571972536.406, 9460675933394.469, 9301060748585.232, 6124419478341.561, 6155301266809.539, 8781262036820.576, 7048596250691.582, 7785346746090.127, 6256938159924.796, 7555610627591.998, 8430931526202.633, 7489875722979.419, 8540735128920.001, 6388995832759.847, 6321569143413.102, 6047698660411.3125, 8728003754758.6875, 10183151946766.857, 7597185081322.64, 8320570792926.865, 7429818038118.302, 7248037052850.397, 7716993228615.0205, 7389532063762.906, 9613650650573.133, 7417961374693.001, 9095009856925.65, 6688885237524.194, 9181837356285.69, 8504184040449.722, 7302860376868.867, 7115998304337.238, 7315930971887.017, 7283336303064.927, 6335831697941.859, 6609827397111.043, 6772523899788.819, 7915724372840.543, 9524038537973.018, 6457214991263.418, 7829397720371.076, 9076126051440.908, 9669898109498.428, 8385881343982.033, 7262078493069.109, 8932201930560.633, 7848392876499.5, 9450944667464.988, 7000503385780.103, 7457346303770.74, 5876915284537.439, 10033540403561.543, 10652971935725.63, 7966866948092.016, 8347284876068.66, 7613643421363.222, 6218361297150.16, 7598436303410.959, 7336890865183.284, 6619225020320.934, 7897639125690.2705, 7380989398308.753, 8220829963562.939, 9099357820295.604, 7770491514072.138, 7684071590438.349, 6117956165758.605, 7188890850596.769, 6532148492909.213, 6966522209345.781, 5944778854052.922, 5925708396521.175, 9160829002705.557, 6473508124102.471, 8627845608964.906, 6553449912138.552, 7114478843682.619, 8684514100186.3545, 7647776295974.181, 8217641605172.621, 7962441348546.136, 6051166341887.548, 6633454264756.247, 7663498580078.949, 8436706080789.93, 6189252774272.015, 7156941387437.537, 7607069348620.338, 9902495046320.795, 9131812191008.283, 7446654421198.354, 8078419986248.448, 6194141514491.42, 8116490495448.7705, 7889025184772.986, 9800391408820.76, 7025243734723.564, 7083279083979.774, 5260614341758.335, 6646113835802.916, 6339410111154.74, 7811135367755.029, 6896560851568.624, 7216656718230.575, 6473994328833.529, 6964053488474.387, 9556841155304.488, 6513753555361.264, 6551527069472.9375, 9344828115405.379, 8877073925984.84, 5970263715960.747, 7585583707659.859, 8771145227389.131, 9037093327112.387, 6381551431371.985, 6214085192378.295, 7062437037403.762, 9150493577386.252, 6679108870290.918, 8633835400344.055, 6008538369091.206, 6348615334018.602, 7310335481755.662, 8380641847776.388, 7438158009440.752, 8754476867403.475, 7897846961804.688, 8782902033565.817, 9086727495479.988, 8773892634470.131, 7697341199426.346, 6581864752169.454, 7517662980128.047, 6468917613215.693, 9073119858276.734, 7490622769598.421, 6845704068349.747, 6934597877460.232, 6332292245363.652, 8952437011608.117, 8343465720129.394, 8320336524373.501, 6281372189439.725, 8449909516383.096, 7455755507091.535, 5810916714690.02, 6714884362016.75, 7729577196999.005, 7598247290344.984, 7893813637857.795, 7291767537058.212, 7656242111756.976, 6754394484572.973, 9273477732463.201, 6113963212287.782, 8328226694083.232, 7509366762151.11, 6423830244983.66, 6943910363442.092, 6536074359026.02, 7070594814431.316, 9504924957225.055, 5600820104792.688, 9888716948084.791, 6902066253394.475, 6648607975510.979, 6215252450026.801, 7343964945651.65, 9340825388733.072, 9247659867103.14, 8752686550335.43, 9456408270247.498, 6896140410638.181, 8461659143797.791, 7037127013413.005, 7810559571559.491, 7738993697608.494, 7159155535023.223, 6556021529247.61, 8818817518911.338, 6745532585127.951, 8038450688110.128, 6663403417832.331, 10263576491382.586, 8008528345298.319, 9104941863737.574, 8146540272735.252, 6562768052743.882, 6531781052781.634, 7545096252646.314, 6780422566624.136, 9650922143900.832, 7319727224979.7295, 6938296395371.086, 7668276847629.095, 8831072482772.541, 6798735235089.437, 6334996695712.925, 8854419440872.33, 7559362306078.431, 7517574151278.424, 5961923916068.24, 6806554065147.732, 7223087647640.217, 8585242142689.168, 8587311373392.756, 6510192512621.811, 8116056139942.428, 8449247636095.653, 6714356354313.096, 10281037454048.404, 7580039440124.398, 9112987356805.258, 6658081140430.309, 8647367926743.227, 9533180078109.072, 7188093378302.042, 6408240886039.704, 7170315821815.18, 7472513051437.182, 6708033825861.383, 8170815623163.2705, 7284585149482.481, 8427434565303.321, 6510104143653.945, 6726180476817.211, 8867816123005.969, 5927338382605.25, 6499446211299.393, 7646775393638.8125, 6985056155305.727, 6917357627483.27, 9153585061394.318, 7623766490943.54, 8796314897799.46, 8543254763855.925, 9818843320562.809, 7886971632974.383, 5248850889371.945, 10150150056716.229, 6437179638840.243, 7691030218626.01, 10418607448557.705, 5982053998772.16, 6405104107377.318, 5661219201866.156, 7896787253276.092, 7334306529500.604, 8586961734088.104, 8846427630598.3, 6772789641053.542, 6202156000358.781, 7623944650316.431, 6289000395764.085, 9358170458237.34, 8467168533398.295, 7658682150469.206, 7552546543269.96, 7790030250329.888, 8030227342429.299, 7992622189921.602, 7334625320058.258, 7743699071479.071, 7622292007058.455, 6647724285750.208, 8472949094208.427, 6217339583024.529, 8163730689738.914, 9316228054239.45, 5577615752269.161, 6585485278104.395, 7118077859269.261, 5934474652580.287, 6646467584633.791, 8158107563400.872, 7401578021208.732, 7279102223298.52, 8366186121847.351, 9143864775297.533, 7112293315939.986, 8042271045515.726, 6491369127687.995, 6722723162073.778, 7832274439599.461, 6502145516603.736, 6019239767947.213, 6676027468217.644, 8124953072686.213, 10900046862783.414, 7386148891945.405, 9273787682795.99, 6612697122557.07, 9377696953661.875, 6912289140743.1, 5865121984758.864, 9328160031573.814, 7105711237599.576, 7215446303720.673, 5530635056223.081, 6288623095086.425, 7913649623814.445, 6866210674454.086, 6976994658351.538, 7472368416767.992, 9142230486931.1, 7698957488694.378, 5350649892269.36, 8656246600396.74, 7107222391390.725, 8900754696044.725, 7162823609454.068, 6687980963100.291, 8929603222143.992, 7724425238408.002, 8834295504740.459, 7295487761679.942, 7451817711731.324, 8152496888752.773, 7016672670117.748, 8159004480548.822, 7377485522719.184, 7399034177039.308, 6565444639745.811, 6236940001850.376, 5621258714179.224, 6843657198900.462, 7788479418317.801, 8354636939084.121, 10949797554157.832, 8445337702683.333, 6667089767653.539, 7748605808801.795, 6991117072134.781, 7066946927097.502, 7703459974272.199, 9186535915482.135, 7388326147728.391, 7819314754080.77, 7100767923127.509, 7668860396528.355, 10033850517177.441, 7958534899896.413, 9304023288823.035, 7889911708358.767, 7011032934187.929, 7805833889353.608, 6872566803234.39, 6458358851396.171, 7958848561384.53, 7835938581228.236, 7512389015867.204, 8653132306263.017, 7703918674306.502, 7920031869485.713, 7776924718519.578, 7356314624007.553, 7797184668265.68, 6752389144681.8545, 6336292163875.553, 6275722996607.223, 6389237044052.807, 9271626217606.506, 7502234611538.998, 6619620251043.302, 6803287960328.292, 7000500000000.0, 6902046899981.413, 10326498279570.252, 8065873788717.648, 6919998284738.419, 7695338504655.918, 6214607827768.422, 7703732427526.707, 8201666446585.903, 6651161096074.771, 7983217570913.067, 7164351577342.79, 8264294211870.998, 6626582795356.559, 8769631139113.642, 9571123412583.383, 5522093662695.606, 5555773340069.772, 8906967194909.87, 8247767372663.187, 8563382473841.696, 6732727840453.62, 9970789846940.473, 8279379779713.611, 7134414873984.305, 9790308528845.15, 6667150081221.997, 6288622031571.69, 6480620701746.005, 7153502270508.872, 6274434350750.023, 7257398379764.126, 7080081608735.479, 8838771365543.229, 5922930385415.43, 6468288902006.089, 5795805132667.347, 6097973344773.576, 8999083023498.715, 7192102924009.175, 7098662520221.889, 6764576645107.245, 8824421227359.05, 6204869224104.66, 8463347340929.461, 8570560950473.114, 7995513191436.494, 7165629364628.786, 8336128083166.045, 9023930762068.064, 8028404160296.881, 6779646652846.053, 6736042472678.937, 6859348815253.507, 7254179312817.467, 7071740762149.22, 7824110720554.629, 8419833934036.016, 7031900154162.588, 7358755389114.228, 8274626972875.359, 8117946120119.944, 7402290495508.602, 6643488968980.557, 7401518221811.582, 7704098681335.65, 6143620346789.021, 7251983341770.284, 7707565760891.326, 5578969870250.782, 7515652205619.888, 7209156974957.167, 10166484357693.295, 8861446084293.2, 7257165988146.406, 6522529336382.166, 5722124915225.938, 6910670176057.381, 6959762381254.863, 7218055999508.566, 9110538142149.057, 9051477060501.314, 6512918379139.652, 7793498121278.165, 6847574400038.988, 8861514110909.729, 5633015427056.311, 7182809510173.598, 11022574747327.156, 5959118225503.967, 5437904439953.659, 6479387272862.671, 6091605861538.655, 8507558728893.088, 8080369451204.434, 6617438537339.51, 8570803464208.563, 6151699516448.54, 9176389803726.43, 6803974016225.867, 7619497017806.113, 8704346438339.249, 9753439101763.08, 7339237792069.253, 5598829349851.621, 7722096185770.887, 6470775141639.6875, 7286622955209.99, 5818625381266.584, 8210818820904.657, 6431831451811.59, 5979349200037.883, 7333261200739.634, 6445368742655.259, 7904687870953.803, 10296478049134.021, 7643256413567.391, 7937479093952.1875, 7383624659551.721, 7297780178020.343, 7242189245140.975, 7041936263249.919, 6604889458775.947, 9455746671666.812, 7647153674038.116, 5506520517781.28, 8725389519941.346, 9615018648131.748, 6091304994150.387, 5273354357962.684, 8408211757815.973, 7435991107836.491, 6905076373524.399, 6460314877258.349, 7768801207053.647, 8138861722688.901, 6001590923557.791, 8168181543941.402, 10211837240397.008, 8146735259389.823, 8316628129345.846, 7636226174969.926, 8182009516023.416, 7135013832405.0205, 7521042842913.276, 5946469991108.426, 10199271963147.824, 7511703033891.49, 9207592898115.666, 7042843647372.816, 7807378366424.291, 6568682105853.451, 7260718133984.604, 7237554376686.793, 8060782766002.829, 6036846075947.123, 6601521885919.597, 6126327619825.525, 7528569921369.631, 6937386630407.521, 8042382737157.683, 6369523485274.061, 7215548809116.317, 8315106978804.972, 7888493145624.671, 5713445032221.73, 7298504718031.723, 8582279658051.403, 5939522321990.051, 6838131860847.246, 7643139105983.064, 8081248853553.392, 11231000000000.0, 8481815822255.107, 7756399757722.122, 7651966721908.461, 7993007361117.204, 9571795466892.066, 8257687691994.171, 6923161016253.69, 7478880823739.022, 7280653154969.806, 8751177518550.721, 8642406008290.405, 6887992369832.776, 7766436408178.44, 8537027019844.149, 7532461714485.666, 9782491003158.766, 6591839442566.511, 7289932458572.051, 5877348621133.604, 6216268494184.559, 6703327591984.766, 7712907416968.039, 5832277986979.075, 8572651516393.768, 7327758005505.504, 5930551376337.642, 6857465558294.786, 10060509369996.254, 6883049940318.545, 7773871734387.596, 7962553399873.957, 6438731231991.284, 7954969247935.23, 7159398493284.789, 8846849451128.52, 6967148091037.053, 7881472227657.166, 8544412038653.236, 7289714777499.939, 5758085453466.147, 9106142559235.225, 7177610205131.826, 6413611199148.939, 8548073090821.494, 8029362209459.986, 6566283095229.0, 6721387827562.424, 6091971982585.349, 7826732850575.475, 7740118981690.053, 6622568136455.994, 7237431723748.549, 6710593610974.322, 9241025499026.184, 7782686615845.275, 9448168202235.465, 6928851367377.233, 8195914410288.495, 7392950251167.378, 8257425216207.094, 8453723144139.947, 6392120197519.633, 5634127116051.832, 9001630724608.771, 8808780557002.656, 5805109160892.172, 5223597041234.507, 8522374995136.419, 7078268538939.066, 9210981185703.604, 7093188276021.643, 8360242806269.767, 7031378836576.518, 7763782379581.468, 6696416870020.344, 5802193223331.8, 9719649312491.242, 9324000445365.91, 7927700299305.627, 6004569952545.343, 7615685343722.289, 7375240085749.573, 7528422476436.419, 9120680045215.406, 8595240692684.531, 8270217901844.656, 8292611530935.18, 8297932762705.562, 5172433901477.59, 7748820732188.009, 7955560106065.811, 5142255737018.576, 9076085558614.213, 10374548992966.65, 8788798322220.445, 8259320328112.986, 9198908533448.865, 6779249736846.643, 7077938960255.735, 7586067919783.286, 8614250495106.707, 7494357344220.63, 6228049498473.612, 6929533373934.187, 7718193549913.668, 8743626408642.608, 8196936445372.941, 7096645871062.074, 8382982320599.948, 7449216302716.216, 7402387292116.935, 5872688751862.006, 6937720146499.589, 6892694401859.956, 5584416789186.225, 7883718274649.599, 7908296566749.997, 5460098652275.967, 8186375958282.896, 8893082156816.467, 8534892446333.051, 8092013857133.719, 6562013113035.74, 7358248323444.733, 6233436819281.384, 6954563482596.883, 7395113781559.473, 9269355608593.879, 8898618048285.094, 6701336019879.103, 7171215421373.498, 6348018033238.46, 8878239073234.303, 7443109720632.622, 6697386346074.515, 7587961209638.259, 7064702112006.31, 7264517988775.045, 6730602666428.68, 6632142285114.025, 7795496313594.533, 8773249284414.892, 7246522146943.395, 8237380428757.599, 10049494622239.191, 5986206378474.248, 5997327358478.523, 6719292217046.131, 8308742394625.996, 7395549778139.207, 7761494503200.903, 8428231899403.209, 5299035514804.112, 7834181464926.56, 8969740973658.617, 6178872726262.334, 7515659195562.857, 6630342125983.625, 6908187837141.37, 7737988470561.096, 10553501257258.549, 9303899865690.0, 8091096411578.25, 9677816499846.549, 7752562507312.694, 9232926377345.094, 7509802306421.198, 7480470362890.19, 8710844636233.022, 8919790406476.42, 7400935192619.079, 6490167141795.422, 8080051194165.509, 6800385845211.633, 6931717306482.538, 8088327078050.371, 7429355051507.117, 7422993380126.605, 7828448194595.371, 9203108925712.938, 8112109510489.196, 5747800064598.506, 6796204163659.111, 7699455886539.921, 6440302320971.383, 7333578138007.466, 6297090406064.691, 6761332297075.759, 8510900370063.265, 6043537941158.735, 6314650081602.867, 6135187568912.147, 8736522155498.172, 7870984170698.513, 6237155203803.881, 8316072532481.472, 7549816870076.461, 5336579457749.154, 6561967198130.078, 7361988998605.604, 7363916718985.659, 8610381666259.475, 6662290836823.24, 7213355324825.336, 8807034317175.998, 7087738266429.652, 6091923457646.278, 6166497915222.222, 8306976775169.621, 10345770128644.5, 7128847923644.742, 5609075271900.647, 5590347218776.024, 6615770665725.801, 7569614593474.568, 8318890473990.3545, 7330073795074.537, 7246353267888.635, 10129696270839.104, 7050575400442.419, 6817654728893.41, 9303960301934.94, 6283867267427.9, 7245948357110.039, 8606254246071.875, 6411968046669.904, 10147362927343.99, 6895267564050.354, 9276610482016.406, 7062363048954.275, 6294604050950.119, 7273112679780.803, 6794136995095.309, 6526464035731.162, 6738009402867.029, 8097111582414.849, 7597097115535.714, 7277967525310.4375, 8741487979002.57, 8622260464205.312, 8855783463105.96, 8718210038151.918, 6496971900591.515, 7662363873713.774, 7135734975782.65, 8935283558306.652, 6801215700258.16, 7380436080291.002, 9841381622547.469, 7398572021477.505, 7751666042584.55, 6704764918711.724, 7593063205055.402, 6595415000169.969, 6728695870592.048, 7920116102601.117, 9840116733400.715, 8007169465108.227, 8692503296072.208, 6065036429567.872, 8238037141226.499, 7553187537300.202, 7668528158520.795, 8562245292424.51, 8601060371730.703, 8581788936073.043, 8989291384855.873, 7414035516696.029, 6433335915232.353, 6727349726186.565, 7000500000000.0, 6874433423169.161, 6913829016856.338, 6178114825616.205, 8192141731796.832, 8167282264779.885, 6804637328773.924, 6346927786848.066, 7463510152437.23, 6662937167262.591, 9995025549988.336, 6816469656527.363, 8837855240699.965, 9064257928095.727, 6892154206480.576, 6649103458266.401, 7717456229448.802, 7853675741668.408, 5054014231998.236, 5727870039192.916, 7525776248751.723, 7495690001004.8545, 8361292124525.971, 8095754950853.633, 6656049998469.992, 7063054092814.209, 8778755385251.325, 6315286945980.846, 7445257563077.018, 10190152596280.475, 6401160961386.284, 5860899368484.981, 8047756006516.829, 6675423856294.82, 5359726455192.495, 7134170700793.507, 9717118566147.988, 8089255840740.343, 7705782647057.708, 5758826759854.722, 7058439647154.828, 6826003071864.971, 6629280760303.002, 8268271093590.53, 9491131266172.58, 9273746133119.299, 9628791728008.05, 7186685630393.857, 9223328810689.09, 8994830355298.818, 7793790139670.262, 8016173730523.535, 7976559704872.391]  # Truncate for embedding
baseline = 7655000000000.0
mean = 7611060736313.989
std = 1137291606409.1145
p5 = 5894567059202.503
p50 = 7510932166697.941
p95 = 9642553834995.354
display_name = "Total Annual Direct War Costs"
units = "USD/year"

# Create figure with two subplots
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))
fig.subplots_adjust(wspace=0.3)

# --- Left: Histogram ---
# Handle edge case where all samples are identical (zero variance)
if std == 0 or (max(samples) == min(samples)):
    n_bins = 1
else:
    n_bins = min(50, max(1, int(np.sqrt(len(samples)))))
n, bins, patches = ax1.hist(samples, bins=n_bins, color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=1)

# Mark key statistics
ax1.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=2, label=f'Median: {p50:,.2g}')
ax1.axvline(p5, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'5th %-ile: {p5:,.2g}')
ax1.axvline(p95, color=COLOR_BLACK, linestyle=':', linewidth=1.5, alpha=0.7, label=f'95th %-ile: {p95:,.2g}')
ax1.axvline(baseline, color=COLOR_BLACK, linestyle='-', linewidth=1.5, alpha=0.5, label=f'Baseline: {baseline:,.2g}')

ax1.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax1.set_ylabel('Frequency', fontsize=11)
ax1.set_title('Distribution of Outcomes', fontsize=12, weight='bold')
ax1.legend(loc='upper right', fontsize=9)
clean_spines(ax1)

# --- Right: CDF (Cumulative Probability) ---
sorted_samples = np.sort(samples)
cumulative = np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

ax2.plot(sorted_samples, cumulative * 100, color=COLOR_BLACK, linewidth=2)
ax2.fill_between(sorted_samples, 0, cumulative * 100, alpha=0.1, color=COLOR_BLACK)

# Mark key percentiles
ax2.axhline(50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
ax2.axhline(5, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axhline(95, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.5)
ax2.axvline(p50, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)

ax2.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=11)
ax2.set_ylabel('Cumulative Probability (%)', fontsize=11)
ax2.set_title('Probability of Exceeding Value', fontsize=12, weight='bold')
ax2.set_ylim(0, 100)
clean_spines(ax2)

# Add annotation for "probability of exceeding baseline"
exceed_baseline_pct = (np.array(samples) > baseline).sum() / len(samples) * 100
ax2.annotate(f'{exceed_baseline_pct:.0f}% chance of\nexceeding baseline',
             xy=(baseline, exceed_baseline_pct), xytext=(baseline * 1.1, exceed_baseline_pct + 10),
             fontsize=9, ha='left',
             arrowprops=dict(arrowstyle='->', color=COLOR_BLACK, lw=1))

# Main title
fig.suptitle(f'Monte Carlo Analysis: {display_name}', fontsize=14, weight='bold', y=1.02)

# Add watermark
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('mc-distribution-global_annual_war_direct_costs_total.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Monte Carlo: {display_name}',
    description=f'Monte Carlo simulation results showing uncertainty distribution for {display_name}'
)

plt.show()
```

**Key Statistics:**

| Statistic | Value |
|:----------|------:|
| Baseline (deterministic) | 7.655e+12 |
| Mean (expected value) | 7.611e+12 |
| Median (50th percentile) | 7.511e+12 |
| Standard Deviation | 1.137e+12 |
| 90% Confidence Interval | [5.895e+12, 9.643e+12] |

*The histogram shows the distribution of Total Annual Direct War Costs across 10,000 Monte Carlo simulations. The CDF (right) shows the probability of the outcome exceeding any given value, which is useful for risk assessment.*
