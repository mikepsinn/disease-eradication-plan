```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Total Annual Trade Disruption"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples

samples = [640071796538.438, 504164328487.9488, 692768716896.5841, 716544634743.2422, 431058602986.25726, 481238940547.5854, 620289025648.8372, 573273471171.9504, 604566894166.708, 521173613282.9952, 708807303673.199, 696138799805.4672, 613521064627.6288, 740684557036.1444, 658836404329.7986, 520595908275.92694, 647388157470.5555, 511474318744.85815, 708688086621.7472, 601022777498.2719, 586798939506.5405, 537340879316.8358, 753320083317.6912, 589966752781.8616, 561981127275.9434, 569633054490.4226, 666457880405.175, 647008298699.8651, 652461822491.5846, 654559988910.6648, 863000000000.0, 564171163441.2422, 553672730483.901, 524819115730.2384, 676429374533.0885, 740912175133.473, 594231696545.0879, 522367141109.59735, 523822537396.0808, 680597960673.2965, 691884310812.0978, 667742017148.7063, 538813566797.1605, 631881597650.6097, 619062136736.8606, 630372354007.3159, 707805405519.3931, 630921623450.5942, 684027813997.6185, 613689701145.4481, 638302196623.748, 678269898972.0269, 468181670188.33276, 572924703375.9838, 557802808891.0015, 541366581771.08453, 577470859793.5928, 790637911994.8373, 519992066263.17053, 720078039719.8678, 449795643441.70544, 571379675945.9596, 624144791352.6794, 672866059568.2485, 687962273439.203, 698063494161.9813, 569977780352.4656, 558597498567.9036, 706117301451.2842, 586128366444.9117, 483507250021.75507, 495883703372.9396, 515066522194.19916, 662312996440.6909, 621896929097.1625, 685434211857.319, 562088385195.5758, 623678196172.154, 677584283990.3822, 573975597157.539, 657582347213.974, 539156415735.6981, 568530003624.0066, 566647693508.1628, 490408486390.1377, 661116370542.5159, 557898885374.5554, 607718694365.2605, 660386203472.3542, 656387767603.8412, 682387268145.4392, 595864762868.258, 562483039750.649, 597852960077.4421, 449439342229.71967, 469017014987.2211, 479489353502.2327, 508003286522.2179, 650962848394.6058, 516345564967.3883, 567007405594.0718, 763644094412.4214, 569215592397.1562, 691179931966.3403, 513773123689.5025, 584659857602.9204, 512279348750.80457, 570959147605.4524, 703906421872.1742, 446260827962.86505, 654978682949.8011, 632507096672.8706, 545681588466.2808, 469104818152.4166, 614185567495.3632, 551980094157.1282, 631939348171.1785, 608728958056.8795, 805774033236.6772, 581150604678.8286, 505641821017.58905, 625977895774.5441, 630518730592.5195, 771814597905.0671, 703257419610.4791, 646024514111.2888, 786210376093.9863, 491024855466.9722, 541282635983.5848, 514415676669.1713, 565836424170.8115, 474916670103.4085, 678735091243.3566, 582920582211.2078, 467048691196.9423, 506352989367.96155, 641071976893.8636, 703633908492.3276, 863000000000.0, 863000000000.0, 652656042570.7134, 508698841407.1271, 431000000000.0, 635881370108.4415, 524896590397.1129, 563276417987.3528, 543946097421.09985, 591407163958.7168, 732674302046.249, 623513150549.7898, 589537011578.1096, 504551986257.3665, 450449725056.1842, 556227330957.9364, 600611496691.8573, 829891110406.9674, 620557076283.1067, 721928706077.7788, 554946563213.9635, 491357836171.1535, 510908668719.16315, 533132646577.09625, 863000000000.0, 524110333817.6311, 703679200271.44, 516579494387.91614, 715401949236.8038, 649252375347.4436, 589746008500.5275, 602001111524.4438, 539839961988.5209, 656334296526.5968, 559328532799.6904, 487824326512.7148, 483314086091.32513, 625235276107.5591, 802535733992.5435, 623838944781.8007, 593737140760.777, 637929193298.826, 764562744226.7812, 630449998564.2832, 563719501559.7227, 737935080977.5553, 654320168647.7944, 796386440174.2822, 626417905917.7865, 487922761913.55786, 475635995739.572, 812834163334.7778, 823396434284.2992, 587355714349.5259, 566501932823.565, 785951052909.7819, 498198788009.04156, 517331916919.2179, 679720771344.4657, 565355019392.935, 605821473606.6351, 589034110290.8407, 643815636286.377, 778459061125.9972, 616200784212.4657, 679794611445.219, 431000000000.0, 601151606884.2783, 522082224112.93823, 488412836560.72107, 518856106350.7974, 571456919413.7032, 713414864845.0063, 479175147712.1783, 609678276118.2073, 556438497801.486, 572111558549.648, 724498401600.4774, 667145075391.2506, 768835337526.7019, 589969245331.4951, 535910908234.9517, 582751324552.7728, 633041847771.0217, 625677722571.6567, 500206384379.47455, 616190380179.9202, 631440642287.522, 863000000000.0, 846090591413.6404, 521155165837.09393, 576217528126.392, 467659580865.26416, 546015159421.5998, 641309968298.1567, 751092049710.3114, 532767716457.352, 539901409916.70825, 431000000000.0, 589115349570.0996, 502161106028.0545, 551985314393.0739, 518975068074.2604, 596311561061.7297, 443858733147.8999, 467360581478.51953, 863000000000.0, 482501091849.09607, 499106892835.49384, 840115030200.4819, 863000000000.0, 492525889737.1923, 568005999502.4574, 644270723694.0181, 824132176621.971, 508940974310.7068, 580540039877.6234, 696082660676.1221, 655018493746.4447, 567209376245.408, 592139053310.3966, 475067611212.514, 581272530532.0256, 578368906057.2893, 631882558443.5696, 549454783051.77344, 659307747434.613, 725780086214.7864, 623333973806.9147, 645438301282.6439, 612120576156.85, 606381564216.0415, 533479859659.4677, 641411200225.1885, 595991574431.8954, 863000000000.0, 801719024006.9261, 649355590406.2014, 529564736709.588, 497724528996.7539, 749133444304.5785, 635321548386.0262, 660315496276.2301, 444895334271.2124, 714877135658.5632, 657307545596.6052, 497899549667.9417, 557688748942.9504, 635430713605.1819, 612045770817.5205, 575728057109.2501, 595335887148.1766, 579850109373.9265, 623016873016.7087, 787353986678.0195, 431000000000.0, 581409094116.0916, 625670955242.8835, 639081534153.8586, 567636557399.7654, 443938043478.1207, 642721924412.2062, 823935097782.2709, 461850645506.02747, 706851146746.3761, 572025033889.0958, 599808035736.7294, 503009985275.7117, 571423171138.1117, 763754746337.1715, 672440174112.4121, 824660997268.8574, 747309874032.2528, 655521012348.7666, 826364047927.5548, 655510131170.2797, 702368842997.9347, 575278624675.3422, 613577162125.1561, 535770031567.2017, 722806278722.6185, 491937287918.3059, 696702272018.6908, 586196333088.2239, 746492595581.4762, 692820092068.165, 837692784781.7982, 690353445825.0405, 458731473256.73535, 599209072305.5206, 492487376780.8298, 553079755438.3137, 792926873248.0232, 679022221621.846, 535626777723.893, 506520338869.72003, 609911047967.4363, 488608182280.3873, 538275346130.51324, 640900820710.7096, 744384194028.3776, 675563318720.8206, 431000000000.0, 640031994472.5991, 614175109274.1212, 652595905403.0885, 807840594861.1584, 431000000000.0, 545976742556.8804, 673425704968.5961, 457954210730.2322, 787977119034.979, 647342865406.1954, 704690965687.5029, 547933889258.0644, 700597749000.9319, 732998362131.9633, 631961984738.8295, 632132829061.5886, 636178477865.1245, 520221551052.9854, 590700306883.7911, 590176950661.7686, 649072960653.0437, 724121255050.0342, 502506904769.7362, 593066139809.2644, 788747649832.8871, 531397892065.1738, 524030026213.9755, 628542017838.8938, 704415994813.3628, 607603496217.6716, 767684772355.0916, 705969186299.8994, 704095348269.7902, 669042539906.7917, 863000000000.0, 584688486441.5742, 431000000000.0, 806128156969.4862, 559058963241.8762, 618095352679.7659, 765044511543.755, 456277532243.58307, 485574695786.15314, 456357036209.68353, 526651496669.20135, 655585000632.2888, 665497871666.4447, 636848545277.6809, 471885036665.21576, 431000000000.0, 612250776865.8759, 557663881348.6674, 657887114045.881, 686830881334.6727, 621435220854.2064, 693960259157.282, 631550829374.3898, 666192426232.8342, 535081078062.1835, 587346102253.6436, 627925364482.192, 701439476316.1373, 565441721612.9636, 665141166639.2139, 578425236919.2538, 593852671336.0316, 702559718023.9636, 431000000000.0, 481726680239.82184, 466106330025.7216, 431000000000.0, 537595124815.35767, 692643637936.3542, 576473202492.939, 628038387282.8765, 735702470764.1964, 767511133154.6874, 598976752986.7439, 771047582211.099, 616369433015.1837, 522622942321.7374, 545657336639.70776, 466242764646.495, 517937681165.998, 569038537553.8948, 699333142438.0645, 822973309818.4609, 474453662430.58185, 650160693612.0422, 504114233406.40405, 659677479772.4548, 592426715026.857, 438130905246.86664, 714986078290.423, 544631640599.9904, 551548440559.2512, 501507487963.2117, 539888297038.90125, 654219600320.5767, 586342716158.912, 642797965528.9462, 646603930620.6565, 766554784326.645, 570578928077.6765, 466547297019.7781, 732835861928.3851, 571724279611.8059, 739023509409.567, 649071030794.281, 592421364917.845, 645096936645.6377, 857302611239.2678, 863000000000.0, 613886026360.0255, 623860977916.403, 734009786576.758, 521857021174.5991, 643301129942.3611, 603595285311.8652, 641116852123.001, 522996856909.65155, 457306580272.9135, 431000000000.0, 497285421799.12415, 558962137347.1099, 575623792790.2573, 855208087331.624, 737896398218.5615, 511183119319.3731, 644974724207.4888, 564104754028.462, 576526435380.7778, 626650463316.2781, 676812688362.8469, 570936304642.6819, 732397524335.5475, 495122852759.56116, 607055127725.7012, 863000000000.0, 630863863159.1556, 782022758936.8888, 616303085969.2041, 672216044913.733, 600291695949.7054, 588306396973.7666, 528023097158.3212, 654499618669.2512, 521313013884.38245, 682411508156.001, 735189389882.2318, 647133182394.3773, 576333584910.5001, 657254491386.5524, 574044214453.6927, 715906763336.3629, 438092003927.28424, 571306423136.7195, 431000000000.0, 465042342904.0331, 772455263080.1212, 710796256892.4086, 533676643003.39374, 464428414766.1552, 431000000000.0, 550609890013.5668, 863000000000.0, 655032235814.3859, 549040936341.5635, 658552401428.2759, 459634676898.7697, 575201801873.0985, 617174157320.2375, 597176063606.7152, 697748712860.2723, 644624140966.0735, 682743566346.8801, 536631493939.26733, 711128197705.5654, 809667601380.9604, 510452483197.1443, 517977966880.7419, 768615145559.1356, 586124240240.768, 777953446156.2623, 560565690375.4473, 785058918598.7284, 620690510036.8225, 634812001942.4573, 800490920745.6694, 568659524928.0525, 513089235208.3322, 559966189453.0638, 657064173523.8193, 459243187784.3402, 679014639742.5216, 551071781636.23, 743393997412.929, 431000000000.0, 527359649379.03296, 449508453620.18036, 523660017390.23676, 633622926230.943, 587386218271.4797, 579706018706.7183, 589479458753.3018, 628662746441.3762, 506986379247.6159, 687428011530.1138, 682058003417.6458, 649262397975.0411, 669329618403.3932, 639129633287.9565, 863000000000.0, 597070763839.8278, 574206226049.7775, 530461233635.6274, 504855767585.99097, 486193518544.25354, 517876692010.8301, 598812789254.2632, 643440991540.8801, 611901874197.293, 529331861581.0654, 711427300711.9749, 691412710626.903, 589430971499.9924, 540019321853.34406, 668367349834.5371, 626945056398.9175, 468932543506.1954, 599099844949.2511, 635241104226.5446, 516875958396.0319, 627153162707.4304, 468375610051.8139, 768669958550.3386, 756725176951.4246, 579794539392.1091, 646779836677.3577, 431000000000.0, 493858143623.045, 575563787753.1124, 501295622562.0875, 688349460248.1316, 863000000000.0, 492084778983.1517, 522616896040.47534, 632250367516.7135, 807110570815.6545, 488104206314.5854, 633777047199.7876, 837789837533.8086, 452286272853.1507, 483045511178.2729, 562452261075.7018, 552853171800.6995, 700453215588.2789, 632947799669.2651, 442503094737.9574, 664461861812.7708, 547292841734.552, 760292551322.332, 542452555000.30597, 541584035194.04486, 667502332217.378, 694304421040.8693, 656570496220.2102, 449577938807.49243, 667135484165.0878, 504672515530.4001, 632231036888.4615, 470967235601.1079, 656363414997.899, 525487803263.2108, 482911311653.15015, 688279046420.028, 632946092230.2048, 543764617607.728, 784520295132.7672, 560753104823.9886, 609838042163.3549, 636017047963.9042, 543215804745.4948, 659260678563.9642, 551592289596.9425, 563648356001.8054, 772288066030.7737, 504110465212.0321, 431000000000.0, 807084905887.428, 863000000000.0, 564285907971.523, 431159045129.13635, 573859729144.5532, 576336222500.3059, 586272002746.6337, 497638262769.05786, 672070978653.4918, 665535616855.4348, 465096428824.44147, 686494871881.207, 863000000000.0, 625165632811.5891, 571132258185.6055, 591279917129.8937, 676342615703.0724, 445995463277.0089, 624326239950.2314, 565770729926.0756, 841743696480.6406, 587913364895.7711, 815284705128.0305, 498491126168.8926, 672989901037.7013, 641742126990.8755, 519695314752.0434, 625769100402.1564, 751981153747.746, 572505838255.623, 449070286663.27637, 604485166637.6506, 516625716006.3814, 570624018752.2966, 597654602639.63, 447980448543.4806, 455193694707.23444, 660540966952.9519, 552644169203.3564, 431000000000.0, 697010714652.0077, 636407350828.263, 534207879636.9389, 479989140399.609, 703344384505.856, 645162747469.054, 863000000000.0, 653325865127.7693, 649569611871.3132, 588669860085.6937, 700972422742.3138, 677523528063.7325, 757232391453.7338, 552781100338.7588, 561275382894.763, 556939093123.5668, 697748167868.5995, 791119847187.9869, 558945746766.9835, 562335756387.9694, 641136085242.1722, 580490204785.5609, 718007330486.1263, 431000000000.0, 523615815433.2226, 527748195708.2654, 431000000000.0, 511042745714.3655, 515459435404.2717, 585109674961.331, 738810179405.6565, 580562420736.891, 504985623815.65875, 600273439394.1488, 730491915980.9836, 509926416075.93036, 515878749631.81775, 669569110805.6326, 582991624144.1322, 680222596195.9886, 604905477119.5878, 686795531151.2949, 504603540484.39923, 605073224235.8557, 584115041132.0127, 488666224607.6174, 459429167345.2523, 684858225841.7025, 569752491593.0022, 505751076162.6714, 596108760745.4504, 740786800568.6932, 431000000000.0, 464912120488.5848, 514752661299.381, 785914026085.6772, 637562530389.3695, 694845731643.7664, 495279070357.1876, 497095531345.59503, 656537208205.9297, 612676999291.2418, 668404233393.9077, 586506482429.2351, 637059909763.5573, 623631636784.7545, 696135766825.304, 699758196485.0406, 454853381822.5374, 431000000000.0, 724368219737.216, 748679115826.914, 505899867633.8247, 435886936325.88806, 617125668644.7648, 715308651526.133, 834272303739.4713, 664566501954.161, 567656495190.75, 517478525053.76025, 607606217858.2703, 575003633604.9456, 506398933413.8222, 863000000000.0, 832434270496.8011, 741843367727.4458, 514938720216.13385, 705746845062.5552, 679274475760.5842, 655923591396.9512, 756955601175.0913, 678761619336.3218, 691486540174.7694, 678946594024.0925, 644183345917.1869, 441824300999.4712, 615439601007.716, 549370455250.58435, 483150830432.16675, 817302863199.8442, 824175724882.6196, 771819122151.2495, 634472328075.8843, 770642484353.9808, 607671133430.6871, 628596807331.6738, 499400581469.9267, 650641380569.742, 612906672995.2151, 481198573099.3451, 600887182655.7096, 597851755347.441, 834267364425.8542, 710673680438.2322, 607605586673.6482, 633749058258.2375, 611149705784.3544, 584921798523.5139, 500380509232.9379, 590331027251.0969, 531161197640.05365, 485689482493.6378, 663968047223.9717, 649980369549.4619, 441581544897.2032, 593310870954.9257, 723591543841.5043, 731796169723.5137, 727472344782.0385, 610575141687.5613, 521914055210.74915, 500267582124.5265, 644619527482.4634, 648599189309.363, 762033207184.046, 737109180304.913, 592306641868.4434, 486216466180.1936, 572982123202.3807, 630209308946.2863, 585008052983.1965, 547258336027.4197, 634210144464.6748, 554487530432.9424, 542406481130.67914, 640837502439.1786, 564614189893.3342, 633222506565.8654, 636501596211.4387, 495343417113.5387, 556727787963.0656, 782656308025.9574, 493355960251.4098, 431000000000.0, 435731474754.1865, 609513644095.955, 609709203202.3787, 593845431236.2117, 752204220084.0186, 431000000000.0, 650519273706.5072, 800025046603.6683, 496368600654.7499, 566841979972.6091, 530521087413.4311, 517366900501.2355, 572254868525.6207, 781227913298.6975, 840185587525.4899, 571272772445.4481, 850338577493.3181, 610213633011.4408, 827796335990.009, 596413591901.0012, 620643360194.7455, 647011790829.2452, 863000000000.0, 705279284203.7936, 534835030911.06586, 720170007479.2463, 568653261011.7227, 555887587016.8694, 712490928679.6298, 609727418053.5618, 637108781421.9542, 607879556889.8088, 643702352075.7812, 653880087319.7882, 431158132110.0689, 682531121458.3706, 509378169400.4416, 469417887353.9165, 600118253961.2487, 615478919749.3026, 536142717048.44794, 702748393507.1826, 477834710871.74274, 564118219880.5767, 546580745950.02057, 601379045126.723, 637141392290.7198, 507044252854.7665, 689558406631.8334, 613191376712.2583, 433409663214.6786, 431005246406.6273, 605048024731.0043, 583050485350.6731, 595343089033.2476, 603368242946.109, 631141634362.6874, 717446284126.7428, 497839969574.619, 492490488703.05817, 499413657317.2652, 638279228411.3326, 756321987486.8251, 561680801940.0659, 431000000000.0, 448112410088.9188, 523027684887.67694, 549220608837.5685, 563973565201.1863, 610539153388.6241, 573731163394.1683, 730513438321.8938, 537809590327.8596, 520316417740.91864, 660166915314.1616, 461704696615.5784, 649798925263.4868, 617511179886.1626, 590709343711.3805, 803845154595.7557, 542970812133.67615, 863000000000.0, 582588681033.8864, 483393112358.67346, 613944699283.2717, 500929864830.5254, 530628076062.1693, 650646230480.2251, 669216604150.6638, 542974642563.22974, 722526804802.5245, 744674360569.3088, 782451404832.8248, 666115417093.0881, 772395826760.4917, 434268091051.7941, 573104183069.3884, 519883709040.0162, 619341302386.9618, 547884723136.2071, 588750329137.3872, 846891458340.9058, 588378220970.8796, 652584557565.0027, 581882026849.8978, 614576378063.5074, 607020392229.0172, 656596683149.5946, 745706022731.0251, 812324465307.6682, 640629068474.4673, 673263230927.4786, 494339015961.3034, 596987834801.9315, 716509628108.7006, 707119767122.9438, 629580809692.4135, 709688017200.7804, 661561755136.2964, 750352862924.5874, 638329360801.4391, 569272745178.6677, 643617595860.22, 431000000000.0, 649014423106.7021, 431000000000.0, 446566442716.33026, 656998242364.3823, 660009190714.5709, 493325376484.1945, 534376000040.6204, 773371515136.3262, 556452256133.8584, 863000000000.0, 606165885673.5422, 651918159336.1422, 807935913238.6876, 620639977164.3182, 507543894006.21454, 594676961532.1635, 602551844520.9043, 475924602667.199, 579453517451.6344, 531529592558.1783, 714486336591.8497, 610109165705.5391, 576686921393.6938, 595051317583.0166, 630868597028.2837, 676529608027.8434, 507781034745.0277, 504020854707.8597, 737724298824.6031, 563578473968.6719, 471543748457.72107, 656071126525.3873, 658352502464.2827, 462108626417.2275, 631581134671.0535, 690942893637.4346, 648036067681.8058, 678353365399.4569, 472597240279.02234, 643069355207.8363, 574661317107.4745, 556574738770.9528, 707695715719.6707, 788442364753.2714, 833794960875.5785, 765758730072.0175, 594676251171.6837, 645548720790.6831, 694784762775.303, 619555933137.3066, 620611013456.6108, 701841069055.0759, 600025440932.3679, 532748511051.7228, 563364825688.8789, 678585653202.9243, 606694729589.3871, 644116868703.6951, 682956062160.1614, 567341742477.7328, 693481899011.7603, 648548832699.5197, 487027749164.4514, 783285562428.9241, 554803840249.332, 452018527594.0133, 503711764796.574, 505861963014.5768, 612013889385.5648, 577603276789.9462, 571182257109.0431, 676876462891.9143, 644078613942.193, 641360381682.1248, 652125581725.5588, 676448014063.3055, 431000000000.0, 568390318493.7152, 431000000000.0, 610265997767.6204, 605874046970.3339, 730019934219.7909, 748667062960.2863, 628594327217.8032, 554841623089.7643, 660903849260.6438, 552134431519.4014, 606222610836.6879, 722364101674.4574, 549216469828.6881, 699593068915.8546, 683844240128.2812, 511845831926.76373, 720796154174.427, 686418063684.888, 617442428632.2815, 529633710298.7096, 520603896068.44763, 551180241112.6138, 667675671637.2734, 511770127576.88586, 655337849701.3654, 486427979710.43225, 584801939248.766, 618289273128.5117, 863000000000.0, 474863608523.3176, 787427023639.5552, 622716149907.951, 652281105034.9032, 619244796879.5597, 656177582880.6805, 590055179561.5076, 784920227762.3726, 559180859786.6492, 741341317935.8024, 540839374804.9992, 599922228279.4028, 501310790702.2776, 657377945468.6921, 783677887407.0897, 598103662236.8031, 585547995479.4866, 497529726105.47424, 582189543185.7683, 457044740141.69586, 515667906994.4994, 631279014856.3346, 766330527396.8528, 863000000000.0, 546414782561.20685, 782312313028.8674, 633182955337.2389, 590310514719.3275, 654766063276.8562, 613073201862.9386, 618371363560.9236, 563979117363.4391, 473114198548.38184, 461050940711.2911, 680918417668.776, 577311205936.2317, 545493822717.37933, 607288618839.4132, 698259910683.0316, 626098827453.2206, 539718549890.2739, 753821883633.2455, 802549159236.8187, 662006936647.7985, 720766650052.1998, 755921055570.6394, 741060403529.425, 676203663783.0143, 674315683237.622, 664963312047.7141, 499057985609.80054, 686680891792.5741, 476679359022.14014, 526608202675.10724, 764232142594.3594, 703895430357.0468, 789580069938.6902, 577826419955.6204, 494217565873.1002, 581039049852.4684, 617453980947.0558, 614933780419.0536, 741531601977.948, 568709999647.2971, 645470157685.666, 508781100968.41113, 656829019179.4517, 606707141441.0287, 530811060708.73193, 581514458117.4719, 586870457824.8806, 577982257930.8947, 830393759584.2294, 595868938648.234, 580682435722.019, 431000000000.0, 517379636946.2916, 578709220696.9492, 536871538778.7083, 774905878468.4156, 588877840435.3923, 762183782590.8794, 613050149308.7848, 610392518173.154, 596890388412.534, 606781202968.0944, 822684888272.8912, 431000000000.0, 431000000000.0, 550641621796.6233, 607938110469.4952, 685387868952.3442, 659489004882.2976, 566395499935.6006, 726595719558.5332, 728035354179.2095, 626509462782.9652, 719360001217.2098, 636438472838.7593, 548854762172.29407, 686326752720.8048, 618395225099.8099, 606516703676.9889, 787558274832.5992, 431000000000.0, 471473274706.1067, 491172397649.27374, 568509135431.7852, 579579409743.866, 464031074034.8106, 509094479917.68396, 520452775463.04126, 863000000000.0, 834886680953.3729, 563637241576.066, 568476579234.2985, 494484735210.0395, 432166436250.7034, 593922452258.114, 507948723747.7194, 597308586029.5686, 456443884669.7514, 529666519868.22626, 622581836081.7695, 647096219367.4263, 653010912849.845, 479677530151.4707, 705705057940.4626, 526083885566.9283, 678458900065.0885, 605228538486.9752, 474941845425.15704, 573278038669.7236, 646999074464.8943, 676067595568.04, 591386483674.4031, 795824453751.8477, 725109866544.8016, 579368976055.9454, 692728215922.4366, 854686420320.2378, 858745164366.4028, 487617072711.8944, 514419587352.65985, 789232650766.7389, 502529652139.0951, 479502841355.1371, 556238564147.4022, 653330284558.4841, 595451242923.685, 540244860295.75946, 537981905784.9983, 534353708821.3252, 518731125205.7667, 863000000000.0, 639253646115.1362, 709734008449.2015, 555953965988.9294, 586684973352.2073, 534238302578.6085, 431000000000.0, 474805149656.76263, 439711397480.9352, 431000000000.0, 490450328218.98926, 767139253413.4393, 601608701978.3071, 762470573798.1747, 652259184056.2418, 696728053887.4543, 516765676008.56384, 665469890271.9069, 690101014372.6616, 547379459779.98, 669686946036.0, 670477564124.5856, 550018242758.1271, 496810398329.20624, 491428958241.436, 615754774013.7017, 642609495029.3947, 526802060819.482, 609240578646.3383, 670995357722.7808, 676694921599.8693, 798668937651.5366, 760634536586.3701, 507638723234.4324, 817559614508.4219, 551834740192.0562, 729934489070.447, 613734096713.1217, 563597229748.8528, 439939494292.70245, 588185600944.4509, 459763197316.51227, 719952908627.2651, 793710376445.3715, 526392187032.1362, 639759861532.532, 533116989823.86053, 542366177643.75134, 695731507628.7391, 602238826472.4081, 825735561035.4419, 556629834346.7135, 724058546865.3077, 616948090034.6063, 698364740081.9346, 560106005846.674, 601061937716.3909, 594068085405.2274, 522747362422.0868, 681987253922.3047, 680556431950.429, 673742339631.479, 796557450792.2108, 784264947024.3718, 567331347570.4974, 647882629145.9514, 542836555276.8194, 608891392194.3589, 545139514210.1576, 808394354173.1787, 646807827090.3829, 583354634177.7568, 749462694945.4342, 431000000000.0, 431000000000.0, 698372257538.4341, 612915650224.2703, 633935701604.764, 479174859764.91736, 603877024657.9906, 863000000000.0, 701896691951.9066, 624915593418.4594, 560912228846.5239, 565358257726.0814, 431000000000.0, 634745706412.1399, 704553281793.901, 458440149041.46954, 539205132705.08075, 493760242549.9815, 510887409936.6845, 612156026967.2457, 431000000000.0, 676224219419.0051, 693187395527.8, 579940150357.2428, 431000000000.0, 508077969335.5601, 754706685685.8088, 431000000000.0, 570099363294.5986, 491789120771.84894, 699455454872.5886, 537895830095.7698, 651445973596.354, 670391011350.8423, 840012490288.2915, 584918895815.0635, 648226795297.1736, 465868944443.1081, 749036465012.216, 529804324523.5007, 548925771897.208, 603982709697.8035, 459477575976.71454, 631501357652.4025, 719974254379.5127, 638734501184.1593, 457360961340.50305, 593192445248.7313, 691733856286.8948, 434484714573.6818, 501061400324.06775, 708448285431.6654, 636150496621.8025, 652373694320.6151, 843489043707.0775, 658958435644.6498, 681479817620.9419, 863000000000.0, 583792221679.1821, 526301400014.0364, 654208680100.8818, 655509883420.206, 552252265594.1978, 504843728801.62683, 863000000000.0, 642590515855.6302, 532465052744.5558, 713418380040.4904, 594738427886.7413, 579757069540.7548, 670011827687.539, 482119308765.9606, 645538069435.9772, 851530958147.1095, 658680695328.3738, 567203735085.5055, 554177839686.2255, 563778264156.531, 579645816975.1794, 567043237108.6003, 713466644798.4062, 445794635509.9063, 706621842063.7538, 566854052169.2572, 648330748311.6588, 496438458389.1794, 767639872481.4355, 756414296845.4247, 718968496943.2866, 463419591199.3675, 702510092261.1395, 651550171185.9587, 456033688747.3519, 603763025221.227, 646903850506.7683, 669275188737.9818, 625754133995.9558, 638541524223.097, 787650235834.3252, 753787224037.2109, 431000000000.0, 573151790913.8461, 588907812964.8169, 444302486467.81805, 616594449901.7195, 756833683181.8413, 500012891305.17566, 643681536660.5854, 515398381122.30835, 538201617568.5387, 788179188760.1787, 550701538441.5671, 658217278462.5729, 435007172312.50745, 843911761121.0629, 674831185209.9902, 587045057280.7168, 671592245088.7273, 472131887923.2185, 747989169806.3075, 572486219258.5865, 584801842651.8611, 555699614804.5011, 546990569763.7532, 685943586200.075, 634550424551.1226, 680737545376.146, 605426661746.421, 664201197830.5692, 562927451480.5068, 863000000000.0, 459066228506.9737, 758471591428.2435, 773010093066.3488, 521255498551.505, 863000000000.0, 723564431456.332, 720443754855.9137, 609395975233.5245, 583437781786.926, 584247886775.8333, 649895687154.0731, 777589664820.5093, 626204440125.9935, 515799208855.4369, 701925028154.9648, 714079744669.6255, 681089413241.9491, 692160033796.8445, 577902961886.1558, 514195381303.78894, 519774079684.70123, 453596376120.31696, 632418749621.3136, 597457217200.8682, 560819268680.7832, 431000000000.0, 485948007069.9338, 739843563842.6456, 538898088350.1223, 646451285217.6376, 473738061722.6483, 782785310229.8055, 591067490870.0088, 638406550315.7666, 863000000000.0, 793660709686.1356, 574258981393.7166, 545771649639.32135, 572327700008.9592, 663812081417.1406, 595152487533.8873, 565290898543.3285, 786751784308.9696, 594204017378.595, 863000000000.0, 616218027829.5872, 832456432708.2214, 646075928425.3188, 719398690414.7604, 533190847478.6664, 521107448583.1013, 657924503571.029, 722674058095.5964, 610720737698.8048, 482589246072.3743, 476303475279.6497, 470682936555.0437, 443079964228.3098, 618271451570.6271, 740395739713.3043, 604930280145.0487, 431000000000.0, 586184950150.3057, 589101434602.694, 863000000000.0, 468183158254.0197, 565749274939.1215, 820797176200.2131, 656789505687.8842, 670135544218.4963, 618831279526.5273, 642944197473.7502, 696116261888.957, 525218558760.51385, 708638813917.8861, 475227242108.7308, 642764419476.3856, 625918492162.9412, 543541105769.13403, 603935811795.8269, 542938748509.9662, 501334035119.45856, 569483315130.0947, 498469189215.6426, 642129206399.8768, 494407373555.19635, 688053916412.0082, 491660097690.94104, 548386192533.0397, 542739951038.0271, 767165267934.9271, 642983730555.628, 584006833610.9365, 662496258537.0757, 431000000000.0, 601747810952.5896, 863000000000.0, 620785339234.0526, 613726094739.985, 668331815526.0813, 710849280435.6373, 431000000000.0, 449839019817.4038, 629433494032.0804, 534112904003.0566, 765380613846.9739, 573382174640.7462, 431175392650.1125, 484166145065.8546, 431000000000.0, 581690346857.3657, 586432248092.7389, 562366800549.5712, 734353670291.061, 750114976888.0211, 588308397466.9672, 431000000000.0, 676585733938.0996, 669190251452.4313, 640603085205.7391, 721767299132.7773, 493115330446.2458, 863000000000.0, 511424829950.0317, 692617701192.4119, 449438284403.0477, 514078981417.3727, 793650643929.8187, 578932532131.6367, 703858254962.4769, 632419510369.5087, 595180585290.3903, 772453630831.2985, 581428850545.2096, 442049665092.846, 525801178150.9057, 668695307091.6678, 650470230015.012, 459137299736.0856, 533216261634.0871, 546886700463.6693, 568286279455.5, 474981797635.32605, 542377115846.9686, 532812480285.866, 695365896902.0743, 700020692547.7206, 590880484033.0935, 565612503008.8866, 621620873490.377, 524558131133.46686, 494692958572.22034, 513171286261.72894, 541757297989.8281, 493233880161.5743, 624067967489.7775, 690223691581.2166, 457507047401.6313, 609083082800.3694, 583157246081.3308, 644265364414.6704, 604981500941.4636, 468477311352.1513, 484649749372.6754, 609547575270.0754, 727852593017.5134, 431000000000.0, 644747879055.5961, 748931234071.7631, 590124225915.7144, 668577904889.5442, 535233455791.4288, 593660438374.8431, 454769303101.2305, 431000000000.0, 716824631424.8793, 509109218544.4343, 559274491896.5803, 474094988176.3623, 472119294971.20526, 587948327333.1641, 532721064909.02106, 648448506003.6868, 657088020278.2856, 641907242116.0697, 632604236399.9639, 802347291537.4763, 501699676459.5756, 600488665786.8369, 741401224211.6665, 758956733315.9625, 471132010817.70953, 573669138204.0813, 771668510505.2865, 663597777777.3243, 627756750087.103, 583390298969.6423, 566440237381.3927, 638200200550.551, 579809277366.3103, 601807088659.0713, 614891213080.0066, 537613532861.9674, 666436610219.5269, 863000000000.0, 442344108851.1775, 642267707887.8336, 529834300769.5409, 671813533489.2554, 611404145930.8031, 694172360503.209, 747057187708.6414, 627440172584.461, 741317332513.5405, 431000000000.0, 804155711991.6771, 648113793756.134, 734218686859.0565, 488320720284.54407, 523238169070.33624, 622284779787.5481, 604541491518.2911, 637617033313.4156, 735088676566.2792, 443268892314.59406, 720786551638.8721, 607264504677.442, 584831701774.4557, 467023081175.79456, 663005528760.3097, 431000000000.0, 680332393286.9072, 465286319853.44556, 612153450308.2804, 593681235156.94, 746266195667.6112, 587445800377.534, 536082539845.6853, 554227278063.8038, 760081460205.9563, 666929775679.9072, 566256373126.0955, 581450771312.4011, 459127615005.72034, 649658517825.5464, 443694319438.71356, 692934155715.0852, 620375039371.4653, 863000000000.0, 498810210203.6545, 595423195147.5054, 834374955985.3643, 749166246549.6503, 535885279298.46313, 630963270038.756, 606587706638.5391, 637491114522.9022, 535650545333.50665, 596834880435.4507, 456618384724.3513, 621091396772.5284, 656794440662.7123, 582383148436.8738, 455242775871.1763, 722671315703.4348, 646902765315.0813, 533057986824.6314, 576911674600.7483, 464579627058.0396, 505470193255.1652, 551165686914.6906, 754106645223.3411, 541306476749.3013, 679345283145.9453, 551116299388.78, 633654603947.5637, 591343699628.9747, 708009942348.5148, 551459253648.3212, 458691741283.531, 474473241031.3905, 551746497125.1616, 485797733847.31104, 652169979885.4097, 558258873451.8257, 863000000000.0, 445438275577.27686, 628690078403.0132, 496353424398.6533, 555527453560.6459, 621785863829.6011, 431000000000.0, 632404999552.8279, 850013720808.7078, 559481956638.2062, 634989946493.0233, 727354187230.6929, 588980728908.9698, 546960591132.6674, 431000000000.0, 679438988160.6754, 594313871036.0544, 506613265390.1901, 620152112061.0104, 546696573138.45465, 552084600761.0322, 675267169169.3884, 478156494921.65436, 730251005330.0398, 473149763161.86646, 539082210447.92487, 853042430810.5562, 740699486041.5895, 616968959890.3341, 513143141059.40704, 552001688240.2114, 614310490487.3094, 610424522760.1672, 596670647302.5776, 603063092983.3865, 583733103892.9434, 469444583595.1244, 553253453512.2203, 713252990639.1761, 475621213653.89307, 586310332565.6334, 524262245718.4349, 618476158915.7789, 565954608526.3563, 788179193069.7059, 663421599549.2914, 480417613770.645, 683095332187.663, 528476016858.42065, 547345545273.02496, 641106702640.2488, 555690559805.1486, 710502462359.7888, 528489317643.303, 543285170630.96576, 539688282881.1004, 548450064885.2828, 737006078072.013, 677969961693.7386, 821393443250.4258, 863000000000.0, 504994290300.24866, 613999138449.493, 492120975314.9255, 528198991960.2486, 542212385360.8292, 502630113195.3643, 503100278464.0486, 591040558705.1437, 488594456518.5273, 704133702841.8892, 515221848188.6889, 863000000000.0, 559685951911.0968, 614173372551.6615, 481823407284.68506, 820832007739.9073, 739667620956.6415, 639186115466.1876, 477442408822.92334, 629475456572.7938, 496928344846.4049, 786078146540.833, 700029815199.1573, 616731923100.7079, 431000000000.0, 509251919247.67694, 685102858689.0679, 752029853804.5023, 738312545318.6836, 457108122531.1897, 639712348034.8198, 726140802529.1921, 451758636315.0542, 605522327813.431, 636573721515.9908, 574850575475.4314, 436481025142.0456, 572312147632.5815, 572148894991.605, 590643302013.4171, 548661088389.1889, 560518287543.5887, 602113984311.4727, 655912994701.3417, 574477032903.8333, 563847419859.5391, 616394309498.1094, 431429958379.66144, 659951297179.2484, 606311878886.643, 610659714138.4551, 719114474193.543, 431046025146.5515, 431000000000.0, 636569365468.4989, 605606989429.5444, 624967772001.5538, 558619779389.4431, 682262351398.893, 715537302021.2258, 660765579438.7424, 578939865447.3723, 431000000000.0, 695082442319.392, 753211427734.1802, 679869379116.149, 518718898278.8992, 683406567814.7585, 706437452293.6477, 799652812459.9811, 519044237978.6249, 582482891529.2797, 692377908520.8038, 612583020555.7382, 497290409799.4235, 652680005452.6687, 671963685133.9657, 615914074219.537, 630472650831.3853, 579158018572.1505, 788303050973.8573, 516784462355.58545, 546343436791.65125, 607555987012.787, 708751452755.5385, 464851515505.9617, 480546085558.66315, 431000000000.0, 609901644062.3688, 497204073622.3164, 566364919058.3298, 681902119516.2424, 541110574865.16156, 631782986418.0988, 574996162434.9806, 683202801802.418, 659727944953.0577, 536292378308.6581, 588489771967.2834, 729788176406.5459, 650224098042.8496, 473210578633.8332, 681205300519.4829, 500186625845.1731, 779154550503.7905, 727247962722.0677, 638388995841.464, 623533544846.8342, 584286938972.2451, 683980512110.4329, 567751065622.8779, 632264002848.8127, 707868926699.6754, 548823246374.40247, 543550787040.1903, 490536821895.2399, 501977677980.5545, 438326181186.9106, 690237549663.1587, 835950258414.0237, 780928962026.7161, 454352098141.5243, 689628418628.1323, 780482400464.7769, 559147230618.7811, 617389995246.5442, 431000000000.0, 635771301975.9315, 502059033010.7106, 628244083309.9673, 459614724701.25934, 667706930576.6776, 727301384014.597, 527676678834.21466, 495563832963.8058, 431000000000.0, 578366232437.8889, 546899068738.29285, 460446238776.7614, 657144044515.6248, 559826445409.0134, 500975144846.85925, 549528401576.363, 733367037648.6727, 674865263059.2166, 592538249648.6859, 676804747909.0175, 493458211644.6187, 609866448804.5078, 622437669151.3662, 557855893782.0399, 655098983009.0061, 527933970094.4762, 663802945345.7178, 668774483418.1156, 431000000000.0, 749022125096.3868, 431000000000.0, 543564652445.98035, 727409230941.6809, 573167237009.5999, 467431866286.27356, 499377030861.46954, 727610378204.7388, 431398572646.29724, 740914648587.4575, 600470841712.0863, 490708388548.15356, 546751428840.3501, 506205143013.12305, 707151969200.3531, 690556040043.6152, 446907584882.78015, 564453912770.6166, 520236288429.69464, 762869404082.8516, 477163127442.6815, 806124543115.1389, 602799591690.2778, 493368667116.1303, 537689623878.3959, 525952506640.41534, 483598907795.58545, 616664913304.7478, 487624371501.8727, 431000000000.0, 566855063771.985, 440317649256.3153, 530589931050.48126, 516013551852.8326, 519495293639.9102, 863000000000.0, 612474462122.7477, 633364883244.8589, 442390304271.0511, 539918976436.02484, 629993617929.7463, 505549260656.4431, 712422828935.4279, 489811986927.1913, 576321575190.4353, 546466521710.21716, 624318478111.921, 541211685455.9591, 577906501053.171, 581483418811.8877, 532266394367.99243, 660895961075.0137, 632580385835.3514, 596909723999.9774, 561768651137.763, 698459699983.1471, 581513954253.9628, 574245561009.0967, 617745434232.9413, 819448338518.1998, 477989007483.9966, 695159023023.569, 433315443858.98267, 630214002962.7684, 801964948810.246, 661315423162.3804, 625017485162.0675, 548955459674.0745, 609723263649.2559, 579841316186.8406, 527414800520.94415, 575962686986.8967, 628104280630.8701, 529173874473.14655, 525517378962.14795, 476304737374.65405, 649918115714.4556, 667999138549.1322, 631825423512.7408, 719680930899.4741, 615903660381.5961, 650066472255.8916, 639971866942.0785, 596599790701.2383, 551849890649.1277, 863000000000.0]
thresholds = [480262023010.1078, 604962960436.5869, 761169818397.9661]
display_name = "Total Annual Trade Disruption"
units = "USD/year"

# Calculate exceedance probabilities (1 - CDF)

sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure

fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve

ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds

for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('exceedance-global_annual_trade_disruption_conflict.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Total Annual Trade Disruption will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
