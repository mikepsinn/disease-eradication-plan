```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Misallocation Factor: Cost to Kill vs Cost to Save"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples
samples = [2971.8855366671582, 2706.0593826163117, 2731.7549274754456, 3118.951990243225, 2494.704920720297, 2683.3333982073573, 2877.4653259991446, 2835.110445337755, 2896.04496248755, 2776.612768510471, 3040.392163222353, 3313.2382478577306, 2773.7241946100157, 3251.6751033756536, 3039.5742142409563, 2916.7988345777608, 2840.012443117058, 2698.359265605638, 3053.5218909359587, 2680.614586738759, 2925.765586856772, 2477.2195267284724, 3037.364320622292, 2811.4317683039562, 2886.609822487142, 2867.493296135719, 3032.989347014087, 2695.757027473412, 2858.970431739482, 2897.8694470950404, 3267.7050061528494, 2476.5330711342, 2727.0967485226492, 2753.422065293926, 2935.9092235615326, 3326.2766575454543, 2599.5128149366865, 2474.4566727257416, 2645.1883204252713, 2931.684831796396, 3164.852382434387, 3070.3573362632337, 2599.4458271294598, 2697.8903489842605, 2780.1618972301817, 2983.1942187382983, 3211.96823004918, 2816.1824085477638, 2746.6440542249325, 2638.316980638642, 2986.505102918414, 2934.952559057133, 2444.481419722566, 2597.015622173861, 2557.920322312633, 2824.429152531332, 2839.5681349759216, 3111.1875721633896, 2622.81293652011, 3148.4639086259203, 2749.2588857555343, 2580.3711362254694, 2916.110203354699, 3164.6115230622718, 3352.530328685993, 2934.8659558442337, 2673.6042248191093, 2829.5117227661685, 2823.9831963291845, 2838.5614177644507, 2825.1282162050593, 2626.272855206735, 2309.3704125275053, 2825.315628838265, 2763.49943059361, 3248.9318400986763, 2692.331575270413, 2614.6938009586856, 2992.6464828698013, 2773.410678698895, 2865.9956026327313, 2509.939652916878, 3053.0845108229346, 2892.259485742871, 2712.8972662875253, 2934.7162943151675, 2601.7968814489755, 2755.3131339839083, 2750.7357160661713, 3290.3834461751553, 2991.707594521501, 3073.1701677292976, 2651.495843999646, 2890.7784473295674, 2492.642275019906, 2309.3074877419335, 2816.160002751792, 2516.745271308732, 2754.326493792322, 2716.9923130096636, 2731.404392407884, 3249.8847316639067, 2754.081131515833, 2716.225324018814, 2463.447661831334, 2633.4301180359703, 2759.342263472438, 2747.7858710491073, 3164.0913193774395, 2405.7299464464245, 3056.0712598747723, 2866.8687149043312, 2639.6461067616874, 2531.123542396059, 2866.9811314424346, 3006.6222812165724, 2748.9575110123387, 2607.960236605007, 3318.4221463351932, 2647.422408779136, 2286.1453528895336, 2703.6233110767316, 3222.0481801742635, 3031.351418605811, 2778.8426420794594, 3263.1529720222707, 3018.207698990393, 2841.862646531066, 2604.9048447427645, 2898.832889912568, 2687.1534947527025, 2587.4793245827827, 2980.3401097791552, 2731.027288810421, 2536.393063415402, 2657.7815953855697, 2945.2040218717125, 3074.1476530398295, 3257.7356321781617, 3419.949978594338, 3280.5999301078896, 2461.898954528686, 2587.7956893676646, 3152.239425505756, 2709.32173197754, 2901.8240794275875, 2501.6261142952976, 2842.5230714321574, 3070.152296715646, 2827.935673544909, 3094.7861106439946, 2532.577946138469, 2513.6305837104187, 2448.977156378168, 3141.4884751792392, 3488.690375102242, 2854.719002626955, 3042.4551926657864, 2809.459609763739, 2764.7851351890504, 2888.5958216055897, 2799.42821971179, 3455.695910871161, 2807.4560151897986, 3228.2345682450555, 2613.4563543616773, 3249.379934650316, 3082.8437431969346, 2777.7319544122347, 2731.129697252562, 2779.806942533469, 2780.5013789394234, 2524.610722805918, 2591.8454366292212, 2636.2426282176325, 2935.19247416362, 3334.5941398553514, 2568.0828240473984, 2912.5859435573802, 3225.8308498382858, 3366.8165294021824, 3053.3593743075635, 2765.895882370466, 3190.4476318091733, 2920.285088466834, 3317.1001945175217, 2705.210917758487, 2822.0390501793595, 2391.5213815238503, 3453.4295669290336, 3596.778465645814, 2947.8474685469423, 3047.4231674361863, 2886.3091527352126, 2486.191318962339, 2856.0960044591657, 2797.6189398263145, 2599.1319324980377, 2930.0809051745687, 2797.7009089143603, 3012.233190822544, 3233.31792189109, 2898.189789267685, 2882.6883605381727, 2555.358751937326, 2749.5933976652213, 2571.981141279326, 2688.690577183978, 2415.2358829831437, 2420.5656554589013, 3244.280870243408, 2554.801303947159, 3115.234515187065, 2580.909400239511, 2728.06467690261, 3130.149942671912, 2872.0875155578547, 3024.651265197131, 2946.6533388458206, 2446.1999172658752, 2605.211253724638, 2872.3712549479274, 3066.202510954609, 2478.50111127332, 2743.18561610017, 2858.0917046441905, 3523.1908041408565, 3260.59274232443, 2815.298012475557, 2977.0178021317, 2478.1631656985815, 2989.7265837955447, 2929.376180722582, 3397.574701461209, 2703.1546852520078, 2718.5637409849464, 2325.219064224692, 2609.4330570378343, 2519.0926954056763, 2909.178969401575, 2668.8837980537087, 2756.211411727467, 2555.018584774368, 2690.070707401818, 3442.421113518983, 2565.756935598674, 2576.1205977911204, 3297.077214359675, 3283.5784381317535, 2418.6032363468094, 2849.8763233883515, 3149.354100643867, 3224.207648018304, 2530.8610274707344, 2496.951953915668, 2733.9126037417627, 3243.082031991213, 2614.8932483187496, 3118.3478126219466, 2427.516395453094, 2531.7120712125343, 2778.9803272730837, 3052.0336476490133, 2811.7121755197477, 3144.864777203174, 2941.446613688114, 3153.4089234381727, 3227.893974747944, 3152.030622678643, 2879.2331644684664, 2586.017188031405, 2836.732041729745, 2565.3056801573784, 3329.715111523912, 2861.580998174977, 2670.6604475050212, 2679.1219044913864, 2516.9109840664028, 3196.089364195519, 3042.716113554177, 3037.5203597632776, 2501.3973754123444, 3072.8657273284257, 2823.344463515343, 2376.1924827267603, 2623.1338956997524, 2889.1087747569704, 2854.403326501062, 2929.4128562414476, 2775.3049064304455, 2868.1137883296187, 2642.720046211126, 3274.920699717232, 2578.063174011195, 3040.98926613062, 2833.038746736526, 2563.2637960133516, 2683.5744210610405, 2572.380550560055, 2725.4126415038127, 3332.0547446176097, 2314.2014868198194, 3420.359189638953, 2673.1389030630826, 2611.814641291536, 2485.740150521, 2787.3727992679246, 3289.076352511745, 3266.077199568833, 3158.720492962616, 3315.796633059174, 2684.4270210386458, 3091.9605200668457, 2719.361105827532, 2916.7512341591782, 2889.4705193208074, 2743.4239542675327, 2579.3887325249016, 3162.2931473023705, 2628.579540172831, 2971.3307540215815, 2613.418885607251, 3507.7931463876694, 2963.5963663768157, 3241.7487270921843, 2996.9615544981784, 2580.1544592076402, 2581.9404195798734, 2845.1114197164716, 2639.8075938542815, 3363.51078447754, 2793.288956600582, 2680.2522634108873, 2876.1709599621304, 3166.723540190303, 2643.123624751961, 2521.3814702235895, 3170.2644390977634, 2864.0350538737084, 2841.24377392634, 2533.014493649849, 2659.044905881631, 2759.6645615092107, 3102.9787609181963, 3117.6689411230154, 2674.0542613959324, 2989.617505718059, 3069.847195185427, 2622.1975579922096, 3510.6066631249682, 2852.9373697812275, 3232.6009118322195, 2607.338333814535, 3119.571598712508, 3333.914051439219, 2753.1220406176294, 2557.693403494415, 2749.2804861947557, 2822.256829471311, 2625.5328738088924, 3000.003956303715, 2779.693662363333, 3068.3748960865632, 2565.056861743475, 2630.5310482250493, 3180.2009588861392, 2412.7077936322603, 2563.4304365882285, 2867.8104311672128, 2717.0607840946377, 2681.3699447744225, 3245.1515869233804, 2872.068254477353, 3155.8634424551897, 3092.815655414742, 3503.6437248657107, 2927.4047146123494, 2289.335717923541, 3480.252169398151, 2550.959219524924, 2878.225007323316, 3543.5655647560952, 2419.317433579555, 2536.1906118348124, 2330.361815450001, 2934.311756266795, 2793.0131174919225, 3103.5083368722694, 3168.486144671808, 2637.0482263882413, 2604.194370476676, 2860.9211894103396, 2512.144343176539, 3294.3074034788865, 3074.920580632681, 2870.2803707504686, 2852.738363155134, 2903.9697335420865, 2966.258734227793, 2958.543681696629, 2785.717979018088, 2892.1041552215142, 2870.9413223209585, 2606.538056445024, 3075.3788771997893, 2497.3613887004394, 2998.027964489933, 3281.8627704359064, 2382.8496665741054, 2585.3233482428423, 2732.6575883656747, 2524.881378542307, 2603.394359507468, 3000.0069104795257, 2802.4235202934806, 2775.4342538056176, 3055.0293206997335, 3242.845888525388, 2729.8558531685144, 2983.7332264511133, 2575.0769749218143, 2622.692678422315, 2915.2021495791355, 2562.980592979303, 2434.947413168815, 2614.318849607399, 2992.6480634286613, 3653.77286305368, 2804.8960461663855, 3274.044090963945, 2592.7019040781975, 3298.987835219195, 2678.0321515767455, 2409.120173521262, 3284.657660441815, 2724.55043297581, 2753.43809128982, 2301.236230660238, 2509.38095403316, 2936.456668779913, 2665.4756976111826, 2702.088942648816, 2826.0597073900217, 3242.385652726583, 2879.201829892361, 2245.8571389420936, 3124.0835382791356, 2726.1623870655953, 3183.017965470453, 2749.427706588191, 2620.6645720626625, 3188.7879571686217, 2963.018880850755, 3274.2685054020467, 2777.943873946653, 2818.3901653564335, 3003.71599191687, 2700.859699368208, 2996.807230740151, 2797.7958425505585, 2807.0981832136426, 2580.896441771762, 2489.97616475847, 2415.1528029343904, 2654.965667041338, 2902.845175940133, 3048.3319315602052, 3700.400356419234, 3074.2015099621876, 2607.4670243401756, 2894.6580760497877, 2695.546213481724, 2716.11593571415, 2881.907940383527, 3250.880197081726, 2798.8331942642067, 2923.747145303275, 2724.55680025386, 2872.0324387955643, 3553.884920476093, 2946.18332013458, 3281.6370485094885, 2928.362436611787, 2716.2050476180916, 2906.643899191465, 2667.348303523173, 2552.863665625227, 2947.6850411338755, 2918.877378612481, 2841.0432976615784, 3123.5564051664146, 2883.734743493968, 2936.154411669448, 2902.85624574912, 2790.65598846778, 2915.6274075499, 2660.8524425545497, 2526.729885023807, 2586.000998551641, 2531.90903546708, 3273.314033241732, 2843.549781780494, 2596.007559852029, 2646.1105866513803, 2840.740740740741, 2671.4257091213335, 3622.268554637283, 2974.2524588422466, 2676.030939583364, 2882.800655319037, 2483.7678051491516, 2880.370456534092, 3007.110943568864, 2612.0233189388587, 2958.032711336175, 2749.0892940762287, 3025.0571343742104, 2598.075323601968, 3149.7536032062635, 3346.086868091492, 2300.7638799543693, 2311.3758671999485, 3187.0943337882536, 3019.959991274238, 3107.417094259343, 2628.074104857024, 3437.9937496322796, 3026.683799686972, 2740.0931234589552, 3396.3996081082546, 2611.9724533668054, 2506.3115783137837, 2562.396460219571, 2748.468219349819, 2500.3262511455605, 2778.0120690526946, 2718.0227947143244, 3168.5816863314917, 2521.4608549379054, 2555.43675265255, 2367.106664905247, 2456.71530271349, 3206.9085404479874, 2749.173256315172, 2724.545838434151, 2639.8339634335557, 3163.478666104819, 2483.3062646048334, 3074.0227931036643, 3099.959839595011, 2956.4176277690067, 2753.6720909152214, 3040.9051121246753, 3302.947570344084, 2963.379846721389, 2641.738740635148, 2626.5872012444515, 2659.0091240085485, 2767.0727644590506, 2715.591413976945, 2911.278475284821, 3061.8223502715505, 2711.003744953803, 2791.456596178921, 3030.2171361978053, 2990.098097534141, 2803.179885129119, 2602.8055174697347, 2811.5922141737587, 2882.0890554875104, 2464.2946235766235, 2765.4703451972805, 2883.585672073952, 2317.3267630642804, 2834.756963035744, 2757.363837531491, 3483.9730592748347, 3175.1613586383514, 2765.363050329575, 2589.723511737607, 2461.9629378447225, 2673.2189020809487, 2688.379333233522, 2755.702859956343, 3232.013865264317, 3288.3043875882763, 2565.5608011959466, 2907.413695565938, 2667.824160943503, 3181.188308213101, 2326.560449861737, 2752.056661551475, 3681.6074038118327, 2412.840884087576, 2272.6339712123063, 2562.424922176092, 2459.796715029102, 3085.63173891287, 2976.800810628702, 2596.5919388545212, 3099.5044444199825, 2474.542242545309, 3249.998186166548, 2645.196008941235, 2859.608834949437, 3132.4682916632532, 3388.436044232336, 2794.384070052353, 2312.2629365082653, 2890.4015906885093, 2554.5667612502584, 2777.8530602058413, 2375.1162484682086, 3010.2413903543907, 2545.596926488152, 2420.1410725634387, 2798.287230525161, 2567.1886128412484, 2934.3861973319667, 3514.2569612443003, 2864.974049501556, 2940.2479457528916, 2802.615493383369, 2774.9850029998506, 2770.790925142321, 2708.0675430506053, 2595.194397154477, 3316.6357525156513, 2870.851567585606, 2398.080153416676, 3149.5903389887835, 3456.0155738127696, 2461.922834653529, 2280.9613804462824, 3062.3502574353342, 2811.2957712264374, 2675.439287992109, 2551.4673240317948, 2902.487887801859, 2992.9967029700024, 2425.0512379341158, 3001.876679885805, 3589.9372429066784, 2993.2880758269407, 3038.970576615261, 2863.1482432903995, 3004.403781679574, 2739.8873523455345, 2835.8529107929758, 2424.6463035127654, 3494.947353699727, 2831.14799759283, 3262.4443762536594, 2708.6738389469815, 2912.079262826394, 2600.046778374856, 2765.8865287632693, 2764.7085398501267, 2984.6902736032143, 2449.538385120899, 2591.4631198206357, 2479.8856295313635, 2837.530166553944, 2682.1441690938013, 2966.9352938342245, 2526.6110653500828, 2761.5672352226525, 3036.2368705266144, 2929.350333053222, 2459.3911206582907, 2791.5031956795506, 3102.447651036814, 2416.4333948417575, 2654.3337626761545, 2876.315706801138, 2977.514544337003, 3833.625423530786, 3077.3227383912104, 2897.0166069522356, 2867.1201206570336, 2960.8152482898677, 3345.339389082621, 3032.226952139714, 2677.082396712515, 2822.208648236815, 2770.5595950613215, 3144.6440433737594, 3127.851640564438, 2668.3428185514063, 2896.950489679805, 3091.0558107395, 2836.258840535223, 3394.0762048228175, 2719.6561311308183, 2773.4661339090267, 2398.813709985883, 2608.3758501287584, 2617.1660139598316, 2886.874166250284, 2399.8726856819285, 3104.6952303545204, 2783.576894175065, 2409.4011694799447, 2665.090636020171, 3460.2202900864067, 2665.297689473645, 2903.0945767898984, 2949.8857742584296, 2555.1973741008414, 2949.102085566639, 2742.485817866308, 3167.6387456924053, 2687.990436883334, 2925.9631824161957, 3096.29731746475, 2776.413521848367, 2357.450283712764, 3230.987144688637, 2744.254246604117, 2539.2625563466095, 3096.0462239030085, 2975.3506502543714, 2712.0838800678516, 2623.482418369809, 2453.930717295943, 2936.1755511490555, 2891.914296674303, 2626.6101819239707, 2761.4925575691436, 2619.0375209280096, 3265.4086805871416, 2901.1218768674416, 3315.671872184255, 2681.566300678217, 3005.8324760204346, 2803.551490260211, 3024.5131057790995, 3072.513044954128, 2533.092488928812, 2435.88951586721, 3206.296488065052, 3161.9109057339224, 2375.8333058363373, 2238.121769281326, 3088.094887689113, 2742.194674690373, 3265.610640541065, 2734.9243945233075, 3050.64720924763, 2704.836239302056, 2896.143644873704, 2620.34793665444, 2375.1293102779373, 3472.7992140378615, 3291.342673435121, 2951.2913916088874, 2430.607110943432, 2870.0733493646403, 2806.9374427332195, 2841.1565798134593, 3236.5825415544855, 3105.881474999943, 3027.21198575096, 3031.717150738542, 3031.4547961781695, 2195.346034350612, 2892.678039460913, 2947.1793875462718, 2192.1078347650796, 3232.282311482603, 3532.581839688571, 3159.6112515622326, 3021.649360721956, 3256.0604931603275, 2646.337154452392, 2724.998584253146, 2855.1077997582715, 3110.1884847354318, 2828.16770291086, 2487.8350590757186, 2683.5286490726016, 2884.2555014735062, 3158.2701508606974, 3011.36610541173, 2726.8631762817636, 3052.6095161571066, 2816.6010636031, 2802.9751757307304, 2393.200869575028, 2684.28460912923, 2668.069531214763, 2312.9696933851756, 2929.919045467264, 2934.7949480159023, 2277.206314241516, 3003.8391741226064, 3180.1840538229994, 3094.939146717443, 2988.2899571419757, 2591.776456186665, 2791.722769193215, 2490.414827438751, 2696.83023168038, 2807.1026990273967, 3272.090490371948, 3182.3703807566626, 2624.0625611123105, 2744.511621722325, 2530.055498188168, 3176.8778175612156, 2813.4349479945827, 2617.5783896125076, 2853.5573429176793, 2714.1437120500427, 2766.250339571564, 2640.2497377729314, 2602.3918727409723, 2905.450873861776, 3150.2047526284496, 2763.943568562216, 3020.0128588389553, 3456.39935480588, 2423.0078115295764, 2537.0565772140253, 2665.821884971764, 3034.3560690860527, 2802.883936013789, 2895.233064524501, 3071.9310022856234, 2336.6031154975144, 2916.4265799682094, 3205.3931977902485, 2475.3875080690477, 2831.7545842540317, 2598.614766311986, 2671.9791034850537, 2889.2646622375228, 3574.5791385797784, 3287.7069959532596, 2980.620158869011, 3396.062106453653, 2893.395329827212, 3269.8167428849947, 2831.036033408833, 2825.305504172274, 3134.258450792987, 3293.560090308779, 2817.9848375994807, 2561.9202425605076, 2984.3883224416804, 2646.4835856460136, 2679.517689069653, 2985.3587239782655, 2811.4539851037507, 2812.592028136494, 2912.5592196571824, 3257.0249488359864, 2985.6456695865145, 2418.6704049062937, 2665.8241198659284, 2884.1185699143575, 2545.8575609215086, 2786.34590079653, 2525.791136233754, 2633.584157886018, 3086.6066480536806, 2437.273799749832, 2519.886175273181, 2470.0929016593855, 3143.5777552720483, 2924.598370561122, 2491.9773654263117, 3038.2324259215566, 2842.2220089949606, 2282.7036845883495, 2660.782653954169, 2793.974744491858, 2793.00151975215, 3112.025338282211, 2615.906865604677, 2759.3412864284123, 3159.1328358963333, 2720.8328602667107, 2451.5485358591277, 2472.298791850737, 3033.613566094568, 3526.775975871078, 2731.190660137813, 2428.4667472298215, 2309.426054739846, 2594.276994312446, 2846.1373817266385, 3040.3527571702275, 2786.3661600153373, 2762.240182495635, 3476.7904846344736, 2709.914516451858, 2647.8827452228707, 3280.715557788651, 2502.895359704027, 2770.202220180147, 3109.253028812829, 2549.747024309233, 3479.5531869995834, 2669.2182950683095, 3376.0735726507123, 2715.4534794989845, 2506.056411936771, 2772.2908288973026, 2641.525301640678, 2571.13056955254, 2644.1738584837312, 2982.980580429017, 2853.6394425188682, 2791.937860495787, 3145.5292039617816, 3121.8755653235175, 3169.7989355774257, 3143.066403223062, 2611.0697581041595, 2869.7064349965212, 2732.589677948795, 3192.1410230046504, 2644.8405425643437, 2797.543096608809, 3425.338359167411, 2802.170416080021, 2896.130443105904, 2623.421769946145, 2853.2552400498985, 2599.571003529202, 2643.1749512952388, 2950.1665046448275, 3408.60730977707, 2958.817883119568, 3129.6163230999286, 2444.437241515064, 3016.866956344127, 2856.9278017667775, 2883.0983205894786, 3097.6260242476587, 3108.9315614394695, 3102.174044608087, 3204.9387666054363, 2810.4992130789788, 2551.5050820979336, 2640.0195412891217, 2840.740740740741, 2677.732726378917, 2815.060449438915, 2472.9295436707516, 3005.6476566324773, 2999.6623075673997, 2644.544067023318, 2524.0496146538635, 2848.0193763980074, 2609.46317411251, 3544.812606610197, 2655.5450009181563, 3165.6846586309034, 3228.346613449764, 2677.0097554118774, 2602.5564589094733, 2883.9949962565947, 2918.8586044026333, 2166.315076210684, 2371.521604347311, 2835.538749862469, 2842.677866891911, 3047.653468804851, 2981.4601816467484, 2612.9217843916263, 2721.6107518412855, 3150.8367827661314, 2513.0047797286757, 2816.5751278521398, 3490.8030286452395, 2542.2668209242647, 2386.77285178704, 2969.831298360885, 2630.386725950001, 2247.639853764659, 2739.550244123129, 3379.8400709121224, 2979.651993329233, 2887.8130936665425, 2358.864996327853, 2722.4409777645474, 2653.7606547702303, 2600.699950908354, 3028.284321388398, 3325.9066989832, 3279.9652016321425, 3357.145862019988, 2748.4106654969705, 3261.898177668709, 3203.815150197148, 2904.2297192936217, 2960.3380383208146, 2956.9365493905607, 2770.8396530959462, 2595.6799019291316, 2598.275717635358, 2779.4849869713685, 2936.576420772021, 3121.6133863048785, 3093.6765856633724, 2717.15071974101, 3386.3344199443272, 2817.287969519737, 2579.7520718424703, 3468.847157513244, 2528.044619379779, 2574.5076093077687, 2869.970927612971, 2572.147859211917, 2874.4935104898536, 2649.3806720061434, 2831.4374341446464, 2862.142763468747, 2910.085634732462, 2681.0843328926076, 2571.47686185005, 2913.2908486264123, 2460.845496432859, 2668.497364055384, 2676.5207280433497, 3041.3348306223916, 2884.945310853945, 3260.900933913078, 3012.887554063358, 2719.759853469153, 2792.7035290133945, 2774.470865707277, 2506.1387293026537, 3156.7350668745225, 3117.5877358411253, 2605.2085325739667, 2944.609112404006, 2778.83971993861, 2636.1868282611626, 3044.573600323283, 3227.673099282654, 2960.8795095565006, 2579.2721617024563, 2339.0593844835007, 2701.6962523764987, 2972.9149451595126, 2298.9684754045115, 3029.9095863723196, 2367.2192746668343, 2979.836177820502, 2843.052387212019, 3311.9064692906945, 2545.7475587149834, 3247.392243407908, 2888.764241424162, 3121.16629108248, 2911.038186523182, 2827.1502645391256, 2741.6258855802275, 3544.0695512913912, 2583.39977945154, 3221.9453129517456, 2837.5246380874087, 2908.0623853022234, 2575.5499775648022, 2996.35427972831, 3333.346996309243, 2675.993354439893, 2774.1537625543597, 2856.295218585524, 2849.3930080960163, 2494.0346938764615, 2537.510973903374, 2755.877333939009, 3235.6277142826602, 3513.15818211401, 2663.174270227958, 3576.6509415950673, 2772.840934533201, 2637.426650049185, 2882.64042525424, 2836.0189248892543, 2718.2365119057217, 2764.985125598965, 2565.8447391679097, 2602.7955768136885, 2916.069923248137, 3021.792912574953, 2788.631287762025, 3159.6246101002803, 2918.7942947034417, 2735.7135770150057, 2611.974071831044, 3232.0937157942126, 3349.7295278961324, 3087.080848354747, 3455.4740492686383, 2858.965255855421, 2852.2892459664145, 2976.649076724355, 3337.047670258087, 3120.921909464262, 2410.3761594964626, 3058.074058201645, 2487.9464227662875, 2591.957178756684, 3077.6540876777817, 3082.1765935595463, 3469.891200830386, 2682.252080505851, 2659.00763796272, 2920.4355130997465, 3127.4514863480754, 2707.1517347088457, 3143.7749219723014, 2629.3125019816066, 2943.8672898447917, 2595.324099307807, 2768.7232186158944, 2859.7162239225695, 2946.2900970569117, 2859.91542740794, 2580.6992567777284, 2610.6934907825225, 3284.5150242089235, 2656.6101107030804, 3014.674535949028, 2337.846485994793, 2691.210803488236, 2523.0505950378574, 2645.369268721969, 3009.940500610062, 2917.153422475071, 3407.7026005656794, 2910.211647646294, 3061.288209768001, 2473.574435000978, 2857.5197751919127, 3384.0639415828637, 2652.4694953495537, 2263.988969066899, 2766.037480272977, 2957.312985172946, 3045.884020150245, 2748.7030570642983, 2639.6058545515966, 3390.9123887529067, 3361.480609070002, 2969.0424882745087, 3246.804645935598, 3103.3207271180813, 2767.06187636313, 3283.8199039997367, 3100.5375607741835, 3157.5324640698313, 3121.9444013167613, 2469.7663342274313, 2171.7387314271723, 2608.7121249105226, 3053.0263026788803, 3025.6632405730297, 2636.861751856804, 2845.2832137619102, 2700.2796256366137, 3379.766500572618, 3676.16459173028, 2800.7329832598684, 2961.7043461152944, 2244.0217368265153, 2204.177945545925, 2831.1627839951407, 2440.394393082229, 2856.8895565977105, 2402.083741969465, 2942.9982768399927, 3085.226934263347, 3250.8292193703146, 2633.3430829406075, 2666.9756483813844, 3034.874786261968, 2923.963995339469, 3137.8672553514207, 2821.4510042924057, 2342.4911592012854, 2775.244908163238, 3185.264489388692, 3341.5782065135404, 2732.6781799086016, 3602.4006391997755, 3359.502789025776, 2619.9519185189442, 2848.9166855651883, 3340.20422187259, 3306.963738084303, 2625.871093995216, 2602.9638746244373, 3168.7577865463286, 2348.8620071218825, 2642.3980703975953, 2466.795455481616, 3181.3056979443704, 2516.0251672137797, 2422.4431512543356, 2518.017473380801, 2575.5827093053917, 2504.87171897396, 3347.759497848341, 2965.228769286391, 2923.447632253993, 2756.437236641564, 2451.157830794088, 2506.766648062989, 2312.328530499402, 2715.343046398092, 2349.527824463684, 2653.91097956269, 2290.4543454885143, 3547.5898968665247, 2837.6991468035044, 3538.6165234581467, 2939.525423485196, 2796.487858145614, 2446.7339448371904, 2929.3487248988736, 2861.2002725662173, 2873.00231217312, 2997.619792686126, 2818.9763711104647, 2843.6332572652973, 2496.0276506450423, 2683.272376621212, 2761.415221151005, 3026.0901920093943, 2561.1777586986086, 3038.5196820519723, 2698.3685344149467, 2789.7778229066225, 3207.8991210494855, 3042.8936388169377, 2506.9520039522436, 3417.985022177539, 2616.8075894915805, 3188.386752880406, 2698.0928008586543, 2434.765520386078, 2588.775174833879, 3107.500006098647, 2519.2705213605054, 3081.944339252869, 3252.9593215571613, 2896.9738544672055, 2956.402909745069, 2796.8315206201837, 2812.1050713152395, 3280.392467285439, 2798.932047681549, 3176.7672240162487, 2808.1338707331265, 3330.2974095551963, 3108.889211281521, 3393.9820322036994, 2888.6257145648547, 2715.4618643964436, 2840.2811540796706, 2639.0679677283083, 3015.3336125271867, 3122.230004841678, 2953.6760847358105, 3192.659402712826, 3580.3795618685613, 2720.861954848668, 3157.928788771907, 2893.038376144067, 2882.9258362530663, 2646.398337844611, 3091.290553330032, 2673.3626045601322, 2893.8351411685944, 3240.059164345048, 2686.170663310993, 2438.381541905452, 3398.8136663536393, 2943.170417434337, 2878.660368663985, 2247.551342205456, 2758.5067303659735, 3604.2486275515425, 3394.8166162704506, 2885.092352392443, 3031.77326003825, 2577.5390196954377, 2618.4038195158455, 2991.7776903674076, 3198.530747892223, 2510.839297567059, 2729.1809776651075, 2405.5189225875683, 2851.247143307243, 3039.96213184548, 2588.9083256372587, 3209.222739898074, 3352.379262944277, 2883.5059927548864, 2840.740740740741, 2707.566845893522, 3012.7229412663055, 2594.7738883237466, 2943.8662390792833, 2815.3096862606512, 3094.551587772729, 2516.3738087135002, 2904.581586161372, 2765.509497639949, 3496.776408591269, 2710.1575806007345, 2814.4100177138594, 2660.685335315183, 3512.712347587603, 2527.250905533898, 2723.559258844191, 2797.394638802221, 2755.414492891777, 2884.780274063817, 2926.6714457531652, 2911.122448346434, 2697.137247122833, 2760.595813636479, 2929.8271409746108, 2463.5593404214933, 2419.740263273109, 3044.920938945168, 2813.3723887750907, 3279.858692609121, 2992.2799444835937, 2815.44221092538, 2906.3741043066507, 3252.42741384448, 2858.884720442023, 2515.8763326462567, 2715.753602285151, 2973.092746083196, 2648.51856477076, 2469.1458875752405, 3803.366016889178, 3014.4925530710184, 2708.312842203028, 3191.026769665794, 2887.8018386677513, 2725.9824682391036, 2862.784681186493, 2551.045740303542, 2882.8023299197293, 3019.0729617076695, 2783.056549396359, 2670.6304789694022, 2882.8775687175703, 2750.0952265622836, 2623.7597843913995, 2557.4869479637237, 3347.37109072622, 2427.5368613110163, 2659.936755237698, 2712.146962748887, 3075.310066628595, 2386.980881692968, 3200.096371377846, 3200.1476714024802, 2908.7997165190322, 2727.286608235406, 3096.6699088796486, 2873.982537469421, 2449.474453312743, 2623.3190061069286, 2717.0008589820736, 2899.4559081096313, 2807.3467846146673, 2866.954828109809, 3546.8730323225745, 3301.0343519331254, 2304.1392826298998, 2978.776256853795, 2707.2132743066836, 2579.6848896342062, 2786.943911368254, 3190.9638497033084, 2385.967743421534, 2986.0776649706268, 2759.238372822916, 2422.6812267958185, 3419.9186349195897, 2577.990571958535, 3295.1709513813084, 2608.4280128055743, 3451.0303781683415, 2965.6606409295828, 3104.3645347423485, 2904.5611025383428, 2359.8018320149918, 3029.3626383566484, 2956.3094372002083, 2794.345182346461, 2693.5993383581804, 2606.438776344224, 3001.8990367883, 2809.153082418258, 3148.677841537047, 2783.108233526623, 2857.129715108728, 2909.8407397136125, 3246.8420615180344, 2499.8181471952407, 2855.9172365636036, 2953.959604889841, 2554.1294906071194, 3330.4219428437823, 3010.058542313424, 3268.079523366062, 3005.649776345672, 2828.9140809077667, 2610.119531695575, 2915.4711082650774, 3567.62229450217, 3210.53241031376, 2782.368156928873, 2885.4771808405458, 3067.1191581977414, 3056.321109597792, 3051.7135632147547, 2977.4827380872807, 2728.1874977677703, 2450.6208178006323, 2378.265208440959, 3094.1283190225554, 3106.7201022460863, 2760.332029504435, 2840.740740740741, 2556.0868073776974, 2977.367534328891, 2776.355590807685, 3264.2781355736906, 2331.292900853972, 3574.559450325499, 2901.930994279608, 2791.780277361895, 3100.9624054808473, 2867.7847894043516, 2660.482862763607, 2749.4140117505976, 2918.9993832627492, 3212.162317286738, 2859.5916696134072, 2753.2612115868214, 3153.353587054506, 2880.0711599411206, 3305.442256360718, 2659.7592081624684, 3312.706032230947, 3091.7950599507594, 2861.7699072771325, 2557.857609387676, 2620.447607953284, 2960.016007826206, 3220.589675660789, 3168.9126606435443, 2238.361513657292, 2809.0368553700555, 2796.4440867411317, 2607.047613794759, 2902.389437860427, 3019.71762411002, 3005.9854265120844, 2593.0247170728203, 2726.6890332933654, 2958.3427829451252, 3698.1361345503196, 2168.2506607709715, 3017.630188496786, 3131.9713566028186, 3223.7798545936253, 2931.1408564558487, 2904.3301936434536, 3002.559015700599, 3300.230774576679, 2763.1075434239124, 3013.5262263902496, 2236.459104665234, 3024.4198508654013, 2913.6484139211266, 2479.395183180632, 2881.966737992825, 2675.4193803853445, 2835.914097230634, 3055.7426045454636, 2749.286405837856, 2912.613485099298, 2571.5783869909706, 2888.3238877409885, 2451.287693303308, 2669.133142657828, 2636.8008911328407, 2953.006915274191, 3225.9774815124606, 3095.9990492790316, 3267.285787268598, 2830.81197108673, 3144.581125103291, 3249.8731319061394, 3196.0180777944506, 2790.129763163892, 3120.874826494057, 2823.418120095207, 2437.8601515635387, 2651.424286593912, 3034.81997351849, 2588.9991143612738, 3206.715022352497, 2653.660132337089, 2682.380040421738, 2260.2081919777884, 2832.1909076555035, 2643.6823499495986, 2783.7471906567152, 2513.0969543034826, 3184.689422118457, 3277.359770702349, 2852.486501583273, 2628.374898942963, 2982.3838893950556, 2969.4482972107567, 2892.7378861971697, 3013.639201036894, 2489.4184675296083, 3529.040361110071, 2864.0572592355993, 2874.483489313285, 2450.971027593045, 2423.895210476799, 3138.0369793895616, 2708.055232634987, 3103.7815596056907, 2926.9666112949776, 2803.9881744210197, 3286.6693911989346, 2630.538666706523, 2484.5021806442323, 2767.844528806417, 2832.835744321573, 2668.146883686649, 2669.219211468974, 2475.4513337435214, 2594.7317119059758, 2876.1994831373945, 2379.0296037100193, 2853.810191106113, 2537.5312702820906, 2904.770025532937, 2859.97671352555, 2682.2129244790303, 2839.3692175462497, 2777.5158581841283, 2821.798296824858, 2559.5676655887087, 2614.962399348382, 2538.1448632929864, 2776.7606462913805, 3029.7068049834834, 3187.992901447649, 2454.8833367067937, 2637.858712910753, 2806.9252140404483, 3031.2388353980373, 2934.4948102687836, 2570.5048316091293, 2595.6428138761826, 2724.935818282998, 3002.548801252424, 2381.9299062171926, 3146.0717474782787, 3512.5089463406675, 3112.823357162668, 3031.2957224625557, 2716.9566597737385, 2779.1723799589586, 2512.855482182666, 2410.4340869781704, 3068.3416361838263, 2461.032144218097, 2667.59074217309, 2405.8827416981276, 2601.8453780080786, 2915.035673478328, 2704.383381943573, 2824.621909251912, 2756.2491688606615, 3055.38695143072, 2902.5926273552623, 2943.704855629995, 2595.899791490134, 2887.925193212771, 2886.477564014478, 3291.6151047715844, 2313.111469288476, 2630.1186261219773, 2953.954400358224, 2826.8351722586785, 2690.6033525554762, 2983.9687880034994, 2695.2094268206743, 2834.302463041707, 2997.5420434395396, 3043.129334759438, 2791.4561445520967, 2713.709415928737, 2878.2047069040204, 3427.653211365008, 2304.0580827411727, 3009.8250895619976, 2869.6488818144726, 3199.9208609853604, 2859.1516366327483, 2748.2092154221627, 3039.912079261816, 2871.2129262625936, 2915.625791017187, 2341.275160895766, 3609.8459004041574, 3110.424454806893, 3243.04805021885, 2671.5124968321206, 2444.993101630378, 2726.503699282532, 2874.619530503306, 2972.2420586180933, 2898.025154994676, 2479.405285497266, 3094.597554559824, 3026.794427870943, 2840.692097364385, 2788.2262569458685, 2906.6691267164792, 2386.1632950099247, 3352.585620565964, 2560.8956039478626, 2838.2038810779336, 2664.0013867698217, 3086.7671502917533, 2718.854797488848, 2479.3905239673945, 2404.390515980292, 3096.2829165372636, 3135.1180546553455, 2992.270257721848, 2968.004818316287, 2674.171079668513, 2763.067110695604, 2495.516582327528, 3151.8653590078693, 2986.7343336137747, 3427.7813078896734, 2585.791558056866, 3127.3349145859293, 3524.7796561249856, 3263.227205425459, 2782.183718190077, 2812.7970957339303, 2957.2250272256797, 2933.182161469388, 2813.4561358222004, 2694.450848150812, 2611.3434305502974, 2811.487317217857, 3112.1578710726935, 2823.3763962405264, 2484.9318504569737, 3057.6590022839846, 2923.3592590492603, 2579.2687448889437, 2708.7951767785144, 2575.826010714656, 2342.7617747477966, 2835.5002916098174, 3332.618523958276, 2627.0431655990265, 3041.589339393343, 2546.259107977553, 2979.130407537131, 2660.3369989234548, 2678.602385775175, 2941.377920391424, 2334.0632348071417, 2503.4615995722465, 2731.65061597616, 2618.7582821746005, 2948.120408225801, 2764.7426163301707, 3386.6210709641787, 2253.4271163954204, 2884.2369436266727, 2666.078345206456, 2550.22309767857, 2911.4032792441067, 2840.740740740741, 2881.2867841719412, 3341.093494424208, 2481.8537423409653, 2722.7483071354627, 2972.5107995201847, 2898.8622860314945, 2537.911321411496, 2295.2017610915814, 3086.668480143035, 2681.6763690935954, 2358.068177131996, 3004.854757379466, 2618.9054912819806, 2784.549458316885, 2746.4476596585714, 2234.773504394248, 3147.9395133961775, 2349.3444407747, 2680.588697504416, 3387.5342154809455, 3141.68509593771, 3073.9465479512705, 2895.1218734922345, 2762.9142179553805, 3178.602768000819, 2593.4545702585956, 2747.52503896617, 2619.649900675923, 2665.691848857968, 2457.861356205925, 3010.2186641174676, 3098.593813419774, 2716.300431107866, 2708.7856623904268, 2534.9205265987684, 2614.8596536253867, 3045.893790100707, 3566.541914679274, 3015.1295661870467, 2487.721072824657, 3035.55265437827, 2436.594222962929, 2771.6057997860694, 3206.525608056075, 2989.495933492769, 2823.024147335015, 2841.8053690758675, 2473.5405304698197, 2367.3685960638504, 2906.3489348078324, 3039.715241770071, 3209.0487816489344, 3476.1051785421587, 3613.6726387521635, 2587.3089706676788, 2654.3438680098834, 2501.6988293220625, 2916.219397433406, 2860.4905442376325, 2529.7689978202743, 2528.7423776160513, 2914.7388809511153, 2567.3255429615056, 3030.3554932151487, 2695.3742621192464, 3558.704405557832, 2610.6924358739116, 2917.874897411087, 2603.6059107472156, 3279.2130964238872, 3004.260842185651, 2854.927485251268, 2381.522174697814, 2961.6091135382876, 2338.156836978612, 3583.8396390811135, 3343.7975317600844, 2947.058738878123, 2715.3024384953624, 2740.2804451132483, 3055.1430429325283, 3129.2617938887092, 3084.5288674674853, 2765.8917564989156, 2781.4940071857686, 2979.3895246717148, 2650.5001923281266, 3013.667166592324, 2866.4407842763794, 2861.5992069044096, 2593.32320664912, 2550.3933679034003, 3026.0085356454547, 2930.4368129550744, 2774.9358728235297, 2852.7784635412454, 2888.772549084722, 2942.9908414957463, 2475.1426207579125, 2757.629857575379, 2642.5161475592467, 2777.408156411283, 2949.496996969404, 3156.9771243860077, 2879.4338725594553, 2998.0630409151963, 2745.8376820572425, 2578.8463546373687, 3238.140369610894, 2731.252035779517, 3172.133932211067, 3025.33510931163, 3336.660525971225, 3262.2898832979804, 3283.6984239628146, 2755.6291354671107, 2421.784201798321, 2958.496170820019, 3188.5793946754548, 3187.9435811247126, 2496.4284505000987, 2967.007669713915, 2955.7603510799286, 3481.098281101941, 2912.2969779109662, 2621.1344135326435, 3167.1830050689077, 3091.1282356748884, 2536.2719141565844, 2731.6046149267518, 3279.9808883937326, 2640.247550790886, 3221.925366913268, 2655.172849970949, 2962.7650143018923, 2538.061943310817, 2688.3275483580137, 2881.882793904965, 3226.2275205297574, 2551.7984434663076, 2818.5203409956152, 2520.2209876245447, 2916.1284564577572, 2611.092249595926, 2494.080194867592, 2824.8917289726724, 2689.7459561572296, 2996.115926560152, 2472.3521786255496, 3359.977012090189, 3083.1320631305975, 2667.0558278925114, 2893.123461311228, 3036.7102480913486, 2989.399263631559, 2582.715030774758, 3306.9577162204732, 2548.658839808819, 2971.7263367597598, 2973.323334855617, 2878.9979458513794, 2674.331374188159, 2630.552586265363, 2879.638967527294, 2694.173203710002, 3011.8570473525333, 3020.8988606187927, 2809.994164201121, 2686.1619606504014, 2413.6900320112854, 2644.0897120720438, 2509.832492279147, 3176.3993108741133, 3511.298996532293, 3532.8497692798583, 2580.5865238378033, 3079.9001817702133, 3361.344262832047, 2648.992618930108, 2780.026259729152, 2802.3468673254793, 2819.104391078009, 2449.3121480061754, 3009.016418378247, 2426.48042383932, 3166.3820445240785, 3408.3499656046242, 2529.5005991036915, 2689.6953311902575, 2468.8032371709655, 2735.6812929558896, 2752.51128594792, 2416.625266449628, 3013.244739419685, 2702.6497704190056, 2733.7361989296396, 2864.626225301403, 3044.308111049746, 3080.0692773746027, 3015.4103205364872, 2843.4132985212655, 2537.9884963265604, 2910.6566642159064, 2712.802363119571, 2653.146317845629, 3287.007397002635, 2553.7410775496146, 2901.9638280332215, 2741.4942604415405, 2654.623552649587, 2965.4196706952953, 2538.1458836473666, 2552.067226230738, 3178.3213820642245, 2395.5252411632523, 2524.8543475804227, 2631.3075855925676, 3059.209339906917, 2451.248264177268, 3059.7967431310913, 2805.1040342844603, 2841.159369556083, 2863.576127582184, 2563.8953814065435, 3009.9746745549355, 3212.5516385020196, 2495.65809206353, 2571.6142409273652, 2581.462723977341, 3510.2557459462614, 2617.9529891092434, 3188.1362100332717, 2605.000616817513, 2600.1277798868964, 2671.819280950717, 2610.288421036108, 2685.7618472154422, 2971.276517618045, 2344.2229075096234, 2561.460195029, 2551.9026700903996, 2394.8500298133213, 2454.8452669650846, 2422.756144874328, 2365.7472666431177, 3499.267024796986, 2905.4660935515685, 2900.3828148499283, 2376.030802497562, 2469.3107938766634, 2817.284659295381, 2628.5887610070085, 3143.744242035138, 2809.950751009562, 3004.2866204212078, 2689.4348556290506, 2802.084798526698, 2549.583554701982, 2542.751727273159, 2599.931625163344, 2410.5792811270258, 3302.1700294804064, 2956.6593968935777, 2935.387291486572, 2679.293119554055, 3399.0364512674987, 2601.215506594419, 2523.3966104954175, 3187.851691073705, 3034.947017035746, 2480.4922700095212, 2926.36810517997, 2547.482650169705, 2832.861520046475, 3391.3157067154334, 3147.774720321299, 2650.8240840027797, 2564.467784384618, 2987.7666118952816, 2983.3820471817785, 2666.4269378064078, 2842.5271968888337, 3200.900671281652, 2584.1418836841035, 2659.4451300410306, 2744.5642761560753, 3216.31462739009, 2969.73518918278, 2768.468994818833, 3087.901843188603, 2859.27013216286, 2805.6439200845375, 2803.319464605759, 3075.963749697855, 2788.4677510247766, 3389.885389563676]
thresholds = [2495.979183545559, 2836.258840535223, 3252.9593215571613]
display_name = "Misallocation Factor: Cost to Kill vs Cost to Save"
units = "ratio"

# Calculate exceedance probabilities (1 - CDF)
sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure
fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve
ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)
ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds
for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)
    
    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from
output_path = get_figure_output_path('exceedance-misallocation_factor_death_vs_saving.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Misallocation Factor: Cost to Kill vs Cost to Save will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
