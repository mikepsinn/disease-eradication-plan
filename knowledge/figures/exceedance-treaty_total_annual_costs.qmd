```{python}
#| echo: false
#| fig-cap: "Probability of Exceeding Threshold: Total Annual Treaty System Costs"
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

from dih_models.plotting.chart_style import (
    setup_chart_style, add_watermark, clean_spines, get_tick_formatter,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, get_figure_output_path
)
from dih_models.parameters import format_parameter_value

setup_chart_style()

# Monte Carlo samples

samples = [303139014.1282333, 197115566.0141695, 350175721.21772856, 372482466.60423803, 148392440.49971932, 181403273.7583394, 286336244.2753146, 248275622.38435012, 273315295.46884537, 209178550.29561472, 365149200.79387224, 353296528.1720971, 280694935.07110167, 395820962.9830963, 319508340.2217014, 208763177.99218696, 309471498.308298, 202257503.9939011, 365036768.482467, 270420800.45761454, 258954829.41415912, 220964385.04595175, 408314362.7880572, 261487549.89338058, 239526726.0780423, 245438548.70488632, 326276877.6446809, 309141150.1973084, 313900364.6490916, 315740854.7065259, 550065701.2264302, 241211598.59493405, 233186799.56582746, 211808866.84577808, 335237069.1872703, 396044334.8223704, 264916347.26693618, 210037963.01089817, 211088236.99834988, 339018038.73840445, 349358977.02875805, 327424124.15610534, 222053461.41717678, 296125938.251001, 285309539.8838065, 294842337.63206816, 364204849.16174984, 295309172.82708526, 342144512.5252551, 280834835.33233845, 301616971.6706983, 336903896.2941337, 172734770.88364872, 248003133.7619153, 236328066.00346136, 223947587.92066303, 251566376.9753127, 446325531.6138737, 208329438.73989138, 375855111.2777015, 160899591.92745137, 246797764.84108403, 289574572.4117175, 332021523.5080041, 345748242.8373755, 355084937.8744753, 245706525.26050675, 236934827.29101086, 362616415.06074333, 258420229.67038018, 182929925.05535585, 191367916.84427914, 204807673.74428234, 322587263.67874885, 287684513.1669371, 343430568.16536295, 239609110.17899227, 289181751.821192, 336282513.105772, 248824626.0544994, 318401266.1316773, 222307375.07034534, 244582031.93381187, 243123772.9462343, 187612478.45476156, 321525886.2050622, 236401382.2704829, 275901967.97916573, 320879085.21809846, 317348442.94609296, 340647326.22251034, 266234992.65057856, 239912359.86797628, 267844687.2185018, 160680019.1681202, 173283244.91456836, 180229938.03776687, 199807985.11063352, 312588695.6371831, 205719406.79413536, 243402121.65948862, 418663763.2736638, 245114219.55815655, 348709154.6400336, 203887692.80851024, 257251366.1419822, 202827670.42687744, 246470178.2667514, 360541214.78526807, 158727925.52540103, 316108757.28845537, 296658716.8161142, 227166643.22387013, 173340943.48192525, 281246400.78859305, 231905287.39296633, 296175108.6073272, 276733595.44489926, 462217107.1797921, 254468583.13174373, 198149710.1291983, 291120353.6347304, 294966710.88163686, 426944590.27681065, 359933148.5227364, 308286391.7820417, 441728762.0942264, 188033456.8391899, 223885183.44329888, 204344484.5445038, 242496571.34723687, 177180595.70012093, 337325826.39045185, 255870312.11082482, 171992207.03582874, 198648408.4021032, 304000926.6796658, 360285829.0481714, 525900781.9777262, 699630310.3501813, 314070511.97741425, 200297688.50732073, 141088195.61960298, 299540855.05315447, 211864938.7353393, 240522548.03093863, 225869272.52658918, 262643141.0751098, 387999528.87686586, 289042864.1597477, 261143262.8776041, 197386647.9150726, 161303066.83511233, 235127384.38384992, 270085875.70645696, 488082744.1384323, 286560797.5507658, 377627523.5251956, 234153484.9141562, 188261070.4490767, 201857342.24054077, 217866588.52108532, 547848554.7968311, 211296222.06717947, 360328268.0693176, 205886368.5958554, 371394958.7488205, 311095229.52570426, 261310673.17962226, 271218313.2001177, 222814027.36378804, 317301356.88760626, 237493651.5509895, 185852441.67215613, 182799679.6707838, 290493650.2573394, 458794162.2188477, 289317054.72909343, 264517637.7558664, 301296626.0819484, 419590839.127333, 294908307.4730156, 240863650.85739407, 393127664.94547886, 315530221.0427307, 452328731.30459577, 291491992.42668647, 185919338.6382227, 177658630.39688244, 469723248.29717225, 481064009.4833202, 259399113.4897822, 243011025.84677875, 441460252.83449274, 192966593.09901348, 206423835.86671045, 338220692.78891844, 242124762.9125262, 274343505.59399307, 260740643.36118725, 306371420.23539484, 433737557.81539273, 282922033.4095218, 338287776.4441634, 144301526.2192428, 270525753.6029586, 209832650.97478044, 186252566.88081855, 207514658.74540284, 246857959.51192555, 369507537.19432396, 180019607.58221868, 277516163.01395094, 235288144.1460276, 247368395.63872463, 380095340.0895282, 326890572.3047321, 423915866.1717741, 261489547.44106904, 219909373.98897403, 255736107.40294072, 297114569.4008454, 290866955.5894456, 194358113.69185096, 282913370.1226827, 295750628.05358636, 617807429.3384707, 505777393.48323506, 209165280.3500817, 250581564.05831727, 172392398.69542065, 227416416.67833716, 304206193.19471073, 406097547.35111964, 217598948.8649408, 222859600.57574278, 140499805.00951165, 260805662.57634652, 195717607.94255304, 231909234.43319267, 207599913.19403875, 266596321.0728761, 157260648.3197717, 172196469.55250525, 547979063.3021919, 182251987.31934145, 193595429.7606633, 499213854.32499623, 697688404.324655, 189060556.38133872, 244175652.21347642, 306765479.19126415, 481858947.8512719, 200468296.96074957, 253985914.67427993, 353244430.51190597, 316143749.5535917, 243558476.16585237, 263231258.16221, 177280853.81661275, 254565022.16520712, 252273174.3322766, 296126756.2635959, 229999701.320126, 319924924.1112055, 381329156.5492777, 288892121.78651804, 307777611.30670655, 279534405.12910485, 274803142.62590575, 218121382.00410512, 304293525.7546188, 266337521.73909104, 541913803.8564951, 457932862.78629845, 311185250.80348134, 215256701.38997716, 192638573.57137698, 404153699.03168195, 299061743.3408295, 320816484.7175317, 157892995.5557587, 370896009.42304736, 318158923.4813614, 192759594.72532606, 236241040.79201522, 299155140.7736383, 279472482.68020594, 250197467.93730098, 265807595.31973043, 253441040.45346886, 288625436.99776036, 442913841.4878794, 125453921.45763668, 254673060.17510277, 290861244.0333653, 302286823.8752016, 243889336.45858085, 157308984.01553592, 305425388.2578851, 481645949.0749473, 168605022.79714257, 363306514.4248077, 247300901.19873652, 269432162.7102913, 196309417.45774046, 246831659.1137954, 418775376.7328807, 331638216.6198721, 482430715.8370087, 402347985.9407871, 316585607.9504482, 484271650.40925413, 316576037.0742341, 359101434.2970487, 249845042.39223695, 280741469.59302896, 219805569.31340516, 378469417.44681716, 188657478.3916036, 353819644.1809486, 258474390.17158812, 401539999.1029491, 350223194.5890519, 496565403.8141075, 347947437.3680352, 166587985.97796795, 268945334.14385825, 189034169.83585864, 232737463.23755231, 448711167.7321705, 337586382.9318476, 219700037.30009353, 198765847.96789804, 277708211.8788386, 186385472.9273187, 221655138.47121936, 303853347.00261986, 399459250.30786616, 334454144.5708684, 135089492.11115858, 303104739.0987354, 281237717.51414025, 314017823.7465191, 464408053.47256535, 143782678.39829955, 227387643.88274992, 332525546.4604601, 166087172.61706337, 443560227.0659444, 309432100.55904436, 361276944.3189414, 228855713.32746637, 357446487.7998726, 388314463.3858074, 296194383.07882863, 296339872.4602994, 299795280.3372506, 208494226.2323339, 262075745.34186882, 261656030.06049383, 310938779.3045812, 379732652.51885086, 195958583.15008804, 263977144.98390758, 444360152.9813632, 216595737.5234259, 211238175.3293619, 293289295.1699804, 361018998.51904446, 275807216.63621134, 422749036.0962399, 362477207.2820505, 360718319.0509117, 328588014.8046187, 582477706.5242172, 257274128.76200414, 146192491.54866457, 462592182.9712216, 237287510.3954262, 284501765.1304316, 420077428.1797223, 165009297.20604292, 184326740.0469842, 165060331.53073567, 213136961.45590058, 316641893.6763751, 325420491.73987705, 300369472.39071393, 175172685.94428498, 134402030.49444056, 279642198.73612875, 236222069.42928126, 318670139.91457385, 344710063.2666374, 287297043.22413266, 351277579.6725458, 295844389.8201297, 326039966.4887347, 219298256.40216914, 259391440.2852578, 292766963.8448075, 358232548.30936146, 242191706.14574456, 325102569.39586705, 252317540.9707019, 264610752.0767764, 359280015.26425785, 146627883.39444488, 181731021.03037804, 171375743.887385, 133549045.97897929, 221152218.95189032, 350060154.8207716, 250782309.6301139, 292862664.9670736, 390947311.3950618, 422573079.56266296, 268756623.6131137, 426163826.7370169, 283062482.8249863, 210222376.6457245, 227148488.9573735, 171464929.46034145, 206857033.70017838, 244976727.21407434, 356267103.9675546, 480607134.55077463, 176873226.4629019, 311887875.344169, 197080548.53813374, 320251887.5308861, 263462586.5241962, 153789616.58504972, 370999556.0279223, 226381322.74743804, 231579024.93614173, 195262513.93065408, 222849874.95589545, 315441912.4949741, 258591056.9913931, 305491115.6738264, 308789676.4276204, 421604612.9348515, 246174173.3349206, 171664078.60762483, 388156523.54073274, 247066364.22807392, 394192775.1449581, 310937096.669914, 263458283.23683116, 307481526.06465536, 518202426.19347167, 539188686.0282952, 280997748.76344526, 289335602.5300221, 389298212.1865596, 209670437.6049983, 305926208.07875204, 272520288.0398106, 304039626.1948571, 210492081.70844486, 165670436.42373165, 143397208.59988418, 192335106.049326, 237213488.31851548, 250115686.89141494, 515874140.6043064, 393089836.94161665, 202051451.0591285, 307375557.95324653, 241160423.37523234, 250824115.82964545, 291688506.96371275, 335583875.0440539, 246452389.9100296, 387730644.521475, 190843910.12981278, 275356396.4007216, 633456047.8638619, 295260064.2594917, 437402631.94058096, 283007225.4721877, 331436581.9874961, 269825586.76167625, 260158574.78471377, 214133707.85146716, 315687825.1816712, 209278839.54833442, 340669424.6418556, 390447080.59995186, 309249737.60521704, 250672677.67047006, 318112146.29257786, 248878310.56574178, 371875204.386734, 153766176.1091086, 246740686.6043318, 146721654.8626567, 170680992.01535434, 427597277.20022607, 367027462.99176395, 218265850.30875245, 170280730.5924706, 113111579.99125844, 230870394.82165015, 599448881.7050968, 316155828.7782836, 229688140.28389388, 319257459.8584692, 167170853.800627, 249784825.36958006, 283733118.0586555, 267296125.50836596, 354792143.41143346, 307071672.65228593, 340972216.25457835, 220440706.32371178, 367341390.02583367, 466349276.82000655, 201534897.88096678, 206885858.5955043, 423692439.1358726, 258416941.80418915, 433218788.5374338, 238440823.64123243, 440537129.82232404, 286672610.5641854, 298625983.6069926, 456639209.9301447, 244682529.77193245, 203402056.8841844, 237981615.7002979, 317944373.19749576, 166918092.95791847, 337579501.48907614, 231219003.7234954, 398483872.2230209, 131380283.74257153, 213651297.9836709, 160722597.66828907, 210970830.50393653, 297610300.73614997, 259423465.0826661, 253327316.1741265, 261097171.17500037, 293391610.45842856, 199093073.6739059, 345257807.10321045, 340347221.27967227, 311103970.42320794, 328845204.85396063, 302328189.53019035, 532204646.90473443, 267210838.94171542, 249005086.79718998, 215911050.4690148, 197599201.92527395, 184745823.71838704, 206813398.93878102, 268623476.34763604, 306047201.7409567, 279353386.5375375, 215086883.77143466, 367624373.92170686, 348923838.3376052, 261058342.78355497, 222947063.26121402, 327983507.94973165, 291937535.19991106, 173227744.40671504, 268856601.8981506, 298992927.60351956, 206098056.85611683, 292113515.99315345, 172862034.39510825, 423748052.028219, 411713763.6642562, 253397178.63428056, 308942548.7160394, 130827427.20533744, 189974419.25297284, 250068627.0545049, 195115108.04990435, 346103881.05883986, 525995341.86915, 188758442.30450773, 210218016.82603726, 296439987.2905475, 463633506.83862853, 186042679.06325227, 297741852.4312981, 496671385.3488738, 162456979.97661301, 182618660.675592, 239888703.07913077, 232565876.61027193, 357311598.0098642, 297034372.6753105, 156435611.79542744, 324497541.59934235, 228374355.8979388, 415290024.9361778, 224755647.59661978, 224109279.76049274, 327209840.5602565, 351596152.8378911, 317509377.55110437, 160765412.18885183, 326882003.0512262, 197470968.35783935, 296423521.0572246, 174566973.2860157, 317326997.87896264, 212293061.83946222, 182528242.7160028, 346039191.35352916, 297032916.80485857, 225733814.33203375, 439980257.3446131, 238584468.0068571, 277647971.3438842, 299657028.37956494, 225324414.43771717, 319883311.6492208, 231612157.79344034, 240808864.48195642, 427426895.5092257, 197077914.61511883, 130726844.57633126, 463606288.2513216, 623970103.3932801, 241300033.34396008, 148994241.30896658, 248733986.47319925, 250674748.5705251, 258534695.44664907, 192578936.7082962, 331306107.1437594, 325454141.97072786, 170716275.8807362, 344402030.9146838, 535127333.88796663, 290434911.38913816, 246605003.80830646, 262540955.7867591, 335158597.8581111, 158565494.80275124, 289727401.81158936, 242445816.73164648, 500998552.44828856, 259844466.91177863, 472342526.44600046, 193168921.48685825, 332133024.33880794, 304579100.8290839, 208116441.8067555, 290944082.88905895, 406981464.0189108, 247676070.57206362, 160452745.7307289, 273248379.52076596, 205919365.95053822, 246209267.8917897, 267683880.34125996, 159782542.76103735, 164314325.37186205, 321016125.6242961, 232407657.9993054, 125517831.00258893, 354106156.4227157, 299991345.2192579, 218656087.8784836, 180564740.05592412, 360014598.9204421, 307538596.77373093, 592464166.0843682, 314657658.04191774, 311371954.80997354, 260449215.3473887, 357796278.4571247, 336227476.142842, 412221314.9668125, 232511311.3710099, 238984990.64379364, 235669456.16877943, 354791636.58885705, 446827301.21240157, 237200959.05006444, 239799166.67623508, 304056213.1939255, 253946538.27280495, 373876806.2323549, 136547693.35052598, 210938903.90610453, 213933756.24896646, 134029251.31858425, 201952158.73894602, 205087544.17287824, 257609126.23152664, 393983904.03910106, 254003599.51628873, 197690095.17078647, 269810731.2530532, 385881863.9152278, 201163367.64392686, 205386423.14651206, 329059838.3322482, 255926651.56935647, 338676728.2612457, 273592601.4718342, 344677650.0996758, 197422712.3445925, 273730040.2577105, 256818372.08895278, 186424971.57300302, 167038145.8762781, 342903582.6199536, 245531378.44425455, 198226284.74432817, 266432285.71532136, 395921291.49165714, 135476983.0037906, 170596053.55640087, 204584244.30590606, 441421920.9536718, 300981887.54746294, 352097502.5073673, 190951442.63721702, 192203943.81430998, 317480056.8258819, 279995211.1373107, 328016516.2599295, 258721608.4502299, 300550705.2770582, 289142568.3077464, 353293713.4407973, 356663300.4139293, 164096401.58025134, 136715339.8002427, 379970129.92909217, 403703448.15517795, 198330592.44519827, 152440430.07662213, 283692687.0570222, 371306234.9813248, 492837419.0299827, 324590704.2391584, 243904783.9899584, 206528639.00890976, 275809455.02354133, 249629525.0378091, 198680646.87126246, 534473704.2099092, 490839911.335026, 396958799.97504294, 204716680.6396146, 362268286.383355, 337815372.1806933, 316939808.0409787, 411944302.8138302, 337349895.1919919, 348991942.2772919, 337517745.10608184, 306689799.850055, 156023322.21258926, 282288547.97375876, 229936199.2670408, 182689635.39231545, 474505038.16298395, 481906020.18368644, 426949197.6993351, 298335669.45326924, 425751751.5416419, 275862846.8345378, 293335726.1113967, 193799011.4125551, 312307745.9971641, 280185524.8011624, 181376160.70425153, 270310357.0923947, 267843710.41135898, 492832045.7621574, 366911571.7659458, 275808935.9109882, 297717960.04866076, 278731255.6923791, 257459670.25813124, 194479031.17953926, 261779560.72730577, 216422617.65899456, 184404442.19843432, 324058067.54817784, 311730436.88856596, 155876008.76592264, 264174214.265662, 379223535.9703969, 387146754.9743724, 382961216.445461, 278256478.8359404, 209711513.42131537, 194400607.10527152, 307067674.6652554, 310525833.6402041, 417040533.81780195, 392320401.90208715, 263366015.52740923, 184761373.27648154, 248047985.2943754, 294703831.59654164, 257528280.57672384, 228348459.74286336, 298111679.15522224, 233804911.35687712, 224721336.0044873, 303798759.5810666, 241553130.2124369, 297268650.4167795, 300072099.03970325, 190995744.24951, 235508464.95664388, 438055791.85212475, 189629696.49437332, 141685452.53357917, 152347180.81062132, 277380372.0572495, 277541675.7423518, 264604916.2970462, 407203377.01452607, 121982631.71541569, 312201061.92897797, 456148941.438434, 191702231.826731, 243274094.53720492, 215954771.61905378, 206448841.6260904, 247480205.6819594, 436583860.8643908, 499291105.69208694, 246714468.2926887, 510469283.7258889, 277957956.84762436, 485817489.70821, 266678867.42474118, 286633098.1509237, 309144186.37995607, 758239042.332252, 361829139.5882487, 219117216.09630048, 375943093.7225805, 244677669.02962297, 234868851.44815233, 368631546.2621986, 277556702.2820519, 300592617.49663794, 276034305.0952232, 306273366.1411447, 315143876.92602766, 148988764.71223736, 340778480.4407912, 200776524.7555361, 173546747.29415017, 269684471.64592206, 282321253.5924477, 220080233.35664955, 359456581.08537376, 179123638.86132035, 241170799.761311, 227840223.59579194, 270711088.51888406, 300620586.0857554, 199133727.15677452, 347215471.73044676, 280421525.10230553, 150957930.81050402, 148073316.00654194, 273709391.624645, 255973335.72165346, 265813413.09794253, 272334675.58955777, 295496265.47148776, 373341677.3629159, 192718392.9056315, 189036301.85460055, 193808077.8366352, 301597241.1392724, 411310525.6347246, 239296121.16592294, 127646232.38082935, 159863618.15612146, 210514325.4117548, 229823380.12663814, 241059344.47452322, 278226753.8955724, 248633432.62620306, 385902720.22951883, 221310723.78160137, 208562366.07088304, 320684958.23775613, 168510384.56768993, 311572059.5274941, 284014212.8991924, 262082995.46308303, 460176735.9666328, 225141772.4175137, 536396301.89594203, 255607179.24748215, 182852959.62993652, 281046445.3037217, 194860757.28661835, 216032933.83831033, 312311983.70342433, 328743945.05941087, 225144627.452213, 378201206.10624784, 399745296.21569014, 437844493.6421443, 325971253.5028195, 427536704.9579505, 151470821.1773861, 248143341.24626356, 208251651.872409, 285542997.89252436, 228818777.5258193, 260513583.124619, 506660301.6541786, 260215995.81727332, 314007882.00094765, 255047378.00495622, 281570977.33828443, 275327852.01459527, 317532444.43260825, 400763121.88274044, 469179355.8251681, 303619100.003295, 332379182.0184443, 190304795.2698138, 267143680.64663982, 372449127.2204406, 363559282.4956979, 294170221.00356746, 365980317.66393983, 321920731.7307569, 405363391.83181494, 301640307.50128484, 245158609.6637925, 306200014.70096123, 114098950.29708473, 310887742.6727938, 106057976.57583882, 158915097.295764, 317886262.21999145, 320545366.4629582, 189608712.05543888, 218779656.4578421, 428531574.18166834, 235298620.10864562, 567450533.4349382, 274626102.24779665, 313424325.46689147, 464509232.12199545, 286630263.2126916, 199484867.75906423, 265275568.1990624, 271667758.70990896, 177850600.5943086, 253128088.01013738, 216692093.07529867, 370524683.526474, 277871720.20500815, 250950173.22217244, 265577765.76223361, 295264088.90826494, 335327739.21486723, 199651631.1178204, 197015282.9330202, 392921562.0016526, 240755056.97408745, 174947331.61803555, 317069661.8981108, 319080932.2946656, 168772368.6577677, 295870180.11903316, 348490608.834455, 310035357.24616146, 336979581.4653846, 175643405.69316405, 305725752.12814003, 249361369.0782166, 235391891.61958918, 364101532.4222413, 444043136.68183213, 492318272.68853474, 420799304.9875552, 265274994.92201248, 307873414.2653759, 352041017.0450878, 285722550.463178, 286605992.5375909, 358607880.0116625, 269608972.24856234, 217584868.02617168, 240590588.9908188, 337190257.7148065, 275060304.11471707, 306632228.93265337, 341166052.37300897, 243660973.17196086, 350835020.72936857, 310481957.8617178, 185311511.16622823, 438704998.77281255, 234045079.1261946, 162286444.57540315, 196799323.5332043, 198304017.55575156, 279446093.8603464, 251670533.84947944, 246643951.65007752, 335641592.50088537, 306599101.7486619, 304249683.18194973, 313605905.86406785, 335253929.3775043, 142024475.60264808, 244473670.2302392, 139239395.21817365, 278001188.2901986, 274386633.8904896, 385424627.0385299, 403691506.8189427, 293333624.2802875, 234073774.8663092, 321337563.7128818, 232021996.18452352, 274672659.89154154, 378045102.7210238, 229820264.2531607, 356509358.0125576, 341976820.76156133, 202520533.91626245, 376542375.420445, 344331636.9019554, 283956859.67937875, 215307010.85400397, 208768918.53317386, 231300899.5144903, 327364802.95163554, 202466922.16139105, 316424520.412895, 184904726.66348022, 257364344.02892154, 284663701.64711046, 604064547.2130576, 177145357.59720674, 442989579.94518363, 288372636.78378266, 313742086.75998276, 285462282.66855943, 317163376.17231125, 261558420.2989211, 440393706.8930394, 237380714.54262054, 396465640.1258875, 223555806.80568236, 269525025.26952624, 195125659.54061615, 318220999.29218996, 439110003.0619954, 268047996.69571623, 257957974.4943553, 192503916.64920223, 255290914.8161605, 165502090.24948514, 205236112.41557977, 295613120.2270936, 421377672.56970775, 676909160.2187583, 227715823.87704438, 437701089.37006086, 297234914.47420794, 261763113.20306835, 315921904.21624494, 280323554.3374653, 284732266.147437, 241063621.91107082, 175985460.60418758, 168086779.3231229, 339309556.0870085, 251440823.87256116, 227026105.13543978, 275548308.3729857, 355267695.00219476, 291222471.23202777, 222723994.62014726, 408814454.3598599, 458808327.09251404, 322315633.67527705, 376514126.675633, 410909737.91577697, 396189831.2453382, 335032937.8093182, 333327840.44299906, 324944108.7145048, 193561537.82328236, 344572545.63571703, 178353105.67477003, 213105536.1172541, 419257089.063231, 360530912.37892056, 445225126.3116369, 251846101.6399818, 190221328.78018668, 254380362.74451554, 283966496.3815787, 281867967.10640484, 396652519.34047955, 244721699.40448385, 307805249.2930851, 200355641.29331863, 317737134.5533292, 275070498.74386847, 216166647.76672888, 254756430.81055024, 259011877.4801867, 251968749.30205664, 488627079.4466622, 266238368.52719286, 254098442.79728043, 142435024.5296994, 206457945.8157775, 252541266.49962342, 220617843.75374603, 430098401.3105092, 260615596.14883092, 417192131.5991374, 280304444.9672171, 278105654.8576177, 267064776.2679448, 275131333.9216354, 480295829.7670963, 134056305.72818118, 146274631.22122052, 230894335.9830494, 276082483.1542518, 343388153.11708444, 320085194.16519654, 242928715.13120294, 382115348.66574806, 383504955.72195363, 291569351.6715688, 375168535.21291703, 300018010.8314536, 229548047.24135453, 344247960.3921545, 284752197.5596178, 274914100.52678853, 443125701.88250774, 129395736.142806, 174900814.77514666, 188134295.0256586, 244565841.8111148, 253227409.85441184, 170021917.23480317, 200576494.2729896, 208660326.46040604, 606375445.7759678, 493506000.68989927, 240800306.24826136, 244540584.84674367, 190404963.96181893, 150220548.66994524, 264667001.20368278, 199769594.77134672, 267403479.60483444, 165116088.98618022, 215330944.20708188, 288259761.8996896, 309217596.00873137, 314381513.80630213, 180355960.59472102, 362229028.0838652, 212725133.32754368, 337075289.43509686, 273857322.4512934, 177197315.7636898, 248279191.88484663, 309133130.386236, 334909907.93731624, 262626532.50378793, 451740106.3984158, 380683723.55955553, 253061400.27519444, 350138298.3989378, 515293768.6303085, 519787511.70922846, 185711629.24818528, 204347266.162871, 444864020.0577191, 195974440.00993246, 180238969.4928949, 235135934.78882372, 314661533.7574316, 265900788.6834076, 223114405.48553228, 221438116.56309137, 218763270.46163177, 207425108.6418014, 574260770.914319, 302434854.3202286, 366023744.3839905, 234919352.63985977, 258863934.55864662, 218678446.2567042, 122659963.35118255, 177106539.05904657, 154743485.17236233, 136621785.55004582, 187641041.95848125, 422196357.97756743, 270898293.9299277, 417480944.95418036, 313722890.3439339, 353843588.6010291, 206019298.1602108, 325395547.13083476, 347714950.57417816, 228439368.04922202, 329165467.57035744, 329874617.6796684, 230424225.6777672, 192007075.92692912, 188309704.08988208, 282550763.042527, 305328220.6695493, 213246267.2238223, 277155214.8539491, 330339460.1536655, 335477306.0914466, 454723299.435983, 415633660.4075642, 199551546.01490206, 474780503.31315875, 231795397.76102525, 385341879.65429485, 280871671.37839353, 240769497.90808135, 154881393.10605967, 260062016.0229537, 167253871.59066558, 375735418.8050993, 449529200.5036203, 212948772.61835906, 302870445.99099684, 217855102.6002414, 224691323.7405569, 352918642.3816827, 271412264.68184793, 483593578.49037486, 235433853.1774412, 379672364.8907999, 283544641.7600014, 355365253.09129024, 238088674.45120728, 270452700.93037426, 264784412.13017255, 210312102.50099438, 340282754.2631562, 338980269.3348557, 332810876.7019411, 452507922.81472564, 439716378.93040586, 243652923.18117723, 309901778.5433598, 225041714.2846332, 276867421.33648896, 226761028.40210876, 464996010.17762125, 308966877.3677626, 256214628.8621711, 404480148.6668229, 139605275.21923065, 145753736.43246076, 355372249.616308, 280192964.84645295, 297877303.2834073, 180019414.88338822, 272750702.0253184, 527011101.1771091, 358659880.77775174, 290224069.6813547, 238706461.97554004, 242127263.08514178, 141198486.91227987, 298569311.00502187, 361147773.972024, 166400192.53876522, 222343466.19768327, 189907191.6339969, 201842310.43650076, 279563752.9719455, 142947168.59202453, 335051525.6813528, 350562694.1237469, 253512118.3205428, 128365094.57388324, 199860537.65861306, 409696975.94693416, 118682586.2002687, 245801072.94738084, 188556077.82190844, 356381090.3225577, 221374476.3962429, 313011158.9886884, 329796947.25116086, 499101596.65085894, 257457361.47964448, 310201437.7804644, 171220620.9649188, 404057569.440033, 215431481.57135183, 229601476.03017882, 272837158.4970122, 167069401.2369634, 295802290.9359453, 375755835.4767934, 301988454.4092917, 165705410.18827748, 264078843.27567768, 349220125.98265237, 151600387.23790762, 194952209.7018493, 364810665.9445531, 299771314.38610256, 313823174.4287893, 502914623.57682526, 319616168.8848357, 339820552.7705363, 656280832.2474891, 256561977.65579084, 212882904.6979983, 315432324.2304799, 316575819.15965825, 232111120.58255827, 197590776.3625937, 579282224.1622498, 305311819.3224903, 217377095.9058557, 369510871.9233826, 265325175.22286317, 253367605.4677766, 329456782.06160796, 181995062.67591673, 307864172.227548, 511790136.3731266, 319370779.2522502, 243554108.43143535, 233569884.93542343, 240908906.1574518, 253279808.990367, 243429856.88603318, 369556660.3108475, 158442623.07917973, 363090810.0054193, 243283436.4151542, 310291975.56878304, 191750418.74075055, 422703533.5514315, 411402828.9782606, 374794444.78671867, 169623987.9791924, 359233581.66219795, 313102309.88544255, 164852818.94331846, 272657458.8294872, 309050345.91209364, 328796434.4418369, 290931449.8378854, 301822600.2341562, 443221087.82751393, 408779903.12107337, 115978623.81997168, 248180538.3969025, 260639577.92385745, 157531190.09828943, 283249927.9637315, 411822316.1145569, 194223788.78785, 306255350.84935117, 205044043.37507224, 221600600.81549072, 443769936.9673028, 230939545.48126394, 318961545.17800367, 151913107.5712794, 503379236.6037244, 333792985.2220642, 259151175.97164395, 330875704.87685126, 175335769.78510597, 403020165.7213974, 247660756.56595525, 257364267.21058154, 234725870.5049687, 228147552.36984146, 343896938.64478314, 298402405.15624493, 339145002.84577036, 274019728.97792494, 324265525.45755947, 240254064.98271167, 565151464.4892715, 166803901.1562491, 413462629.9433273, 428162914.40665203, 209237458.36784163, 565071774.6360373, 379197486.69819343, 376205038.32329684, 277283336.8251821, 256280612.3095426, 256923918.8136024, 311656515.2387553, 432845731.79671973, 291311667.36204815, 205329711.91275188, 358686373.16316575, 370138545.18304366, 339465159.6182361, 349613505.57745284, 251906338.07975355, 204187820.78336138, 208172966.0318637, 163292661.40598443, 296583437.5359341, 267523908.03412333, 238635189.49870193, 113369727.93038917, 184579501.92509335, 394996195.1252357, 222116044.9889977, 308657048.86812925, 176398676.15416878, 438188845.9359032, 262370410.36732632, 301706623.21795875, 582140631.5655528, 449477323.11899304, 249046375.31268442, 227234066.7412998, 247537037.9891918, 323919325.0354173, 265659463.52434468, 242075260.63955656, 442289607.7197389, 264894024.6935336, 577451101.4277633, 282936392.2034073, 490863972.413066, 308331034.37351584, 375205513.47320104, 217909287.73751432, 209130957.40820357, 318703133.6242428, 378342513.5879489, 278376751.2638514, 182311336.29713356, 178102763.0625382, 174379551.19482028, 156786425.10088104, 284648817.5855181, 395537622.6357093, 273612921.0048944, 136227248.3791327, 258465319.0788222, 260794525.28353542, 542391868.6662221, 172735747.18262398, 242429241.97127414, 478260802.81271374, 317702318.26979417, 329567749.1553775, 285116551.0089048, 305617533.09373003, 353275612.3137043, 212098038.39841065, 364990304.8821544, 177386913.47087622, 305462118.7299615, 291070198.1944836, 225567037.03937197, 272798791.65832, 225117874.28087056, 195141829.7059606, 245322191.2688326, 193153735.29501492, 304913298.8748508, 190351781.72393343, 345832402.43998736, 188467800.15020317, 229195639.16457903, 224969730.9678256, 422222705.83306503, 305651713.79643786, 256732416.06604606, 322749963.43257064, 142054174.2598143, 271011719.57934564, 526031059.95459116, 286752087.16052395, 280865031.7795385, 327951708.66339123, 367077600.2262947, 146444318.57207865, 160926333.19370565, 294045214.70833117, 218586295.64623204, 420417058.4855106, 248360580.91898686, 149092318.59797457, 183374535.9404953, 119559660.9828875, 254895634.5603466, 258662426.23928174, 239823023.21184984, 389632964.37938654, 405127263.7273735, 260160174.03298172, 140985783.35332727, 335378515.28060955, 328720335.45993185, 303596707.36680716, 377472778.8435572, 189464623.34633157, 527870337.0949532, 202222478.54729494, 350036192.9668533, 160679367.50099653, 204105066.01244247, 449466809.7035839, 252717261.2448102, 360496068.7496768, 296584085.71903944, 265682155.4691202, 427595613.70018363, 254688691.69788408, 156160144.32112858, 212520159.42121923, 328277064.62062424, 312158217.7420093, 166849758.9160271, 217927934.15481457, 228069641.34712213, 244392976.34962946, 177223851.37740472, 224699468.75592571, 217631770.0960839, 352579597.2388473, 356908082.87584233, 262220317.35213012, 242323593.5694182, 287452814.1193281, 211620033.2908616, 190548142.521753, 203460292.6775341, 224238153.15421534, 189545940.35487893, 289509877.5162081, 347827925.5364284, 165799379.12462166, 277025391.46215916, 256058020.61200836, 306760837.1684337, 273654885.25067824, 172928788.83822525, 183701193.57122546, 277408356.353244, 383328408.45009685, 137953293.56970054, 307178911.999876, 403953273.2018294, 261613764.5786586, 328171962.40305734, 219410411.4138928, 264455826.630853, 164042581.99728885, 133162152.06241997, 372749180.59793484, 200586884.16672027, 237452319.26272723, 176635295.32793403, 175327448.41006836, 259872401.12758216, 217564746.08504295, 310394552.09904116, 317965392.73373795, 304721636.6782473, 296741498.95598364, 458595360.73950475, 195396275.90126595, 269985888.0078371, 396524469.81279844, 413949099.32922554, 174675644.35126987, 248584928.53274208, 426795830.262182, 323728734.25918734, 292624219.31695074, 256242930.36090276, 242963311.54273576, 301529358.1338395, 253408811.07318985, 271060060.0106362, 281832587.0367239, 221165821.61729315, 326257891.44247925, 699714828.299964, 156338996.86852786, 305032922.20965266, 215453354.17218605, 331074618.7796071, 278941631.8009145, 351473894.3989805, 402098087.23255605, 292356304.69319767, 396442086.952091, 133163787.03949112, 460504943.8194493, 310103033.8063007, 389501548.47990584, 186189910.1608942, 210666229.0452327, 288010197.63080114, 273294495.72060066, 301028661.9823164, 390348926.54179955, 156901404.5779039, 376533181.3512521, 275528485.3516444, 257388013.10001388, 171975439.73839605, 323202302.9536873, 130680163.91546577, 338776546.89339614, 170840182.1817405, 279561619.84234697, 264472585.161982, 401316314.1808131, 259471033.28791565, 220035872.3732171, 233607396.38420478, 415077984.93630075, 326698239.810835, 242821140.68614972, 254706036.215588, 166843509.618119, 311449528.96980023, 157160470.19845828, 350328606.6795119, 286408290.96354234, 593262896.2141368, 193389877.2424326, 265878128.0490901, 492949096.60242015, 404186216.4157363, 219890487.5993104, 295344583.77866304, 274972407.1010283, 300920603.7800856, 219717544.69092754, 267019835.36099693, 165228146.76659214, 287008667.93989503, 317706666.49250764, 255444297.87465575, 164345766.55532798, 378339881.6919253, 309049402.54563636, 217811820.15038788, 251126762.37615895, 170379274.35219833, 198029448.6373464, 231289909.087486, 409098379.9977448, 223902905.58065253, 337879662.7888979, 231252616.57642055, 297637337.2962996, 262592173.76982063, 364397540.59546393, 231511641.31594414, 166562367.9776044, 176886218.59976807, 231728697.0612039, 184477734.81103808, 313644779.28826845, 236676188.21634525, 590999032.2930613, 158224710.82301813, 293414776.21049744, 191691764.22218677, 234594953.14114624, 287591282.9172126, 133847368.50413564, 296571722.13308334, 510109719.7850841, 237611014.21107727, 298778125.0683109, 382847151.1072185, 260697924.27911842, 228125064.46403506, 135661139.10929698, 337964752.832307, 264982624.37455016, 198831074.7271133, 286221581.11656654, 227927062.63028008, 231984311.42140377, 334186627.20257354, 179338528.56644103, 385648446.17740494, 176009004.31789497, 222252406.80223155, 513466900.2438386, 395835611.5897837, 283562038.77465945, 203440315.69493163, 231921614.97207838, 281350132.2038707, 278132083.7335732, 266886888.85762057, 272085305.1848365, 256515037.71847624, 173564302.14873573, 232869042.29833436, 369353989.41473925, 177648800.60176224, 258565245.17406836, 211406045.79502347, 284819806.18834877, 242587892.1763017, 443769941.44029146, 323572091.31904656, 180852007.37892306, 341293122.0364696, 214463338.99511427, 228413912.0673224, 304030873.2703307, 234718983.88949108, 366749721.8092449, 214473022.8936192, 225376139.719291, 222701552.95698148, 229243661.71469432, 392219683.49054486, 336631989.61767256, 478903141.5950611, 571789242.4079744, 197696162.01830518, 281091631.6407402, 188783224.20346463, 214261693.53873476, 224576819.08206475, 196044477.33596578, 196372417.38293648, 262348791.8498866, 186376132.9353266, 360754278.77409625, 204918289.7784289, 676985493.6068395, 237767105.33281666, 281236275.5571059, 181796052.62286553, 478298313.9905324, 394823753.5188962, 302376768.19532704, 178861824.0106535, 294080819.83941716, 192088499.41839457, 441591838.49914616, 356916591.396385, 283364476.56296134, 129900278.72715649, 200687493.4542086, 343127355.6270504, 407029907.2075392, 393496882.39249074, 165542833.48759913, 302829548.2578404, 381676754.4580199, 162120993.57194784, 274098165.5735209, 300133906.50532, 249509608.6359317, 152797042.64263088, 247524901.53279394, 247397523.0670752, 262030013.37124655, 229402354.7373155, 238404498.23681462, 271310397.63618124, 316930482.3002432, 249217066.66107923, 240962170.85745344, 283083202.6377811, 149672608.40975025, 320494136.10877264, 274745935.1480749, 278326338.4829511, 374933907.6781943, 148317177.57664427, 147432056.1897203, 300130173.4333529, 274167588.7246072, 290268062.2783662, 236951849.9945652, 340533456.9142525, 371523694.29757774, 321215066.94761115, 252723041.7381578, 142034775.83517316, 352316848.4669296, 408206116.80226207, 338355709.42373824, 207416348.94072986, 341577176.37103313, 362917402.0697822, 455757402.56960034, 207649491.87788403, 255523336.42546105, 349814696.73642015, 279917356.0254325, 192338551.96999973, 314091507.8803526, 331209621.83888316, 282683341.3990376, 294927555.0765601, 252895030.48604527, 443898506.4779023, 206032713.49446136, 227662355.95373744, 275768144.56712204, 365096526.2859925, 170556530.45153752, 180938183.2187853, 144797806.76637393, 277700451.9162449, 192278911.49482825, 242905067.6665933, 340205187.6168696, 223757301.16413313, 296041987.17316854, 249623670.95414534, 341391192.89200836, 320296527.78098476, 220190578.26569456, 260305189.53699577, 385200206.7675997, 311943242.0954749, 176049267.55755192, 339570635.218534, 194344395.0631353, 434451640.28765875, 382744619.7533653, 301691541.04336524, 289060024.4203353, 256954950.03956658, 342101299.17039204, 243978062.34222922, 296451602.4195694, 364264686.27843237, 229524336.20645314, 225574259.65544972, 187700093.8634492, 195589841.20245278, 153907309.7576445, 347840688.7446599, 494664478.70259875, 436276106.24898684, 163775650.13827133, 347279899.1206482, 435816593.44868493, 237354999.3453384, 283913122.8333331, 146011050.06842124, 299446626.02385974, 195646504.06327578, 293036875.4712044, 167157967.44447145, 327392751.7080067, 382796182.0405295, 213881752.70130193, 191147534.15806943, 140164035.9671972, 252271068.6622758, 228078917.95546153, 167695413.54926452, 318014777.5306802, 237874635.64620024, 194892236.70056328, 230055145.81410897, 388672909.3842824, 333823745.3223713, 263552305.65277985, 335576689.0852466, 189699862.3462301, 277671410.2489067, 288138630.5868975, 236368573.88986677, 316214502.5088407, 214068870.74504167, 323911198.7594147, 328347955.0913326, 114493002.78476322, 404043356.11882436, 111547029.87001169, 225584603.99840182, 382900286.3868318, 248192607.38273063, 172243171.56198034, 193782682.59910285, 383094490.38869965, 149647465.61624846, 396046762.47333217, 269971380.2209415, 187817254.14775467, 227968195.14042786, 198544683.2182332, 363589589.98657435, 348134079.5722111, 159124158.87993208, 241429544.63947958, 208504810.9344411, 417882750.6461641, 178675548.98426232, 462588354.5429339, 271870059.67292583, 189638415.3832953, 221222053.5256185, 212629866.61948246, 182991743.08101156, 283308638.29501724, 185716587.32244384, 139233450.74584448, 243284219.23577788, 155110163.0308761, 216005064.84096926, 205482552.09932274, 207972933.5537404, 526594606.51349205, 279827435.71755284, 297390108.6506199, 156367066.4931349, 222872629.71447378, 294520651.7746625, 198084847.68190613, 368567020.6869448, 187205502.84502643, 250663248.3599611, 227754602.0114348, 289720863.4146471, 223832446.07009703, 251909123.47796905, 254731869.1809526, 217231538.42395633, 321330574.7544515, 296721172.54485494, 267080431.79675066, 239363565.0710016, 355453637.5822352, 254756032.09049383, 249035871.64947674, 284209673.34787405, 476809312.70326734, 179226663.81808618, 352387825.6467659, 150901690.3979065, 294707818.6988893, 458192130.333881, 321702322.5089033, 290309979.2586937, 229623815.34456587, 277553275.02618057, 253434099.67718905, 213691379.77763402, 250381550.28420612, 292918466.6449247, 214971712.96674845, 212314489.85040075, 178103603.34903148, 311676092.9286008, 327654072.52782655, 296078113.88576573, 375475326.60116273, 282674673.5081837, 311805607.13756263, 303052964.6437193, 266829540.46540344, 231806850.54213044, 562449283.020133]
thresholds = [180747667.16345206, 273639694.9985982, 416171805.5428873]
display_name = "Total Annual Treaty System Costs"
units = "USD/year"

# Calculate exceedance probabilities (1 - CDF)

sorted_samples = np.sort(samples)
exceedance = 1 - np.arange(1, len(sorted_samples) + 1) / len(sorted_samples)

# Create figure

fig, ax = plt.subplots(figsize=(10, 6))

# Plot exceedance curve

ax.plot(sorted_samples, exceedance * 100, color=COLOR_BLACK, linewidth=2.5)
ax.fill_between(sorted_samples, 0, exceedance * 100, alpha=0.1, color=COLOR_BLACK)

# Apply tick formatter for readable labels (K, M, B suffixes, $ for USD)

ax.xaxis.set_major_formatter(get_tick_formatter(unit=units))

# Annotate thresholds

for thresh in thresholds:
    exceed_pct = (np.array(samples) >= thresh).sum() / len(samples) * 100
    ax.axvline(thresh, color=COLOR_BLACK, linestyle='--', linewidth=1, alpha=0.5)
    ax.axhline(exceed_pct, color=COLOR_BLACK, linestyle=':', linewidth=1, alpha=0.3)

    # Add label with formatted threshold value (use format_parameter_value for full units)
    ax.annotate(f'{exceed_pct:.0f}% chance\nâ‰¥ {format_parameter_value(thresh, units)}',
                xy=(thresh, exceed_pct), xytext=(thresh * 1.05, exceed_pct + 5),
                fontsize=10, ha='left', weight='bold',
                bbox=dict(boxstyle='round,pad=0.3', facecolor=COLOR_WHITE, edgecolor=COLOR_BLACK, alpha=0.9))

ax.set_xlabel(f'{display_name} ({units})' if units else display_name, fontsize=12)
ax.set_ylabel('Probability of Exceeding Value (%)', fontsize=12)
ax.set_title(f'Exceedance Probability: {display_name}', fontsize=14, weight='bold', pad=15)
ax.set_ylim(0, 100)
ax.set_xlim(left=min(sorted_samples) * 0.95)

clean_spines(ax)
add_watermark(fig)

# Save PNG to knowledge/figures/ regardless of where Quarto renders from

output_path = get_figure_output_path('exceedance-treaty_total_annual_costs.png')
plt.savefig(output_path, dpi=150, bbox_inches='tight', facecolor=COLOR_WHITE)

add_png_metadata(
    output_path,
    title=f'Exceedance: {display_name}',
    description=f'Probability of {display_name} exceeding various thresholds'
)

plt.show()
```

*This exceedance probability chart shows the likelihood that Total Annual Treaty System Costs will exceed any given threshold. Higher curves indicate more favorable outcomes with greater certainty.*
