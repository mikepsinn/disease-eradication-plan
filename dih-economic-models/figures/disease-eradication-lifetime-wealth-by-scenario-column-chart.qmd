```{python}
#| echo: false
from economic_parameters import *
```

```{python}
#| echo: false
import matplotlib.pyplot as plt
import numpy as np
from pathlib import Path

# Find project root dynamically

# Add paths

from economic_parameters import calculate_personal_lifetime_wealth_disease_eradication
from figures._chart_style import (
    setup_chart_style, add_watermark, clean_spines, add_png_metadata,
    COLOR_BLACK, COLOR_WHITE, PATTERN_DIAGONAL, get_project_root, get_figure_output_path)

setup_chart_style()

# Define scenarios

scenarios = [
    ('Young\nProfessional\n(Age 25,\n$60K)', 25, 60000, 0.01),
    ('Mid-Career\n(Age 40,\n$75K)', 40, 75000, 0.01),
    ('Near\nRetirement\n(Age 60,\n$80K)', 60, 80000, 0.01),
    ('Low Income\n(Age 30,\n$30K)', 30, 30000, 0.01),
    ('High Income\n(Age 35,\n$150K)', 35, 150000, 0.01),
]

# Calculate benefits for each scenario using Disease Eradication Model (20-year scenario)
# NOTE: This is the REALISTIC model (115x cumulative research, 72yr life extension)

scenario_names = []
benefits = []
life_extensions = []

for name, age, income, treaty_pct in scenarios:
    calc = calculate_personal_lifetime_wealth_disease_eradication(
        treaty_pct=treaty_pct,
        current_age=age,
        annual_income=income,
        years_elapsed=20,  # 20-year scenario (DEFAULT)
        discount_rate=0.03
    )
    scenario_names.append(name)
    benefits.append(calc['total_lifetime_benefit'])
    life_extensions.append(calc['life_extension_years'])

# Create figure

fig, ax = plt.subplots(figsize=(14, 10))

# Create bars

x_positions = np.arange(len(scenario_names))
bars = ax.bar(x_positions, benefits, width=0.7,
              color=COLOR_WHITE, edgecolor=COLOR_BLACK, linewidth=2)

# Add value labels on top of bars

for i, (x, benefit) in enumerate(zip(x_positions, benefits)):
    ax.text(x, benefit + 100000, f'${benefit/1000000:.1f}M',
            ha='center', va='bottom', fontsize=32, weight='bold', color=COLOR_BLACK)

# Add life extension labels inside bars

for i, (x, benefit, life_ext) in enumerate(zip(x_positions, benefits, life_extensions)):
    ax.text(x, benefit * 0.5, f'+{life_ext:.0f} yrs',
            ha='center', va='center', fontsize=32, weight='bold', color=COLOR_BLACK)

# Set labels and title

ax.set_xticks(x_positions)
ax.set_xticklabels(scenario_names, fontsize=32, weight='normal')
ax.set_ylabel('Total Wealth Gained (Beyond Normal Income)', fontsize=22, weight='bold')
ax.set_title('How Much Different People Gain from the 1% Treaty\n(Young vs Old, Low vs High Income)',
             fontsize=32, weight='bold', pad=20)

# Format y-axis to show millions

ax.yaxis.set_major_formatter(plt.FuncFormatter(lambda y, p: f'${y/1000000:.1f}M'))

# Clean up spines

clean_spines(ax, positions=['top', 'right'])

# Add watermark

add_watermark(fig)

# Save figure

output_dir = get_project_root() / 'brain' / 'figures'
output_dir.mkdir(parents=True, exist_ok=True)
output_path = output_dir / 'disease-eradication-lifetime-wealth-by-scenario-column-chart.png'

plt.savefig(output_path, dpi=200, bbox_inches=None, facecolor=COLOR_WHITE)

# Add metadata

add_png_metadata(
    output_path,
    title="Personal Lifetime Wealth by Scenario (Disease Eradication Model)",
    description="Comparison using Disease Eradication Model with 20-year scenario (72yr life extension)"
)

plt.show()
```

*Uses Disease Eradication Model (20-year scenario, 72yr life extension, 1% treaty). Numbers on bars show total lifetime benefit; numbers inside bars show life extension years.*