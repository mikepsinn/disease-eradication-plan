```{python}
#| echo: false
import sys
import os

# Quarto executes from project root (execute-dir: project in _book.yml)

appendix_path = os.path.join(os.getcwd(), 'brain', 'book', 'appendix')
if appendix_path not in sys.path:
    sys.path.insert(0, appendix_path)

from economic_parameters import *
```

```{python}
#| label: trial-access-disparity-chart
#| echo: false
import matplotlib.pyplot as plt
from pathlib import Path
import sys

# --- Find project root dynamically to import shared modules ---

project_root = Path.cwd()
while project_root.name != 'decentralized-institutes-of-health' and project_root.parent != project_root:
    project_root = project_root.parent
if str(project_root) not in sys.path:
    sys.path.append(str(project_root))

# --- Import centralized style and constants ---

from _chart_style import (
    setup_chart_style, add_watermark, clean_spines,
    COLOR_BLACK, COLOR_WHITE, add_png_metadata, PATTERN_DIAGONAL
)

# --- Setup Chart Style ---

setup_chart_style()
fig, ax = plt.subplots(figsize=(18, 10))

# --- Data ---

categories = [
    'Patients Who\nGet to Try\nInnovative\nNew Treatments',
    'Patients Who\nWant to Try\nInnovative\nNew Treatments',
    'Patients With\nUncured\nDiseases'
]
values = [5, 1200, 2400]  # In millions (5M actual, 1.2B willing [50% of 2.4B], 2.4B total)

# --- Create Bars ---

colors = [COLOR_WHITE, COLOR_WHITE, COLOR_BLACK]
hatches = [None, PATTERN_DIAGONAL, None]
bars = ax.bar(
    categories,
    values,
    color=colors,
    edgecolor=COLOR_BLACK,
    linewidth=2,
    width=0.6,
    hatch=hatches
)

# --- Add Value Labels ---
# Bar 1: 5M enrolled - black text above

ax.annotate(
    'Get Access:\n5 Million patients',
    xy=(bars[0].get_x() + bars[0].get_width() / 2, values[0]),
    xytext=(0, 10),
    textcoords="offset points",
    ha='center', va='bottom',
    fontsize=24, weight='bold',
    color=COLOR_BLACK,
    fontname='Courier New',
    linespacing=1.3
)

# Bar 2: 1.2B willing - black text above

ax.annotate(
    'Willing to Participate:\n1.2 Billion patients',
    xy=(bars[1].get_x() + bars[1].get_width() / 2, values[1]),
    xytext=(0, 10),
    textcoords="offset points",
    ha='center', va='bottom',
    fontsize=26, weight='bold',
    color=COLOR_BLACK,
    fontname='Courier New',
    linespacing=1.3
)

# Bar 3: 2.4B total - white text inside top

ax.annotate(
    'Living with\nDisease:\n2.4 Billion\npatients',
    xy=(bars[2].get_x() + bars[2].get_width() / 2, values[2]),
    xytext=(0, -70),
    textcoords="offset points",
    ha='center', va='top',
    fontsize=28, weight='bold',
    color=COLOR_WHITE,
    fontname='Courier New',
    linespacing=1.3
)

# --- Titles ---

ax.set_title(
    'Clinical Trial Participation:\n240x More Willing Participants Than We Use',
    fontsize=36,
    weight='bold',
    pad=30,
    color=COLOR_BLACK,
    fontname='Courier New',
    linespacing=1.3
)

# --- Remove Y-Axis (Tufte principle - data labels make it redundant) ---

ax.get_yaxis().set_visible(False)

# --- Remove X-Axis (labels integrated into bars) ---

ax.get_xaxis().set_visible(False)

# --- Clean Spines ---

clean_spines(ax, positions=['top', 'right', 'left', 'bottom'])

# --- Y-axis limit to show disparity ---

ax.set_ylim(0, 2600)

# --- Grid ---

ax.yaxis.grid(True, linestyle='--', linewidth=0.5, color='gray', alpha=0.3)
ax.set_axisbelow(True)

# --- Add Watermark ---

add_watermark(fig)

# --- Save and Show Plot ---

output_dir = project_root / 'dih-economic-models' / 'figures'
output_dir.mkdir(parents=True, exist_ok=True)
filename = Path(__file__).stem if '__file__' in locals() else 'trial-access-disparity-chart'
output_path = output_dir / f'{filename}.png'

plt.tight_layout()
plt.savefig(output_path, dpi=200, bbox_inches=None, facecolor=COLOR_WHITE)
add_png_metadata(output_path, title='The Access Lottery', description='Comparing annual clinical trial participants to people living with chronic diseases globally')
plt.show()
```

**Source:** [Clinical Trials.gov enrollment data (2025)](../book/references.qmd#clinicaltrials-gov-enrollment-data-2025); [Global Burden of Disease Study 2013](../book/references.qmd#global-burden-disease-chronic-conditions-2013)